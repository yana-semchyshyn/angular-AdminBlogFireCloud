(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return u}));var r=n("uXP2"),i=n("qOnz"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),o="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=o);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:o,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var s=this.getOrInitializeService(i);if(!s){if(n)return null;throw Error("Service "+this.name+" is not available")}return s}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(o)}catch(h){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=Object(r.e)(s.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService(c);u.resolve(l)}catch(h){}}}catch(d){e={error:d}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=o),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===o?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:o:t},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("lJxs"),i=n("Cfvw"),s=n("zx2A");function o(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(o((n,s)=>Object(i.a)(t(n,s)).pipe(Object(r.a)((t,r)=>e(n,t,s,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends s.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new s.a(this),n=this.destination;n.add(e);const r=Object(s.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("n6bG"),i=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n("HDdC"),i=n("SeVD"),s=n("quSY"),o=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>{const i=t[o.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new s.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("3N8a");const i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return s}));var r=n("HDdC");const i=new r.a(t=>t.complete());function s(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("7o/Q"),i=n("2QA8"),s=n("gRHU"),o=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(s.a)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",(function(){return r.a})),r.a.registerVersion("firebase","8.0.2","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("z+Ro"),i=n("yCtX"),s=n("jZKg");function o(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(s.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",(function(){return i}));const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",(function(){return r}))},SeVD:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("ngJS"),i=n("NJ4a"),s=n("Lhse"),o=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[o.a])return l=t,t=>{const e=l[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[s.a])return e=t,t=>{const n=e[s.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",(function(){return r}))},VRyK:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(s.a)(e)(Object(o.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return l}));var r=n("HDdC"),i=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return r}))},Ylt2:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("5+tZ"),i=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return r}))},fXoL:function(t,e,n){"use strict";n.d(e,"a",(function(){return js})),n.d(e,"b",(function(){return Pu})),n.d(e,"c",(function(){return Tu})),n.d(e,"d",(function(){return Su})),n.d(e,"e",(function(){return Eu})),n.d(e,"f",(function(){return wc})),n.d(e,"g",(function(){return hc})),n.d(e,"h",(function(){return gs})),n.d(e,"i",(function(){return Bu})),n.d(e,"j",(function(){return da})),n.d(e,"k",(function(){return Ru})),n.d(e,"l",(function(){return fa})),n.d(e,"m",(function(){return Fn})),n.d(e,"n",(function(){return au})),n.d(e,"o",(function(){return tt})),n.d(e,"p",(function(){return y})),n.d(e,"q",(function(){return Y})),n.d(e,"r",(function(){return As})),n.d(e,"s",(function(){return Aa})),n.d(e,"t",(function(){return ja})),n.d(e,"u",(function(){return ju})),n.d(e,"v",(function(){return gt})),n.d(e,"w",(function(){return fc})),n.d(e,"x",(function(){return pt})),n.d(e,"y",(function(){return oc})),n.d(e,"z",(function(){return Gu})),n.d(e,"A",(function(){return v})),n.d(e,"B",(function(){return Nu})),n.d(e,"C",(function(){return Iu})),n.d(e,"D",(function(){return ba})),n.d(e,"E",(function(){return ga})),n.d(e,"F",(function(){return ma})),n.d(e,"G",(function(){return va})),n.d(e,"H",(function(){return Tr})),n.d(e,"I",(function(){return w})),n.d(e,"J",(function(){return mc})),n.d(e,"K",(function(){return La})),n.d(e,"L",(function(){return Yu})),n.d(e,"M",(function(){return bs})),n.d(e,"N",(function(){return wa})),n.d(e,"O",(function(){return _a})),n.d(e,"P",(function(){return Va})),n.d(e,"Q",(function(){return St})),n.d(e,"R",(function(){return ac})),n.d(e,"S",(function(){return nr})),n.d(e,"T",(function(){return F})),n.d(e,"U",(function(){return er})),n.d(e,"V",(function(){return vc})),n.d(e,"W",(function(){return nc})),n.d(e,"X",(function(){return Au})),n.d(e,"Y",(function(){return ys})),n.d(e,"Z",(function(){return Zo})),n.d(e,"ab",(function(){return Sr})),n.d(e,"bb",(function(){return ar})),n.d(e,"cb",(function(){return $n})),n.d(e,"db",(function(){return Kn})),n.d(e,"eb",(function(){return Zn})),n.d(e,"fb",(function(){return Jn})),n.d(e,"gb",(function(){return Qn})),n.d(e,"hb",(function(){return Xn})),n.d(e,"ib",(function(){return Ko})),n.d(e,"jb",(function(){return yc})),n.d(e,"kb",(function(){return Qo})),n.d(e,"lb",(function(){return Jo})),n.d(e,"mb",(function(){return Wn})),n.d(e,"nb",(function(){return G})),n.d(e,"ob",(function(){return zs})),n.d(e,"pb",(function(){return co})),n.d(e,"qb",(function(){return uo})),n.d(e,"rb",(function(){return Wo})),n.d(e,"sb",(function(){return ue})),n.d(e,"tb",(function(){return M})),n.d(e,"ub",(function(){return Gn})),n.d(e,"vb",(function(){return Ds})),n.d(e,"wb",(function(){return ne})),n.d(e,"xb",(function(){return ca})),n.d(e,"yb",(function(){return Kr})),n.d(e,"zb",(function(){return Qs})),n.d(e,"Ab",(function(){return xo})),n.d(e,"Bb",(function(){return To})),n.d(e,"Cb",(function(){return vu})),n.d(e,"Db",(function(){return kt})),n.d(e,"Eb",(function(){return Mt})),n.d(e,"Fb",(function(){return E})),n.d(e,"Gb",(function(){return T})),n.d(e,"Hb",(function(){return At})),n.d(e,"Ib",(function(){return Dt})),n.d(e,"Jb",(function(){return Zs})),n.d(e,"Kb",(function(){return io})),n.d(e,"Lb",(function(){return oo})),n.d(e,"Mb",(function(){return so})),n.d(e,"Nb",(function(){return ro})),n.d(e,"Ob",(function(){return no})),n.d(e,"Pb",(function(){return ao})),n.d(e,"Qb",(function(){return Rn})),n.d(e,"Rb",(function(){return Bo})),n.d(e,"Sb",(function(){return lt})),n.d(e,"Tb",(function(){return Ys})),n.d(e,"Ub",(function(){return Cu})),n.d(e,"Vb",(function(){return lo})),n.d(e,"Wb",(function(){return _u})),n.d(e,"Xb",(function(){return po})),n.d(e,"Yb",(function(){return nu})),n.d(e,"Zb",(function(){return ru})),n.d(e,"ac",(function(){return iu})),n.d(e,"bc",(function(){return bo})),n.d(e,"cc",(function(){return mo})),n.d(e,"dc",(function(){return to})),n.d(e,"ec",(function(){return Ja})),n.d(e,"fc",(function(){return Xa})),n.d(e,"gc",(function(){return Za})),n.d(e,"hc",(function(){return yu})),n.d(e,"ic",(function(){return Xs})),n.d(e,"jc",(function(){return Zt})),n.d(e,"kc",(function(){return ke})),n.d(e,"lc",(function(){return xr})),n.d(e,"mc",(function(){return kr})),n.d(e,"nc",(function(){return jt})),n.d(e,"oc",(function(){return Eo})),n.d(e,"pc",(function(){return Ho})),n.d(e,"qc",(function(){return Js})),n.d(e,"rc",(function(){return Ou})),n.d(e,"sc",(function(){return Fo})),n.d(e,"tc",(function(){return Vo})),n.d(e,"uc",(function(){return Uo})),n.d(e,"vc",(function(){return qo}));var r=n("XNiG"),i=n("quSY"),s=n("HDdC"),o=n("VRyK"),a=n("7o/Q");function u(){return function(t){return t.lift(new c(t))}}class c{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new l(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class l extends a.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class h extends s.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new i.a,t.add(this.source.subscribe(new f(this.getSubject(),this))),t.closed&&(this._connection=null,t=i.a.EMPTY)),t}refCount(){return u()(this)}}const d=(()=>{const t=h.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class f extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function p(){return new r.a}function g(t){return{toString:t}.toString()}const m="__parameters__";function b(t,e,n){return g(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(m)?t[m]:Object.defineProperty(t,m,{value:[]})[m];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const y=b("Inject",t=>({token:t})),v=b("Optional"),_=b("Self"),w=b("SkipSelf");var O=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function C(t){for(let e in t)if(t[e]===C)return e;throw Error("Could not find renamed property on target object.")}function S(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function E(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function T(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function x(t){return k(t,t[N])||k(t,t[j])}function k(t,e){return e&&e.token===t?e:null}function I(t){return t&&(t.hasOwnProperty(P)||t.hasOwnProperty(R))?t[P]:null}const N=C({"\u0275prov":C}),P=C({"\u0275inj":C}),A=C({"\u0275provFallback":C}),j=C({ngInjectableDef:C}),R=C({ngInjectorDef:C});function M(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(M).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function D(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const L=C({__forward_ref__:C});function F(t){return t.__forward_ref__=F,t.toString=function(){return M(this())},t}function V(t){return U(t)?t():t}function U(t){return"function"==typeof t&&t.hasOwnProperty(L)&&t.__forward_ref__===F}const q="undefined"!=typeof globalThis&&globalThis,B="undefined"!=typeof window&&window,H="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,z="undefined"!=typeof global&&global,G=q||z||B||H,$=C({"\u0275cmp":C}),W=C({"\u0275dir":C}),K=C({"\u0275pipe":C}),Q=C({"\u0275mod":C}),J=C({"\u0275loc":C}),X=C({"\u0275fac":C}),Z=C({__NG_ELEMENT_ID__:C});class Y{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=E({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const tt=new Y("INJECTOR",-1),et={},nt=/\n/gm,rt="__source",it=C({provide:String,useValue:C});let st,ot=void 0;function at(t){const e=ot;return ot=t,e}function ut(t){const e=st;return st=t,e}function ct(t,e=O.Default){if(void 0===ot)throw new Error("inject() must be called from an injection context");return null===ot?ht(t,void 0,e):ot.get(t,e&O.Optional?null:void 0,e)}function lt(t,e=O.Default){return(st||ct)(V(t),e)}function ht(t,e,n){const r=x(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&O.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${M(t)}]`)}function dt(t){const e=[];for(let n=0;n<t.length;n++){const r=V(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=O.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof v||"Optional"===i.ngMetadataName||i===v?n|=O.Optional:i instanceof w||"SkipSelf"===i.ngMetadataName||i===w?n|=O.SkipSelf:i instanceof _||"Self"===i.ngMetadataName||i===_?n|=O.Self:t=i instanceof y||i===y?i.token:i}e.push(lt(t,n))}else e.push(lt(r))}return e}class ft{get(t,e=et){if(e===et){const e=new Error(`NullInjectorError: No provider for ${M(t)}!`);throw e.name="NullInjectorError",e}return e}}class pt{}class gt{}function mt(t,e){t.forEach(t=>Array.isArray(t)?mt(t,e):e(t))}function bt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function yt(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function vt(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function _t(t,e,n){let r=Ot(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function wt(t,e){const n=Ot(t,e);if(n>=0)return t[1|n]}function Ot(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}var Ct=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),St=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const Et={},Tt=[];let xt=0;function kt(t){return g(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Ct.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Tt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||St.Emulated,id:"c",styles:t.styles||Tt,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,s=t.pipes;return n.id+=xt++,n.inputs=Rt(t.inputs,e),n.outputs=Rt(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(It):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(Nt):null,n})}function It(t){return Lt(t)||function(t){return t[W]||null}(t)}function Nt(t){return function(t){return t[K]||null}(t)}const Pt={};function At(t){const e={type:t.type,bootstrap:t.bootstrap||Tt,declarations:t.declarations||Tt,imports:t.imports||Tt,exports:t.exports||Tt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&g(()=>{Pt[t.id]=t.type}),e}function jt(t,e){return g(()=>{const n=Vt(t,!0);n.declarations=e.declarations||Tt,n.imports=e.imports||Tt,n.exports=e.exports||Tt})}function Rt(t,e){if(null==t)return Et;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const Mt=kt;function Dt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Lt(t){return t[$]||null}function Ft(t,e){return t.hasOwnProperty(X)?t[X]:null}function Vt(t,e){const n=t[Q]||null;if(!n&&!0===e)throw new Error(`Type ${M(t)} does not have '\u0275mod' property.`);return n}const Ut=20,qt=10;function Bt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Ht(t){return Array.isArray(t)&&!0===t[1]}function zt(t){return 0!=(8&t.flags)}function Gt(t){return 2==(2&t.flags)}function $t(t){return 1==(1&t.flags)}function Wt(t){return null!==t.template}function Kt(t){return 0!=(512&t[2])}function Qt(t){return"string"==typeof t?t:null==t?"":""+t}function Jt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Qt(t)}const Xt=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(G))();function Zt(t){return{name:"window",target:t.ownerDocument.defaultView}}function Yt(t){return t instanceof Function?t():t}function te(t,e){const n=e?" in "+e:"";throw new Error(`No provider for ${Jt(t)} found${n}`)}class ee{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function ne(){return re}function re(t){return t.type.prototype.ngOnChanges&&(t.setInput=se),ie}function ie(){const t=oe(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===Et)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function se(t,e,n,r){const i=oe(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:Et,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new ee(u&&u.currentValue,e,o===Et),t[r]=e}function oe(t){return t.__ngSimpleChanges__||null}ne.ngInherit=!0;let ae=void 0;function ue(t){ae=t}function ce(){return void 0!==ae?ae:"undefined"!=typeof document?document:void 0}function le(t){return!!t.listen}const he={createRenderer:(t,e)=>ce()};function de(t){for(;Array.isArray(t);)t=t[0];return t}function fe(t,e){return de(e[t+Ut])}function pe(t,e){return de(e[t.index])}function ge(t,e){return t.data[e+Ut]}function me(t,e){return t[e+Ut]}function be(t,e){const n=e[t];return Bt(n)?n:n[0]}function ye(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function ve(t){return 4==(4&t[2])}function _e(t){return 128==(128&t[2])}function we(t,e){return null===t||null==e?null:t[e]}function Oe(t){t[18]=0}function Ce(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Se={lFrame:We(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ee(){return Se.bindingsEnabled}function Te(){return Se.lFrame.lView}function xe(){return Se.lFrame.tView}function ke(t){Se.lFrame.contextLView=t}function Ie(){return Se.lFrame.currentTNode}function Ne(t,e){Se.lFrame.currentTNode=t,Se.lFrame.isParent=e}function Pe(){return Se.lFrame.isParent}function Ae(){Se.lFrame.isParent=!1}function je(){return Se.isInCheckNoChangesMode}function Re(t){Se.isInCheckNoChangesMode=t}function Me(){const t=Se.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function De(){return Se.lFrame.bindingIndex}function Le(){return Se.lFrame.bindingIndex++}function Fe(t){const e=Se.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Ve(t,e){const n=Se.lFrame;n.bindingIndex=n.bindingRootIndex=t,Ue(e)}function Ue(t){Se.lFrame.currentDirectiveIndex=t}function qe(t){const e=Se.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function Be(){return Se.lFrame.currentQueryIndex}function He(t){Se.lFrame.currentQueryIndex=t}function ze(t,e){const n=$e();Se.lFrame=n,n.currentTNode=e,n.lView=t}function Ge(t){const e=$e(),n=t[1];Se.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex}function $e(){const t=Se.lFrame,e=null===t?null:t.child;return null===e?We(t):e}function We(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function Ke(){const t=Se.lFrame;return Se.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Qe=Ke;function Je(){const t=Ke();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Xe(){return Se.lFrame.selectedIndex}function Ze(t){Se.lFrame.selectedIndex=t}function Ye(){const t=Se.lFrame;return ge(t.tView,t.selectedIndex)}function tn(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function en(t,e,n){sn(t,e,3,n)}function nn(t,e,n,r){(3&t[2])===n&&sn(t,e,n,r)}function rn(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function sn(t,e,n,r){const i=null!=r?r:-1;let s=0;for(let o=void 0!==r?65535&t[18]:0;o<e.length;o++)if("number"==typeof e[o+1]){if(s=e[o],null!=r&&s>=r)break}else e[o]<0&&(t[18]+=65536),(s<i||-1==i)&&(on(t,n,e,o),t[18]=(4294901760&t[18])+o+2),o++}function on(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,s.call(o)):s.call(o)}const an=-1;class un{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function cn(t,e,n){const r=le(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];hn(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function ln(t){return 3===t||4===t||6===t}function hn(t){return 64===t.charCodeAt(0)}function dn(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||fn(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function fn(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function pn(t){return t!==an}function gn(t){return 32767&t}function mn(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let bn=!0;function yn(t){const e=bn;return bn=t,e}let vn=0;function _n(t,e){const n=On(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,wn(r.data,t),wn(e,null),wn(r.blueprint,null));const i=Cn(t,e),s=t.injectorIndex;if(pn(i)){const t=gn(i),n=mn(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function wn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function On(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Cn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return an;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return an}function Sn(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Z)&&(r=n[Z]),null==r&&(r=n[Z]=vn++);const i=255&r,s=1<<i,o=64&i,a=32&i,u=e.data;128&i?o?a?u[t+7]|=s:u[t+6]|=s:a?u[t+5]|=s:u[t+4]|=s:o?a?u[t+3]|=s:u[t+2]|=s:a?u[t+1]|=s:u[t]|=s}(t,e,n)}function En(t,e,n,r=O.Default,i){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Z)?t[Z]:void 0;return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof i){ze(e,t);try{const t=i();if(null!=t||r&O.Optional)return t;te(n)}finally{Qe()}}else if("number"==typeof i){if(-1===i)return new An(t,e);let s=null,o=On(t,e),a=an,u=r&O.Host?e[16][6]:null;for((-1===o||r&O.SkipSelf)&&(a=-1===o?Cn(t,e):e[o+8],a!==an&&Pn(r,!1)?(s=e[1],o=gn(a),e=mn(a,e)):o=-1);-1!==o;){const t=e[1];if(Nn(i,o,t.data)){const t=xn(o,e,n,s,r,u);if(t!==Tn)return t}a=e[o+8],a!==an&&Pn(r,e[1].data[o+8]===u)&&Nn(i,o,e)?(s=t,o=gn(a),e=mn(a,e)):o=-1}}}if(r&O.Optional&&void 0===i&&(i=null),0==(r&(O.Self|O.Host))){const t=e[9],s=ut(void 0);try{return t?t.get(n,i,r&O.Optional):ht(n,i,r&O.Optional)}finally{ut(s)}}if(r&O.Optional)return i;te(n,"NodeInjector")}const Tn={};function xn(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],u=kn(a,o,n,null==r?Gt(a)&&bn:r!=o&&2===a.type,i&O.Host&&s===a);return null!==u?In(e,o,u,a):Tn}function kn(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,c=s>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=o[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=o[u];if(t&&Wt(t)&&t.type===n)return u}return null}function In(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof un){const o=i;o.resolving&&function(t,e){throw new Error("Circular dependency in DI detected for "+t)}(Jt(s[n]));const a=yn(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?ut(o.injectImpl):null;ze(t,r);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const r=re(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&ut(u),yn(a),o.resolving=!1,Qe()}}return i}function Nn(t,e,n){const r=64&t,i=32&t;let s;return s=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(s&1<<t)}function Pn(t,e){return!(t&O.Self||t&O.Host&&e)}class An{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return En(this._tNode,this._lView,t,void 0,e)}}function jn(t){const e=t;if(U(t))return()=>{const t=jn(V(e));return t?t():null};let n=Ft(e);if(null===n){const t=I(e);n=t&&t.factory}return n||null}function Rn(t){return g(()=>{const e=t.prototype.constructor,n=e[X]||jn(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[X]||jn(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function Mn(t){return t.ngDebugContext}function Dn(t){return t.ngOriginalError}function Ln(t,...e){t.error(...e)}class Fn{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Ln}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Mn(t)?Mn(t):this._findContext(Dn(t)):null}_findOriginalError(t){let e=Dn(t);for(;e&&Dn(e);)e=Dn(e);return e}}class Vn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class Un extends Vn{getTypeName(){return"HTML"}}class qn extends Vn{getTypeName(){return"Style"}}class Bn extends Vn{getTypeName(){return"Script"}}class Hn extends Vn{getTypeName(){return"URL"}}class zn extends Vn{getTypeName(){return"ResourceURL"}}function Gn(t){return t instanceof Vn?t.changingThisBreaksApplicationSecurity:t}function $n(t,e){const n=Wn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function Wn(t){return t instanceof Vn&&t.getTypeName()||null}function Kn(t){return new Un(t)}function Qn(t){return new qn(t)}function Jn(t){return new Bn(t)}function Xn(t){return new Hn(t)}function Zn(t){return new zn(t)}let Yn=!0,tr=!1;function er(){return tr=!0,Yn}function nr(){if(tr)throw new Error("Cannot enable prod mode after platform setup.");Yn=!1}class rr{getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}}class ir{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const sr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,or=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ar(t){return(t=String(t)).match(sr)||t.match(or)?t:(er()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function ur(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function cr(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const lr=ur("area,br,col,hr,img,wbr"),hr=ur("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),dr=ur("rp,rt"),fr=cr(dr,hr),pr=cr(lr,cr(hr,ur("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),cr(dr,ur("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),fr),gr=ur("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),mr=ur("srcset"),br=cr(gr,mr,ur("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ur("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),yr=ur("script,style,template");class vr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!pr.hasOwnProperty(e))return this.sanitizedSomething=!0,!yr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,s=e.toLowerCase();if(!br.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;gr[s]&&(o=ar(o)),mr[s]&&(r=o,o=(r=String(r)).split(",").map(t=>ar(t.trim())).join(", ")),this.buf.push(" ",e,'="',Or(o),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();pr.hasOwnProperty(e)&&!lr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Or(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const _r=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,wr=/([^\#-~ |!])/g;function Or(t){return t.replace(/&/g,"&amp;").replace(_r,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(wr,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Cr;function Sr(t,e){let n=null;try{Cr=Cr||function(t){return function(){try{return!!(new window.DOMParser).parseFromString("","text/html")}catch(t){return!1}}()?new rr:new ir(t)}(t);let r=e?String(e):"";n=Cr.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=Cr.getInertBodyElement(r)}while(r!==s);const o=new vr,a=o.sanitizeChildren(Er(n)||n);return er()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=Er(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function Er(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Tr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function xr(t){const e=Ir();return e?e.sanitize(Tr.HTML,t)||"":$n(t,"HTML")?Gn(t):Sr(ce(),Qt(t))}function kr(t){const e=Ir();return e?e.sanitize(Tr.URL,t)||"":$n(t,"URL")?Gn(t):ar(Qt(t))}function Ir(){const t=Te();return t&&t[12]}function Nr(t,e){t.__ngContext__=e}function Pr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const Ar="ng-template";function jr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Pr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Rr(t){return 0===t.type&&t.tagName!==Ar}function Mr(t,e,n){return e===(0!==t.type||n?t.tagName:Ar)}function Dr(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(ln(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!Mr(t,u,n)||""===u&&1===e.length){if(Lr(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!jr(t.attrs,c,n)){if(Lr(r))return!1;o=!0}continue}const l=Fr(8&r?"class":u,i,Rr(t),n);if(-1===l){if(Lr(r))return!1;o=!0;continue}if(""!==c){let t;t=l>s?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Pr(e,c,0)||2&r&&c!==t){if(Lr(r))return!1;o=!0}}}}else{if(!o&&!Lr(r)&&!Lr(u))return!1;if(o&&Lr(u))continue;o=!1,r=u|1&r}}return Lr(r)||o}function Lr(t){return 0==(1&t)}function Fr(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Vr(t,e,n=!1){for(let r=0;r<e.length;r++)if(Dr(t,e[r],n))return!0;return!1}function Ur(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function qr(t,e){return t?":not("+e.trim()+")":e}function Br(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||Lr(o)||(e+=qr(s,i),i=""),r=o,s=s||!Lr(r);n++}return""!==i&&(e+=qr(s,i)),e}const Hr={};function zr(t){const e=t[3];return Ht(e)?e[3]:e}function Gr(t){return Wr(t[13])}function $r(t){return Wr(t[4])}function Wr(t){for(;null!==t&&!Ht(t);)t=t[4];return t}function Kr(t){Qr(xe(),Te(),Xe()+t,je())}function Qr(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&en(e,r,n)}else{const r=t.preOrderHooks;null!==r&&nn(e,r,0,n)}Ze(n)}function Jr(t,e){return t<<17|e<<2}function Xr(t){return t>>17&32767}function Zr(t){return 2|t}function Yr(t){return(131068&t)>>2}function ti(t,e){return-131069&t|e<<2}function ei(t){return 1|t}function ni(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];He(i),n.contentQueries(2,e[s],s)}}}function ri(t,e,n){return le(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function ii(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Oe(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function si(t,e,n,r,i){const s=e+Ut,o=t.data[s]||function(t,e,n,r,i){const s=Ie(),o=Pe(),a=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o&&null==s.child&&null!==a.parent?s.child=a:o||(s.next=a)),a}(t,s,n,r,i);return Ne(o,!0),o}function oi(t,e,n){Ge(e);try{const r=t.viewQuery;null!==r&&Li(1,r,n);const i=t.template;null!==i&&ci(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&ni(t,e),t.staticViewQueries&&Li(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)Ai(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,Je()}}function ai(t,e,n,r){const i=e[2];if(256==(256&i))return;Ge(e);const s=je();try{Oe(e),Se.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&ci(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&en(e,n,null)}else{const n=t.preOrderHooks;null!==n&&nn(e,n,0,null),rn(e,0)}if(function(t){for(let e=Gr(t);null!==e;e=$r(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Ce(r,1),n[2]|=1024}}}(e),function(t){for(let e=Gr(t);null!==e;e=$r(e))for(let t=qt;t<e.length;t++){const n=e[t],r=n[1];_e(n)&&ai(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&ni(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&en(e,n)}else{const n=t.contentHooks;null!==n&&nn(e,n,1),rn(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let r=t.expandoStartIndex,i=-1,s=-1;for(let t=0;t<n.length;t++){const o=n[t];"number"==typeof o?o<=0?(s=0-o,Ze(s),r+=9+n[++t],i=r):r+=o:(null!==o&&(Ve(r,i),o(2,e[i])),i++)}}}finally{Ze(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Pi(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Li(2,u,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&en(e,n)}else{const n=t.viewHooks;null!==n&&nn(e,n,2),rn(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Ce(e[3],-1))}finally{Je()}}function ui(t,e,n,r){const i=e[10],s=!je(),o=ve(e);try{s&&!o&&i.begin&&i.begin(),o&&oi(t,e,r),ai(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function ci(t,e,n,r,i){const s=Xe();try{Ze(-1),2&r&&e.length>Ut&&Qr(t,e,0,je()),n(r,i)}finally{Ze(s)}}function li(t,e,n){if(zt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function hi(t,e,n){Ee()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||_n(n,e),Nr(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=Wt(r);s&&xi(e,n,r);const u=In(e,t,a,n);Nr(u,e),null!==o&&ki(0,a-i,u,r,0,o),s&&(be(n.index,e)[8]=u)}}(t,e,n,pe(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=t.expandoInstructions,o=t.firstCreatePass,a=n.index-Ut,u=Se.lFrame.currentDirectiveIndex;try{Ze(a);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];Ue(n),null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs?wi(r,i):o&&s.push(null)}}finally{Ze(-1),Ue(u)}}(t,e,n))}function di(t,e,n=pe){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function fi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=pi(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function pi(t,e,n,r,i,s,o,a,u,c){const l=Ut+r,h=l+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Hr);return n}(l,h),f="function"==typeof c?c():c;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function gi(t,e,n,r){const i=Vi(e);i.push(n),t.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(t).push(r,i.length-1)}function mi(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function bi(t,e,n,r,i,s,o,a){const u=pe(e,n);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(qi(t,n,c,r,i),Gt(e)&&function(t,e){const n=be(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):2===e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.tagName||"",r):i,le(s)?s.setProperty(u,r,i):hn(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function yi(t,e,n,r){let i=!1;if(Ee()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];Vr(n,o.selectors,!1)&&(i||(i=[]),Sn(_n(n,e),t,o.type),Wt(o)?(Ci(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){let r=0;i=!0,Ei(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}Oi(t,n,s.length);let a=!1,u=!1;for(let i=0;i<s.length;i++){const c=s[i];n.mergedAttrs=dn(n.mergedAttrs,c.hostAttrs),Ti(t,e,c),Si(t.data.length-1,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!a&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-Ut),a=!0),u||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-Ut),u=!0),vi(t,c),r+=c.hostVars}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||Rr(e)?null:Ii(n,i);s.push(c),o=mi(n,u,o),a=mi(t.outputs,u,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n),_i(t,e,r)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Error(`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=dn(n.mergedAttrs,n.attrs),i}function vi(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function _i(t,e,n){for(let r=0;r<n;r++)e.push(Hr),t.blueprint.push(Hr),t.data.push(null)}function wi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Oi(t,e,n){const r=Ut-e.index,i=t.data.length-(1048575&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function Ci(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Si(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Wt(e)&&(n[""]=t)}}function Ei(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Ti(t,e,n){t.data.push(n);const r=n.factory||(n.factory=Ft(n.type)),i=new un(r,Wt(n),null);t.blueprint.push(i),e.push(i)}function xi(t,e,n){const r=pe(e,t),i=fi(n),s=t[10],o=ji(t,ii(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function ki(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function Ii(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Ni(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Pi(t,e){const n=be(e,t);if(_e(n)){const t=n[1];80&n[2]?ai(t,n,t.template,n[8]):n[5]>0&&function t(e){for(let r=Gr(e);null!==r;r=$r(r))for(let e=qt;e<r.length;e++){const n=r[e];if(1024&n[2]){const t=n[1];ai(t,n,t.template,n[8])}else n[5]>0&&t(n)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=be(n[r],e);_e(i)&&i[5]>0&&t(i)}}(n)}}function Ai(t,e){const n=be(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),oi(r,n,n[8])}function ji(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Ri(t){for(;t;){t[2]|=64;const e=zr(t);if(Kt(t)&&!e)return t;t=e}return null}function Mi(t,e,n){const r=e[10];r.begin&&r.begin();try{ai(t,e,t.template,n)}catch(i){throw Ui(e,i),i}finally{r.end&&r.end()}}function Di(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=ye(n),i=r[1];ui(i,r,i.template,n)}}(t[8])}function Li(t,e,n){He(0),e(t,n)}const Fi=(()=>Promise.resolve(null))();function Vi(t){return t[7]||(t[7]=[])}function Ui(t,e){const n=t[9],r=n?n.get(Fn,null):null;r&&r.handleError(e)}function qi(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Bi(t,e,n){const r=fe(e,t),i=t[11];le(i)?i.setValue(r,n):r.textContent=n}function Hi(t,e,n,r,i){if(null!=r){let s,o=!1;Ht(r)?s=r:Bt(r)&&(o=!0,r=r[0]);const a=de(r);0===t&&null!==n?null==i?Ji(e,n,a):Qi(e,n,a,i||null):1===t&&null!==n?Qi(e,n,a,i||null):2===t?function(t,e,n){const r=Zi(t,e);r&&function(t,e,n,r){le(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==de(n)&&Hi(e,t,r,s,i);for(let o=qt;o<n.length;o++){const i=n[o];ns(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function zi(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Ce(i,-1)),n.splice(r,1)}function Gi(t,e){if(t.length<=qt)return;const n=qt+e,r=t[n];if(r){const s=r[17];null!==s&&s!==t&&zi(s,r),e>0&&(t[n-1][4]=r[4]);const o=yt(t,qt+e);ns(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function $i(t,e){if(!(256&e[2])){const n=e[11];le(n)&&n.destroyNode&&ns(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Wi(t[1],t);for(;e;){let n=null;if(Bt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Bt(e)&&Wi(e[1],e),e=e[3];null===e&&(e=t),Bt(e)&&Wi(e[1],e),n=e&&e[4]}e=n}}(e)}}function Wi(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof un)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],s="function"==typeof i?i(e):de(e[i]),o=t[n[r+2]],a=n[r+3];"boolean"==typeof a?s.removeEventListener(n[r],o,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e),1===e[1].type&&le(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&Ht(e[3])){n!==e[3]&&zi(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Ki(t,e,n){let r=e.parent;for(;null!=r&&(3===r.type||4===r.type);)r=(e=r).parent;if(null===r)return n[0];if(e&&4===e.type&&4&e.flags)return pe(e,n).parentNode;if(2&r.flags){const e=t.data,n=e[e[r.index].directiveStart].encapsulation;if(n!==St.ShadowDom&&n!==St.Native)return null}return pe(r,n)}function Qi(t,e,n,r){le(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function Ji(t,e,n){le(t)?t.appendChild(e,n):e.appendChild(n)}function Xi(t,e,n,r){null!==r?Qi(t,e,n,r):Ji(t,e,n)}function Zi(t,e){return le(t)?t.parentNode(e):e.parentNode}function Yi(t,e){return 3===t.type||4===t.type?pe(t,e):null}function ts(t,e,n,r){const i=Ki(t,r,e);if(null!=i){const t=e[11],s=Yi(r.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)Xi(t,i,n[e],s);else Xi(t,i,n,s)}}function es(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;o&&0===e&&(a&&Nr(de(a),r),n.flags|=4),64!=(64&n.flags)&&(3===u||4===u?(es(t,e,n.child,r,i,s,!1),Hi(e,t,i,a,s)):1===u?rs(t,e,r,n,i,s):Hi(e,t,i,a,s)),n=o?n.projectionNext:n.next}}function ns(t,e,n,r,i,s){es(n,r,t.firstChild,e,i,s,!1)}function rs(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Hi(e,t,i,a[u],s);else es(t,e,a,o[3],i,s,!0)}function is(t,e,n){le(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function ss(t,e,n){le(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class os{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView,e=t[1];return function t(e,n,r,i,s=!1){for(;null!==r;){const o=n[r.index];if(null!==o&&i.push(de(o)),Ht(o))for(let e=qt;e<o.length;e++){const n=o[e],r=n[1].firstChild;null!==r&&t(n[1],n,r,i)}const a=r.type;if(3===a||4===a)t(e,n,r.child,i);else if(1===a){const e=n[16],s=e[6].projection[r.projection];if(Array.isArray(s))i.push(...s);else{const n=zr(e);t(n[1],n,s,i,!0)}}r=s?r.projectionNext:r.next}return i}(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}$i(this._lView[1],this._lView)}onDestroy(t){gi(this._lView[1],this._lView,null,t)}markForCheck(){Ri(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Mi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Re(!0);try{Mi(t,e,n)}finally{Re(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,ns(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class as extends os{constructor(t){super(t),this._view=t}detectChanges(){Di(this._view)}checkNoChanges(){!function(t){Re(!0);try{Di(t)}finally{Re(!1)}}(this._view)}get context(){return null}}let us,cs,ls;function hs(t,e,n){return us||(us=class extends t{}),new us(pe(e,n))}function ds(t,e,n,r){return cs||(cs=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=ii(this._declarationView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationView[this._declarationTContainer.index];const r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),oi(e,n,t),new os(n)}}),0===n.type?new cs(r,n,hs(e,n,r)):null}function fs(t,e,n,r){let i;ls||(ls=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return hs(e,this._hostTNode,this._hostView)}get injector(){return new An(this._hostTNode,this._hostView)}get parentInjector(){const t=Cn(this._hostTNode,this._hostView);if(pn(t)){const e=mn(t,this._hostView),n=gn(t);return new An(e[1].data[n+8],e)}return new An(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-qt}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(pt,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Ht(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new ls(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),s=this._lContainer;!function(t,e,n,r){const i=qt+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-qt?(e[4]=n[i],bt(n,qt+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,s,i);const o=function t(e,n){const r=qt+e+1;if(r<n.length){const e=n[r],i=e[1].firstChild;if(null!==i)return function e(n,r){if(null!==r){const i=r.type;if(2===i)return pe(r,n);if(0===i)return t(-1,n[r.index]);if(3===i||4===i){const i=r.child;if(null!==i)return e(n,i);{const e=n[r.index];return Ht(e)?t(-1,e):de(e)}}{const t=n[16],i=t[6],s=zr(t),o=i.projection[r.projection];return null!=o?e(s,o):e(n,r.next)}}return null}(e,i)}return n[7]}(i,s),a=n[11],u=Zi(a,s[7]);return null!==u&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,ns(t,r,n,1,i,s)}(r,s[6],a,n,u,o),t.attachToViewContainerRef(this),bt(s[8],i,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=Gi(this._lContainer,e);n&&(yt(this._lContainer[8],e),$i(n[1],n))}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=Gi(this._lContainer,e);return n&&null!=yt(this._lContainer[8],e)?new os(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const s=r[n.index];if(Ht(s))i=s;else{let t;if(3===n.type)t=de(s);else if(t=r[11].createComment(""),Kt(r)){const e=r[11],i=pe(n,r);Qi(e,Zi(e,i),t,function(t,e){return le(t)?t.nextSibling(e):e.nextSibling}(e,i))}else ts(r[1],r,t,n);r[n.index]=i=Ni(s,r,t,n),ji(r,i)}return new ls(i,n,r)}function ps(t=!1){return function(t,e,n){if(!n&&Gt(t)){const n=be(t.index,e);return new os(n,n)}return 2===t.type||0===t.type||3===t.type||4===t.type?new os(e[16],e):null}(Ie(),Te(),t)}let gs=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ms(),t})();const ms=ps,bs=Function,ys=new Y("Set Injector scope."),vs={},_s={},ws=[];let Os=void 0;function Cs(){return void 0===Os&&(Os=new ft),Os}function Ss(t,e=null,n=null,r){return new Es(t,n,e||Cs(),r)}class Es{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&mt(e,n=>this.processProvider(n,t,e)),mt([t],t=>this.processInjectorType(t,[],i)),this.records.set(tt,ks(void 0,this));const s=this.records.get(ys);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:M(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=et,n=O.Default){this.assertNotDestroyed();const r=at(this);try{if(!(n&O.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof Y)&&x(t);e=n&&this.injectableDefInScope(n)?ks(Ts(t),vs):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&O.Self?Cs():this.parent).get(t,e=n&O.Optional&&e===et?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(M(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[rt]&&i.unshift(e[rt]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=M(e);if(Array.isArray(e))i=e.map(M).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):M(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(nt,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{at(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(M(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=V(t)))return!1;let r=I(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=I(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{mt(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];mt(r,t=>this.processProvider(t,n,r||ws))}}this.injectorDefTypes.add(s),this.records.set(s,ks(r.factory,vs));const a=r.providers;if(null!=a&&!o){const e=t;mt(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Ns(t=V(t))?t:V(t&&t.provide);const i=function(t,e,n){return Is(t)?ks(void 0,t.useValue):ks(xs(t),vs)}(t);if(Ns(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=ks(void 0,vs,!0),e.factory=()=>dt(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===vs&&(e.value=_s,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function Ts(t){const e=x(t),n=null!==e?e.factory:Ft(t);if(null!==n)return n;const r=I(t);if(null!==r)return r.factory;if(t instanceof Y)throw new Error(`Token ${M(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=vt(e,"?");throw new Error(`Can't resolve all parameters for ${M(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[N]||t[j]||t[A]&&t[A]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function xs(t,e,n){let r=void 0;if(Ns(t)){const e=V(t);return Ft(e)||Ts(e)}if(Is(t))r=()=>V(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...dt(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>lt(V(t.useExisting));else{const e=V(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return Ft(e)||Ts(e);r=()=>new e(...dt(t.deps))}var i;return r}function ks(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Is(t){return null!==t&&"object"==typeof t&&it in t}function Ns(t){return"function"==typeof t}const Ps=function(t,e,n){return function(t,e=null,n=null,r){const i=Ss(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let As=(()=>{class t{static create(t,e){return Array.isArray(t)?Ps(t,e,""):Ps(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=et,t.NULL=new ft,t.\u0275prov=E({token:t,providedIn:"any",factory:()=>lt(tt)}),t.__NG_ELEMENT_ID__=-1,t})();const js=new Y("AnalyzeForEntryComponents");function Rs(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=D(i,t):2==s&&(r=D(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Ms(t,e){const n=ye(t)[1],r=n.data.length-1;tn(n,{directiveStart:r,directiveEnd:r+1})}function Ds(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(Wt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Ls(t.inputs),e.declaredInputs=Ls(t.declaredInputs),e.outputs=Ls(t.outputs);const n=i.hostBindings;n&&Us(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&Fs(t,s),o&&Vs(t,o),S(t.inputs,i.inputs),S(t.declaredInputs,i.declaredInputs),S(t.outputs,i.outputs),Wt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Ds&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=dn(i.hostAttrs,n=dn(n,i.hostAttrs))}}(r)}function Ls(t){return t===Et?{}:t===Tt?[]:t}function Fs(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Vs(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Us(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let qs=null;function Bs(){if(!qs){const t=G.Symbol;if(t&&t.iterator)qs=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(qs=n)}}}return qs}class Hs{constructor(t){this.wrapped=t}static wrap(t){return new Hs(t)}static unwrap(t){return Hs.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Hs}}function zs(t){return!!Gs(t)&&(Array.isArray(t)||!(t instanceof Map)&&Bs()in t)}function Gs(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function $s(t,e,n){return t[e]=n}function Ws(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ks(t,e,n,r){const i=Ws(t,e,n);return Ws(t,e+1,r)||i}function Qs(t,e,n,r){const i=Te();return Ws(i,Le(),e)&&(xe(),function(t,e,n,r,i,s){const o=pe(t,e),a=e[11];if(null==r)le(a)?a.removeAttribute(o,n,s):o.removeAttribute(n);else{const e=null==i?Qt(r):i(r,t.tagName||"",n);le(a)?a.setAttribute(o,n,e,s):s?o.setAttributeNS(s,n,e):o.setAttribute(n,e)}}(Ye(),i,t,e,n,r)),Qs}function Js(t,e,n,r,i,s,o,a){const u=Te(),c=xe(),l=t+Ut,h=c.firstCreatePass?function(t,e,n,r,i,s,o,a,u){const c=e.consts,l=si(e,t,0,o||null,we(c,a));yi(e,n,l,we(c,u)),tn(e,l);const h=l.tViews=pi(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,c,u,e,n,r,i,s,o):c.data[l];Ne(h,!1);const d=u[11].createComment("");ts(c,u,d,h),Nr(d,u),ji(u,u[l]=Ni(d,u,d,h)),$t(h)&&hi(c,u,h),null!=o&&di(u,h,a)}function Xs(t){return me(Se.lFrame.contextLView,t)}function Zs(t,e=O.Default){const n=Te();return null===n?lt(t,e):En(Ie(),n,V(t),e)}function Ys(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(ln(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Ie(),t)}function to(t,e,n){const r=Te();return Ws(r,Le(),e)&&bi(xe(),Ye(),r,t,e,r[11],n,!1),to}function eo(t,e,n,r,i){const s=i?"class":"style";qi(t,n,e.inputs[s],s,r)}function no(t,e,n,r){const i=Te(),s=xe(),o=Ut+t,a=i[11],u=i[o]=ri(e,a,Se.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,u=si(e,t,2,i,we(a,s));return yi(e,n,u,we(a,o)),null!==u.attrs&&Rs(u,u.attrs,!1),null!==u.mergedAttrs&&Rs(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(t,s,i,0,e,n,r):s.data[o];Ne(c,!0);const l=c.mergedAttrs;null!==l&&cn(a,u,l);const h=c.classes;null!==h&&ss(a,u,h);const d=c.styles;null!==d&&is(a,u,d),ts(s,i,u,c),0===Se.lFrame.elementDepthCount&&Nr(u,i),Se.lFrame.elementDepthCount++,$t(c)&&(hi(s,i,c),li(s,c,i)),null!==r&&di(i,c)}function ro(){let t=Ie();Pe()?Ae():(t=t.parent,Ne(t,!1));const e=t;Se.lFrame.elementDepthCount--;const n=xe();n.firstCreatePass&&(tn(n,t),zt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&eo(n,e,Te(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&eo(n,e,Te(),e.stylesWithoutHost,!1)}function io(t,e,n,r){no(t,e,n,r),ro()}function so(t,e,n){const r=Te(),i=xe(),s=t+Ut,o=i.firstCreatePass?function(t,e,n,r,i){const s=e.consts,o=we(s,r),a=si(e,t,3,"ng-container",o);return null!==o&&Rs(a,o,!0),yi(e,n,a,we(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(t,i,r,e,n):i.data[s];Ne(o,!0);const a=r[s]=r[11].createComment("");ts(i,r,a,o),Nr(a,r),$t(o)&&(hi(i,r,o),li(i,o,r)),null!=n&&di(r,o)}function oo(){let t=Ie();const e=xe();Pe()?Ae():(t=t.parent,Ne(t,!1)),e.firstCreatePass&&(tn(e,t),zt(t)&&e.queries.elementEnd(t))}function ao(){return Te()}function uo(t){return!!t&&"function"==typeof t.then}function co(t){return!!t&&"function"==typeof t.subscribe}function lo(t,e,n=!1,r){const i=Te(),s=xe(),o=Ie();return function(t,e,n,r,i,s,o=!1,a){const u=$t(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=Vi(e);let h=!0;if(2===r.type){const d=pe(r,e),f=a?a(d):Et,p=f.target||d,g=l.length,m=a?t=>a(de(t[r.index])).target:r.index;if(le(n)){let o=null;if(!a&&u&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=fo(r,e,s,!1);const t=n.listen(f.name||p,i,s);l.push(s,t),c&&c.push(i,m,g,g+1)}}else s=fo(r,e,s,!0),p.addEventListener(i,s,o),l.push(s),c&&c.push(i,m,g,o)}const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(s),o=l.length;l.push(s,t),c&&c.push(i,r.index,o,-(o+1))}}}(s,i,i[11],o,t,e,n,r),lo}function ho(t,e,n){try{return!1!==e(n)}catch(r){return Ui(t,r),!1}}function fo(t,e,n,r){return function i(s){if(s===Function)return n;const o=2&t.flags?be(t.index,e):e;0==(32&e[2])&&Ri(o);let a=ho(e,n,s),u=i.__ngNextListenerFn__;for(;u;)a=ho(e,u,s)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function po(t=1){return function(t){return(Se.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Se.lFrame.contextLView))[8]}(t)}function go(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?Vr(t,s,!0):Ur(r,s))return i}else n=i}return n}function mo(t){const e=Te()[16][6];if(!e.projection){const n=e.projection=vt(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?go(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function bo(t,e=0,n){const r=Te(),i=xe(),s=si(i,t,1,null,n||null);null===s.projection&&(s.projection=e),Ae(),function(t,e,n){rs(e[11],0,e,n,Ki(t,n,e),Yi(n.parent||e[6],e))}(i,r,s)}const yo=[];function vo(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Xr(s):Yr(s),u=!1;for(;0!==a&&(!1===u||o);){const n=t[a+1];_o(t[a],e)&&(u=!0,t[a+1]=r?ei(n):Zr(n)),a=r?Xr(n):Yr(n)}u&&(t[n+1]=r?Zr(s):ei(s))}function _o(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Ot(t,e)>=0}const wo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Oo(t){return t.substring(wo.key,wo.keyEnd)}function Co(t,e){const n=wo.textEnd;return n===e?-1:(e=wo.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,wo.key=e,n),So(t,e,n))}function So(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Eo(t,e,n){return Io(t,e,n,!1),Eo}function To(t,e){return Io(t,e,null,!0),To}function xo(t){!function(t,e,n,r){const i=xe(),s=Fe(2);i.firstUpdatePass&&Po(i,null,s,r);const o=Te();if(n!==Hr&&Ws(o,s,n)){const a=i.data[Xe()+Ut];if(Lo(a,r)&&!No(i,s)){let t=a.classesWithoutHost;null!==t&&(n=D(t,n||"")),eo(i,a,o,n,r)}else!function(t,e,n,r,i,s,o,a){i===Hr&&(i=yo);let u=0,c=0,l=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;null!==l||null!==h;){const o=u<i.length?i[u+1]:void 0,d=c<s.length?s[c+1]:void 0;let f=null,p=void 0;l===h?(u+=2,c+=2,o!==d&&(f=h,p=d)):null===h||null!==l&&l<h?(u+=2,f=l):(c+=2,f=h,p=d),null!==f&&Ro(t,e,n,r,f,p,true,a),l=u<i.length?i[u]:null,h=c<s.length?s[c]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function(t,e,n){if(null==n||""===n)return yo;const r=[],i=Gn(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),0,s)}}(_t,ko,t,!0)}function ko(t,e){for(let n=function(t){return function(t){wo.key=0,wo.keyEnd=0,wo.value=0,wo.valueEnd=0,wo.textEnd=t.length}(t),Co(t,So(t,0,wo.textEnd))}(e);n>=0;n=Co(e,n))_t(t,Oo(e),!0)}function Io(t,e,n,r){const i=Te(),s=xe(),o=Fe(2);s.firstUpdatePass&&Po(s,t,o,r),e!==Hr&&Ws(i,o,e)&&Ro(s,s.data[Xe()+Ut],i,i[11],t,i[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=M(Gn(t)))),t}(e,n),r,o)}function No(t,e){return e>=t.expandoStartIndex}function Po(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Xe()+Ut],o=No(t,n);Lo(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=qe(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=jo(n=Ao(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=Ao(i,t,e,n,r),null===s){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Yr(r))return t[Xr(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=Ao(null,t,e,n[1],r),n=jo(n,e.attrs,r),function(t,e,n,r){t[Xr(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else s=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=jo(r,t[s].hostAttrs,n);return jo(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Xr(o),u=Yr(o);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||Ot(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=Xr(t[a+1]);t[r+1]=Jr(e,a),0!==e&&(t[e+1]=ti(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=Jr(a,0),0!==a&&(t[a+1]=ti(t[a+1],r)),a=r;else t[r+1]=Jr(u,0),0===a?a=r:t[u+1]=ti(t[u+1],r),u=r;l&&(t[r+1]=Zr(t[r+1])),vo(t,c,r,!0),vo(t,c,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&Ot(s,e)>=0&&(n[r+1]=ei(n[r+1]))}(e,c,t,r,s),o=Jr(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function Ao(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=jo(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function jo(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),_t(t,o,!!n||e[++s]))}return void 0===t?null:t}function Ro(t,e,n,r,i,s,o,a){if(2!==e.type)return;const u=t.data,c=u[a+1];Do(1==(1&c)?Mo(u,e,n,i,Yr(c),o):void 0)||(Do(s)||2==(2&c)&&(s=Mo(u,null,n,i,a,o)),function(t,e,n,r,i){const s=le(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{const e=-1==r.indexOf("-")?void 0:2;null==i?s?t.removeStyle(n,r,e):n.style.removeProperty(r):s?t.setStyle(n,r,i,e):n.style.setProperty(r,i)}}(r,o,fe(Xe(),n),i,s))}function Mo(t,e,n,r,i,s){const o=null===e;let a=void 0;for(;i>0;){const e=t[i],s=Array.isArray(e),u=s?e[1]:e,c=null===u;let l=n[i+1];l===Hr&&(l=c?yo:void 0);let h=c?wt(l,r):u===r?l:void 0;if(s&&!Do(h)&&(h=wt(e,r)),Do(h)&&(a=h,o))return a;const d=t[i+1];i=o?Xr(d):Yr(d)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=wt(t,r))}return a}function Do(t){return void 0!==t}function Lo(t,e){return 0!=(t.flags&(e?16:32))}function Fo(t,e=""){const n=Te(),r=xe(),i=t+Ut,s=r.firstCreatePass?si(r,t,2,null,null):r.data[i],o=n[i]=function(t,e){return le(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);ts(r,n,o,s),Ne(s,!1)}function Vo(t){return Uo("",t,""),Vo}function Uo(t,e,n){const r=Te(),i=function(t,e,n,r){return Ws(t,Le(),n)?e+Qt(n)+r:Hr}(r,t,e,n);return i!==Hr&&Bi(r,Xe(),i),Uo}function qo(t,e,n,r,i){const s=Te(),o=function(t,e,n,r,i,s){const o=Ks(t,De(),n,i);return Fe(2),o?e+Qt(n)+r+Qt(i)+s:Hr}(s,t,e,n,r,i);return o!==Hr&&Bi(s,Xe(),o),qo}function Bo(t,e,n){const r=Te();return Ws(r,Le(),e)&&bi(xe(),Ye(),r,t,e,r[11],n,!0),Bo}function Ho(t,e,n){const r=Te();if(Ws(r,Le(),e)){const i=xe(),s=Ye();bi(i,s,r,t,e,function(t,e,n){return(null===t||Wt(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}(qe(i.data),s,r),n,!0)}return Ho}const zo=void 0;var Go=["en",[["a","p"],["AM","PM"],zo],[["AM","PM"],zo,zo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],zo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],zo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",zo,"{1} 'at' {0}",zo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let $o={};function Wo(t,e,n){"string"!=typeof e&&(n=e,e=t[Zo.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),$o[e]=t,n&&($o[e][Zo.ExtraData]=n)}function Ko(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Xo(e);if(n)return n;const r=e.split("-")[0];if(n=Xo(r),n)return n;if("en"===r)return Go;throw new Error(`Missing locale data for the locale "${t}".`)}function Qo(t){return Ko(t)[Zo.CurrencyCode]||null}function Jo(t){return Ko(t)[Zo.PluralCase]}function Xo(t){return t in $o||($o[t]=G.ng&&G.ng.common&&G.ng.common.locales&&G.ng.common.locales[t]),$o[t]}var Zo=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const Yo="en-US";let ta=Yo;function ea(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(ta=t.toLowerCase().replace(/_/g,"-"))}function na(t,e,n,r,i){if(t=V(t),Array.isArray(t))for(let s=0;s<t.length;s++)na(t[s],e,n,r,i);else{const s=xe(),o=Te();let a=Ns(t)?t:V(t.provide),u=xs(t);const c=Ie(),l=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(Ns(t)||!t.multi){const r=new un(u,i,Zs),f=sa(a,e,i?l:l+d,h);-1===f?(Sn(_n(c,o),s,a),ra(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),o.push(r)):(n[f]=r,o[f]=r)}else{const f=sa(a,e,l+d,h),p=sa(a,e,l,l+d),g=f>=0&&n[f],m=p>=0&&n[p];if(i&&!m||!i&&!g){Sn(_n(c,o),s,a);const l=function(t,e,n,r,i){const s=new un(t,n,Zs);return s.multi=[],s.index=e,s.componentProviders=0,ia(s,i,r&&!n),s}(i?aa:oa,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),ra(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),o.push(l)}else ra(s,t,f>-1?f:p,ia(n[i?p:f],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function ra(t,e,n,r){const i=Ns(e);if(i||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[r,s]):o[t+1].push(r,s)}else o.push(n,s)}}}function ia(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function sa(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function oa(t,e,n,r){return ua(this.multi,[])}function aa(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=In(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),ua(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],ua(i,s);return s}function ua(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function ca(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=xe();if(r.firstCreatePass){const i=Wt(t);na(n,r.data,r.blueprint,i,!0),na(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class la{}class ha{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${M(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let da=(()=>{class t{}return t.NULL=new ha,t})(),fa=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>pa(t),t})();const pa=function(t){return hs(t,Ie(),Te())};class ga{}var ma=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let ba=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ya(),t})();const ya=function(){const t=Te(),e=be(Ie().index,t);return function(t){const e=t[11];if(le(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Bt(e)?e:t)};let va=(()=>{class t{}return t.\u0275prov=E({token:t,providedIn:"root",factory:()=>null}),t})();class _a{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const wa=new _a("10.2.3");class Oa{constructor(){}supports(t){return zs(t)}create(t){return new Sa(t)}}const Ca=(t,e)=>e;class Sa{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Ca}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<ka(n,r,i)?e:n,o=ka(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!zs(t))throw new Error(`Error trying to diff '${M(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Bs()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Ea(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new xa),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new xa),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Ea{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ta{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class xa{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Ta,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ka(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Ia{constructor(){}supports(t){return t instanceof Map||Gs(t)}create(){return new Na}}class Na{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Gs(t)))throw new Error(`Error trying to diff '${M(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Pa(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Pa{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Aa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new w,new v]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=E({token:t,providedIn:"root",factory:()=>new t([new Oa])}),t})(),ja=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new w,new v]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=E({token:t,providedIn:"root",factory:()=>new t([new Ia])}),t})();const Ra=[new Ia],Ma=new Aa([new Oa]),Da=new ja(Ra);let La=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Fa(t,fa),t})();const Fa=function(t,e){return ds(t,e,Ie(),Te())};let Va=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ua(t,fa),t})();const Ua=function(t,e){return fs(t,e,Ie(),Te())},qa={};class Ba extends da{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Lt(t);return new Ga(e,this.ngModule)}}function Ha(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const za=new Y("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Xt});class Ga extends la{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Br).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Ha(this.componentDef.inputs)}get outputs(){return Ha(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,qa,i);return s!==qa||r===qa?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(ga,he),o=i.get(va,null),a=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(le(t))return t.selectRootElement(e,n===St.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):ri(u,s.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:Xt,clean:Fi,playerHandler:null,flags:0},d=pi(0,null,null,1,0,null,null,null,null,null),f=ii(null,d,h,l,null,null,s,a,o,i);let p,g;Ge(f);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=si(o,0,2,null,null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(Rs(a,u,!0),null!==t&&(cn(i,t,u),null!==a.classes&&ss(i,t,a.classes),null!==a.styles&&is(i,t,a.styles)));const c=r.createRenderer(t,e),l=ii(n,fi(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return o.firstCreatePass&&(Sn(_n(a,n),o,e.type),Ci(o,a),Ei(a,n.length,1)),ji(n,l),n[20]=l}(c,this.componentDef,f,s,a);if(c)if(n)cn(a,c,["ng-version",wa.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Lr(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&cn(a,c,t),e&&e.length>0&&ss(a,c,e.join(" "))}if(g=ge(d,0),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=Ie();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Oi(t,r,1),Ti(t,e,n));const i=In(e,t,e.length-1,r);Nr(i,e);const s=pe(r,e);return s&&Nr(s,e),i}(s,n,e);r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries&&e.contentQueries(1,o,n.length-1);const a=Ie();if(s.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){Ze(a.index-Ut);const t=n[1];vi(t,e),_i(t,n,e.hostVars),wi(e,o)}return o}(t,this.componentDef,f,h,[Ms]),oi(d,f,null)}finally{Je()}return new $a(this.componentType,p,hs(fa,g,f),f,g)}}class $a extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new as(r),this.componentType=t}get injector(){return new An(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const Wa=new Map;class Ka extends pt{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ba(this);const n=Vt(t),r=t[J]||null;r&&ea(r),this._bootstrapComponents=Yt(n.bootstrap),this._r3Injector=Ss(t,e,[{provide:pt,useValue:this},{provide:da,useValue:this.componentFactoryResolver}],M(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=As.THROW_IF_NOT_FOUND,n=O.Default){return t===As||t===pt||t===tt?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Qa extends gt{constructor(t){super(),this.moduleType=t,null!==Vt(t)&&function(t){const e=new Set;!function t(n){const r=Vt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${M(e)} vs ${M(e.name)}`)}(i,Wa.get(i),n),Wa.set(i,n));const s=Yt(r.imports);for(const o of s)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new Ka(this.moduleType,t)}}function Ja(t,e,n){const r=Me()+t,i=Te();return i[r]===Hr?$s(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function Xa(t,e,n,r){return tu(Te(),Me(),t,e,n,r)}function Za(t,e,n,r,i){return eu(Te(),Me(),t,e,n,r,i)}function Ya(t,e){const n=t[e];return n===Hr?void 0:n}function tu(t,e,n,r,i,s){const o=e+n;return Ws(t,o,i)?$s(t,o+1,s?r.call(s,i):r(i)):Ya(t,o+1)}function eu(t,e,n,r,i,s,o){const a=e+n;return Ks(t,a,i,s)?$s(t,a+2,o?r.call(o,i,s):r(i,s)):Ya(t,a+2)}function nu(t,e){const n=xe();let r;const i=t+Ut;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new Error(`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=Ft(r.type)),o=ut(Zs);try{const e=yn(!1),r=s();return yn(e),function(t,e,n,r){const i=n+Ut;i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),e[i]=r}(n,Te(),t,r),r}finally{ut(o)}}function ru(t,e,n){const r=Te(),i=me(r,t);return ou(r,su(r,t)?tu(r,Me(),e,i.transform,n,i):i.transform(n))}function iu(t,e,n,r){const i=Te(),s=me(i,t);return ou(i,su(i,t)?eu(i,Me(),e,s.transform,n,r,s):s.transform(n,r))}function su(t,e){return t[1].data[e+Ut].pure}function ou(t,e){return Hs.isWrapped(e)&&(e=Hs.unwrap(e),t[De()]=Hr),e}const au=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,s=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(s=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(s=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,s,o);return t instanceof i.a&&t.add(a),a}};function uu(){return this._results[Bs()]()}class cu{constructor(){this.dirty=!0,this._results=[],this.changes=new au,this.length=0;const t=Bs(),e=cu.prototype;e[t]||(e[t]=uu)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class lu{constructor(t){this.queryList=t,this.matches=null}clone(){return new lu(this.queryList)}setDirty(){this.queryList.setDirty()}}class hu{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new hu(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==wu(t,e).matches&&this.queries[e].setDirty()}}class du{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class fu{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new fu(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class pu{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new pu(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&3===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,gu(e,i)),this.matchTNodeWithReadOption(t,e,kn(e,t,i,!1,!1))}else n===La?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,kn(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===fa||r===Va||r===La&&0===e.type)this.addMatch(e.index,-2);else{const n=kn(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function gu(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function mu(t,e,n,r){return-1===n?function(t,e){return 2===t.type||3===t.type?hs(fa,t,e):0===t.type?ds(La,fa,t,e):null}(e,t):-2===n?function(t,e,n){return n===fa?hs(fa,e,t):n===La?ds(La,fa,e,t):n===Va?fs(Va,fa,e,t):void 0}(t,e,r):In(t,t[1],n,e)}function bu(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:mu(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function yu(t){const e=Te(),n=xe(),r=Be();He(r+1);const i=wu(n,r);if(t.dirty&&ve(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?function t(e,n,r,i){const s=e.queries.getByIndex(r),o=s.matches;if(null!==o){const a=bu(e,n,s,r);for(let e=0;e<o.length;e+=2){const r=o[e];if(r>0)i.push(a[e/2]);else{const s=o[e+1],a=n[-r];for(let e=qt;e<a.length;e++){const n=a[e];n[17]===n[3]&&t(n[1],n,s,i)}if(null!==a[9]){const e=a[9];for(let n=0;n<e.length;n++){const r=e[n];t(r[1],r,s,i)}}}}}return i}(n,e,r,[]):bu(n,e,i,r);t.reset(s),t.notifyOnChanges()}return!0}return!1}function vu(t,e,n,r){!function(t,e,n,r,i,s,o,a){t.firstCreatePass&&(function(t,e,n){null===t.queries&&(t.queries=new fu),t.queries.track(new pu(e,n))}(t,new du(n,r,false,i),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a)),function(t,e){const n=new cu;gi(t,e,n,n.destroy),null===e[19]&&(e[19]=new hu),e[19].queries.push(new lu(n))}(t,e)}(xe(),Te(),e,n,r,0,Ie(),t)}function _u(){return t=Te(),e=Be(),t[19].queries[e].queryList;var t,e}function wu(t,e){return t.queries.getByIndex(e)}function Ou(t,e){return ds(La,fa,t,e)}function Cu(t=O.Default){const e=ps(!0);if(null!=e||t&O.Optional)return e;te("ChangeDetectorRef")}const Su=new Y("Application Initializer");let Eu=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();uo(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(lt(Su,8))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const Tu=new Y("AppId"),xu={provide:Tu,useFactory:function(){return`${ku()}${ku()}${ku()}`},deps:[]};function ku(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Iu=new Y("Platform Initializer"),Nu=new Y("Platform ID"),Pu=new Y("appBootstrapListener");let Au=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const ju=new Y("LocaleId"),Ru=new Y("DefaultCurrencyCode");class Mu{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Du=function(t){return new Qa(t)},Lu=Du,Fu=function(t){return Promise.resolve(Du(t))},Vu=function(t){const e=Du(t),n=Yt(Vt(t).declarations).reduce((t,e)=>{const n=Lt(e);return n&&t.push(new Ga(n)),t},[]);return new Mu(e,n)},Uu=Vu,qu=function(t){return Promise.resolve(Vu(t))};let Bu=(()=>{class t{constructor(){this.compileModuleSync=Lu,this.compileModuleAsync=Fu,this.compileModuleAndAllComponentsSync=Uu,this.compileModuleAndAllComponentsAsync=qu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const Hu=(()=>Promise.resolve(0))();function zu(t){"undefined"==typeof Zone?Hu.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Gu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new au(!1),this.onMicrotaskEmpty=new au(!1),this.onStable=new au(!1),this.onError=new au(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.wtfZoneSpec&&(n._inner=n._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=G.requestAnimationFrame,e=G.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(G,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Qu(t),Ku(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Qu(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,s,o,a)=>{try{return Ju(t),n.invokeTask(i,s,o,a)}finally{e&&"eventTask"===s.type&&e(),Xu(t)}},onInvoke:(e,n,r,i,s,o,a)=>{try{return Ju(t),e.invoke(r,i,s,o,a)}finally{Xu(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Qu(t),Ku(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Gu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Gu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,Wu,$u,$u);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function $u(){}const Wu={};function Ku(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Qu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Ju(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Xu(t){t._nesting--,Ku(t)}class Zu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new au,this.onMicrotaskEmpty=new au,this.onStable=new au,this.onError=new au}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Yu=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Gu.assertNotInAngularZone(),zu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())zu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(lt(Gu))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})(),tc=(()=>{class t{constructor(){this._applications=new Map,ic.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return ic.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();class ec{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function nc(t){ic=t}let rc,ic=new ec;const sc=new Y("AllowMultipleToken");class oc{constructor(t,e){this.name=t,this.token=e}}function ac(t,e,n=[]){const r="Platform: "+e,i=new Y(r);return(e=[])=>{let s=uc();if(!s||s.injector.get(sc,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:ys,useValue:"platform"});!function(t){if(rc&&!rc.destroyed&&!rc.injector.get(sc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");rc=t.get(cc);const e=t.get(Iu,null);e&&e.forEach(t=>t())}(As.create({providers:t,name:r}))}return function(t){const e=uc();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function uc(){return rc&&!rc.destroyed?rc:null}let cc=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Zu:("zone.js"===t?void 0:t)||new Gu({enableLongStackTrace:er(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:Gu,useValue:n}];return n.run(()=>{const e=As.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(Fn,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>dc(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{s.handleError(t)}})),function(t,e,n){try{const r=n();return uo(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(Eu);return t.runInitializers(),t.donePromise.then(()=>(ea(i.injector.get(ju,Yo)||Yo),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=lc({},e);return function(t,e,n){const r=new Qa(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(hc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${M(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(lt(As))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function lc(t,e){return Array.isArray(e)?e.reduce(lc,t):Object.assign(Object.assign({},t),e)}let hc=(()=>{class t{constructor(t,e,n,r,i,a){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=er(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new s.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new s.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Gu.assertNotInAngularZone(),zu(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Gu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(c,l.pipe(t=>{return u()((e=p,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,d);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof la?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(pt),i=n.create(As.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const s=i.injector.get(Yu,null);return s&&i.injector.get(tc).registerApplication(i.location.nativeElement,s),this._loadComponent(i),er()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;dc(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Pu,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),dc(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(lt(Gu),lt(Au),lt(As),lt(Fn),lt(da),lt(Eu))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function dc(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class fc{}class pc{}const gc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let mc=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||gc}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>bc(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>bc(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(lt(Bu),lt(pc,8))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function bc(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const yc=function(t){return null},vc=ac(null,"core",[{provide:Nu,useValue:"unknown"},{provide:cc,deps:[As]},{provide:tc,deps:[]},{provide:Au,deps:[]}]),_c=[{provide:hc,useClass:hc,deps:[Gu,Au,As,Fn,da,Eu]},{provide:za,deps:[Gu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Eu,useClass:Eu,deps:[[new v,Su]]},{provide:Bu,useClass:Bu,deps:[]},xu,{provide:Aa,useFactory:function(){return Ma},deps:[]},{provide:ja,useFactory:function(){return Da},deps:[]},{provide:ju,useFactory:function(t){return ea(t=t||"undefined"!=typeof $localize&&$localize.locale||Yo),t},deps:[[new y(ju),new v,new w]]},{provide:Ru,useValue:"USD"}];let wc=(()=>{class t{constructor(t){}}return t.\u0275mod=At({type:t}),t.\u0275inj=T({factory:function(e){return new(e||t)(lt(hc))},providers:_c}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("2fFW"),i=n("NJ4a");const s={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("quSY");function s(t,e){return new r.a(n=>{const r=new i.a;let s=0;return r.add(e.schedule((function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",(function(){return r}))},ngJS:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return l}));var r=n("7o/Q"),i=n("EY2u"),s=n("LRne"),o=n("HDdC");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(s.a)(this.value);case"E":return t=this.error,new o.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return d})),n.d(e,"d",(function(){return f}));var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=c[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function d(t){s.forEach((function(e){e.setLogLevel(t)}))}function f(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return b})),n.d(e,"c",(function(){return m})),n.d(e,"d",(function(){return _})),n.d(e,"e",(function(){return w})),n.d(e,"f",(function(){return i})),n.d(e,"g",(function(){return s})),n.d(e,"h",(function(){return a})),n.d(e,"i",(function(){return l})),n.d(e,"j",(function(){return h})),n.d(e,"k",(function(){return f})),n.d(e,"l",(function(){return p})),n.d(e,"m",(function(){return u})),n.d(e,"n",(function(){return c})),n.d(e,"o",(function(){return d})),n.d(e,"p",(function(){return g}));var r=n("uXP2");function i(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var o=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function d(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function f(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return a().indexOf("MSAppHost/")>=0}var m=function(t){function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,b.prototype.create),s}return Object(r.c)(e,t),e}(Error),b=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?y(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",u=new m(i,a,r);return u},t}();function y(t,e){return t.replace(v,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var v=/\{\$([^}]+)}/g;function _(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){var n=new O(t,e);return n.subscribe.bind(n)}var O=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=C),void 0===r.error&&(r.error=C),void 0===r.complete&&(r.complete=C);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function C(){}},qgXg:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return u}));var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n("IjjT");class o extends s.a{}const a=new o(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("DH7j"),i=n("XoHu"),s=n("n6bG");const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(s.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof o?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof o?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return T})),n.d(e,"b",(function(){return v})),n.d(e,"c",(function(){return y})),n.d(e,"d",(function(){return f})),n.d(e,"e",(function(){return b})),n.d(e,"f",(function(){return S})),n.d(e,"g",(function(){return w})),n.d(e,"h",(function(){return p})),n.d(e,"i",(function(){return m})),n.d(e,"j",(function(){return O}));var r=n("qgXg"),i=n("D0XW"),s=n("vkgz"),o=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule((function(e){r.runGuarded(()=>{t.apply(this,[e])})}),e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(s.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class f{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.a))}}function p(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe(Object(o.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(t[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,t[s]),t[s];if(g.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>o[e],apply:(t,e,n)=>o.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(s,n,i),i})})})}),b=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},y=new u.q("angularfire2.app.options"),v=new u.q("angularfire2.app.nameOrConfig"),_=new u.O("6.1.1");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const s=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));return JSON.stringify(e)!==JSON.stringify(s.options)&&C("error",`${s.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`),s}const O=()=>{C("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},C=(t,...e)=>{Object(u.U)()&&"undefined"!=typeof console&&console[t](...e)};function S(e,n,r,i,s){const[o,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(o)return s.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&C("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`),o;{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...s]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const E={provide:class{},useFactory:w,deps:[y,u.z,[new u.A,v]]};let T=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",_.full,t.toString()),c.a.registerVersion("angular",u.N.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:y,useValue:e},{provide:v,useValue:n}]}}}return t.\u0275mod=u.Hb({type:t}),t.\u0275inj=u.Gb({factory:function(e){return new(e||t)(u.Sb(u.B))},providers:[E]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",(function(){return m}));var r=n("HDdC");let i=1;const s=(()=>Promise.resolve())(),o={};function a(t){return t in o&&(delete o[t],!0)}const u={setImmediate(t){const e=i++;return o[e]=!0,s.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class d extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const f=new d(l);var p=n("DH7j");class g extends r.a{constructor(t,e=0,n=f){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=f)}static create(t,e=0,n=f){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function m(t,e=0){return function(n){return n.lift(new b(t,e))}}class b{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},uXP2:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return o})),n.d(e,"d",(function(){return a})),n.d(e,"h",(function(){return u})),n.d(e,"e",(function(){return c})),n.d(e,"f",(function(){return l})),n.d(e,"g",(function(){return h}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,n,r){return new(n||(n=Promise))((function(i,s){function o(t){try{u(r.next(t))}catch(e){s(e)}}function a(t){try{u(r.throw(t))}catch(e){s(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}u((r=r.apply(t,e||[])).next())}))}function a(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}},vkgz:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("7o/Q");function i(){}var s=n("n6bG");function o(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(s.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("HDdC"),i=n("ngJS"),s=n("jZKg");function o(t,e){return e?Object(s.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return r}))},zIRd:function(t,e,n){"use strict";var r,i,s=n("uXP2"),o=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new o.b("app","Firebase",c),h="@firebase/app",d="[DEFAULT]",f=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),g=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(o.f)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",(function(){return u}),"PUBLIC"));try{for(var c=Object(s.h)(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e=d),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=d),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name=d);var a=s.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(o.d)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,s,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=f[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&o&&u.push("and"),o&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(u.join(" "))}c(new a.a(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||d,!Object(o.d)(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(a){var u,c,h=a.name;if(n.has(h))return p.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var d=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&Object(o.g)(d,a.serviceProps),r[h]=d,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,a.multipleInstances?t:[])}}try{for(var f=Object(s.h)(Object.keys(e)),g=f.next();!g.done;g=f.next())e[g.value]._addComponent(a)}catch(m){u={error:m}}finally{try{g&&!g.done&&(c=f.return)&&c.call(f)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(g);return e.INTERNAL=Object(s.a)(Object(s.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(o.g)(e,t)},createSubscribe:o.e,ErrorFactory:o.b,deepExtend:o.g}),e}(),b=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(o.i)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var v=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.n)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),v.apply(void 0,t)};var _=m;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",(function(t){return new b(t)}),"PRIVATE")),t.registerVersion(h,"0.6.13",void 0),t.registerVersion("fire-js","")}(_),e.a=_},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");const i={apiKey:"AIzaSyCnc5tF53En0C6qFZLDNlKO-7xXEWTDTAI",authDomain:"july-70f07.firebaseapp.com",databaseURL:"https://july-70f07.firebaseio.com",projectId:"july-70f07",storageBucket:"july-70f07.appspot.com",messagingSenderId:"770057227447",appId:"1:770057227447:web:f41d6fd0fdbb650d1c5132"};let s=null;function o(){return s}const a=new r.q("DocumentToken");let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Fb)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return Object(r.Sb)(h)}const l=new r.q("Location Initialized");let h=(()=>{class t extends u{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=o().getLocation(),this._history=o().getHistory()}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){d()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){d()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a))},t.\u0275prov=Object(r.Fb)({factory:f,token:t,providedIn:"platform"}),t})();function d(){return!!window.history.pushState}function f(){return new h(Object(r.Sb)(a))}function p(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function g(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function m(t){return t&&"?"!==t[0]?"?"+t:t}let b=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Fb)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=Object(r.Sb)(a).location;return new _(Object(r.Sb)(u),e&&e.origin||"")}const v=new r.q("appBaseHref");let _=(()=>{class t extends b{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return p(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(u),r.Sb(v,8))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t extends b{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=p(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(u),r.Sb(v,8))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),O=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=g(S(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+m(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,S(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(b),r.Sb(u))},t.normalizeQueryParams=m,t.joinWithSlash=p,t.stripTrailingSlash=g,t.\u0275prov=Object(r.Fb)({factory:C,token:t,providedIn:"root"}),t})();function C(){return new O(Object(r.Sb)(b),Object(r.Sb)(u))}function S(t){return t.replace(/\/index.html$/,"")}var E=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),T=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}({}),x=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}({}),k=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}({}),I=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function N(t,e){return D(Object(r.ib)(t)[r.Z.DateFormat],e)}function P(t,e){return D(Object(r.ib)(t)[r.Z.TimeFormat],e)}function A(t,e){return D(Object(r.ib)(t)[r.Z.DateTimeFormat],e)}function j(t,e){const n=Object(r.ib)(t),i=n[r.Z.NumberSymbols][e];if(void 0===i){if(e===I.CurrencyDecimal)return n[r.Z.NumberSymbols][I.Decimal];if(e===I.CurrencyGroup)return n[r.Z.NumberSymbols][I.Group]}return i}const R=r.lb;function M(t){if(!t[r.Z.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[r.Z.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function D(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function L(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const F=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,V={},U=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var q=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}({}),B=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}({}),H=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}({});function z(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,(function(t,n){return null!=e&&n in e?e[n]:t}))),t}function G(t,e,n="-",r,i){let s="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return r&&(o=o.substr(o.length-e)),s+o}function $(t,e,n=0,r=!1,i=!1){return function(s,o){let a=function(t,e){switch(t){case B.FullYear:return e.getFullYear();case B.Month:return e.getMonth();case B.Date:return e.getDate();case B.Hours:return e.getHours();case B.Minutes:return e.getMinutes();case B.Seconds:return e.getSeconds();case B.FractionalSeconds:return e.getMilliseconds();case B.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,s);if((n>0||a>-n)&&(a+=n),t===B.Hours)0===a&&-12===n&&(a=12);else if(t===B.FractionalSeconds)return u=e,G(a,3).substr(0,u);var u;const c=j(o,I.MinusSign);return G(a,e,c,r,i)}}function W(t,e,n=T.Format,i=!1){return function(s,o){return function(t,e,n,i,s,o){switch(n){case H.Months:return function(t,e,n){const i=Object(r.ib)(t),s=D([i[r.Z.MonthsFormat],i[r.Z.MonthsStandalone]],e);return D(s,n)}(e,s,i)[t.getMonth()];case H.Days:return function(t,e,n){const i=Object(r.ib)(t),s=D([i[r.Z.DaysFormat],i[r.Z.DaysStandalone]],e);return D(s,n)}(e,s,i)[t.getDay()];case H.DayPeriods:const a=t.getHours(),u=t.getMinutes();if(o){const t=function(t){const e=Object(r.ib)(t);return M(e),(e[r.Z.ExtraData][2]||[]).map(t=>"string"==typeof t?L(t):[L(t[0]),L(t[1])])}(e),n=function(t,e,n){const i=Object(r.ib)(t);M(i);const s=D([i[r.Z.ExtraData][0],i[r.Z.ExtraData][1]],e)||[];return D(s,n)||[]}(e,s,i),o=t.findIndex(t=>{if(Array.isArray(t)){const[e,n]=t,r=a>=e.hours&&u>=e.minutes,i=a<n.hours||a===n.hours&&u<n.minutes;if(e.hours<n.hours){if(r&&i)return!0}else if(r||i)return!0}else if(t.hours===a&&t.minutes===u)return!0;return!1});if(-1!==o)return n[o]}return function(t,e,n){const i=Object(r.ib)(t),s=D([i[r.Z.DayPeriodsFormat],i[r.Z.DayPeriodsStandalone]],e);return D(s,n)}(e,s,i)[a<12?0:1];case H.Eras:return function(t,e){return D(Object(r.ib)(t)[r.Z.Eras],e)}(e,i)[t.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+n)}}(s,o,t,e,n,i)}}function K(t){return function(e,n,r){const i=-1*r,s=j(n,I.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case q.Short:return(i>=0?"+":"")+G(o,2,s)+G(Math.abs(i%60),2,s);case q.ShortGMT:return"GMT"+(i>=0?"+":"")+G(o,1,s);case q.Long:return"GMT"+(i>=0?"+":"")+G(o,2,s)+":"+G(Math.abs(i%60),2,s);case q.Extended:return 0===r?"Z":(i>=0?"+":"")+G(o,2,s)+":"+G(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}function Q(t,e=!1){return function(n,r){let i;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();i=1+Math.floor((e+t)/7)}else{const t=(s=n,new Date(s.getFullYear(),s.getMonth(),s.getDate()+(4-s.getDay()))),e=function(t){const e=new Date(t,0,1).getDay();return new Date(t,0,1+(e<=4?4:11)-e)}(t.getFullYear()),r=t.getTime()-e.getTime();i=1+Math.round(r/6048e5)}var s;return G(i,t,j(r,I.MinusSign))}}const J={};function X(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function Z(t){return t instanceof Date&&!isNaN(t.valueOf())}class Y{}let tt=(()=>{class t extends Y{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(R(e||this.locale)(t)){case E.Zero:return"zero";case E.One:return"one";case E.Two:return"two";case E.Few:return"few";case E.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.u))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();function et(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}class nt{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let rt=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Object(r.U)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new nt(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new it(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new it(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.P),r.Jb(r.K),r.Jb(r.s))},t.\u0275dir=r.Eb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class it{constructor(t,e){this.record=t,this.view=e}}let st=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new ot,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){at("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){at("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.P),r.Jb(r.K))},t.\u0275dir=r.Eb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class ot{constructor(){this.$implicit=null,this.ngIf=null}}function at(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.tb)(e)}'.`)}function ut(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.tb)(t)}'`)}class ct{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class lt{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const ht=new lt,dt=new ct;let ft=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Object(r.qb)(e))return ht;if(Object(r.pb)(e))return dt;throw ut(t,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(r.Ub())},t.\u0275pipe=r.Ib({name:"async",type:t,pure:!1}),t})(),pt=(()=>{class t{transform(e){if(!e)return e;if("string"!=typeof e)throw ut(t,e);return e.toUpperCase()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Ib({name:"uppercase",type:t,pure:!0}),t})(),gt=(()=>{class t{constructor(t){this.locale=t}transform(e,n="mediumDate",i,s){if(null==e||""===e||e!=e)return null;try{return function(t,e,n,i){let s=function(t){if(Z(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){const[e,n,r]=t.split("-").map(t=>+t);return new Date(e,n-1,r)}let n;if(n=t.match(F))return function(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const o=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),c=Math.round(1e3*parseFloat("0."+(t[7]||0)));return s.call(e,o,a,u,c),e}(n)}const e=new Date(t);if(!Z(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=function t(e,n){const i=function(t){return Object(r.ib)(t)[r.Z.LocaleId]}(e);if(V[i]=V[i]||{},V[i][n])return V[i][n];let s="";switch(n){case"shortDate":s=N(e,k.Short);break;case"mediumDate":s=N(e,k.Medium);break;case"longDate":s=N(e,k.Long);break;case"fullDate":s=N(e,k.Full);break;case"shortTime":s=P(e,k.Short);break;case"mediumTime":s=P(e,k.Medium);break;case"longTime":s=P(e,k.Long);break;case"fullTime":s=P(e,k.Full);break;case"short":const n=t(e,"shortTime"),r=t(e,"shortDate");s=z(A(e,k.Short),[n,r]);break;case"medium":const i=t(e,"mediumTime"),o=t(e,"mediumDate");s=z(A(e,k.Medium),[i,o]);break;case"long":const a=t(e,"longTime"),u=t(e,"longDate");s=z(A(e,k.Long),[a,u]);break;case"full":const c=t(e,"fullTime"),l=t(e,"fullDate");s=z(A(e,k.Full),[c,l])}return s&&(V[i][n]=s),s}(n,e)||e;let o,a=[];for(;e;){if(o=U.exec(e),!o){a.push(e);break}{a=a.concat(o.slice(1));const t=a.pop();if(!t)break;e=t}}let u=s.getTimezoneOffset();i&&(u=X(i,u),s=function(t,e,n){const r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(X(e,r)-r))}(s,i));let c="";return a.forEach(t=>{const e=function(t){if(J[t])return J[t];let e;switch(t){case"G":case"GG":case"GGG":e=W(H.Eras,x.Abbreviated);break;case"GGGG":e=W(H.Eras,x.Wide);break;case"GGGGG":e=W(H.Eras,x.Narrow);break;case"y":e=$(B.FullYear,1,0,!1,!0);break;case"yy":e=$(B.FullYear,2,0,!0,!0);break;case"yyy":e=$(B.FullYear,3,0,!1,!0);break;case"yyyy":e=$(B.FullYear,4,0,!1,!0);break;case"M":case"L":e=$(B.Month,1,1);break;case"MM":case"LL":e=$(B.Month,2,1);break;case"MMM":e=W(H.Months,x.Abbreviated);break;case"MMMM":e=W(H.Months,x.Wide);break;case"MMMMM":e=W(H.Months,x.Narrow);break;case"LLL":e=W(H.Months,x.Abbreviated,T.Standalone);break;case"LLLL":e=W(H.Months,x.Wide,T.Standalone);break;case"LLLLL":e=W(H.Months,x.Narrow,T.Standalone);break;case"w":e=Q(1);break;case"ww":e=Q(2);break;case"W":e=Q(1,!0);break;case"d":e=$(B.Date,1);break;case"dd":e=$(B.Date,2);break;case"E":case"EE":case"EEE":e=W(H.Days,x.Abbreviated);break;case"EEEE":e=W(H.Days,x.Wide);break;case"EEEEE":e=W(H.Days,x.Narrow);break;case"EEEEEE":e=W(H.Days,x.Short);break;case"a":case"aa":case"aaa":e=W(H.DayPeriods,x.Abbreviated);break;case"aaaa":e=W(H.DayPeriods,x.Wide);break;case"aaaaa":e=W(H.DayPeriods,x.Narrow);break;case"b":case"bb":case"bbb":e=W(H.DayPeriods,x.Abbreviated,T.Standalone,!0);break;case"bbbb":e=W(H.DayPeriods,x.Wide,T.Standalone,!0);break;case"bbbbb":e=W(H.DayPeriods,x.Narrow,T.Standalone,!0);break;case"B":case"BB":case"BBB":e=W(H.DayPeriods,x.Abbreviated,T.Format,!0);break;case"BBBB":e=W(H.DayPeriods,x.Wide,T.Format,!0);break;case"BBBBB":e=W(H.DayPeriods,x.Narrow,T.Format,!0);break;case"h":e=$(B.Hours,1,-12);break;case"hh":e=$(B.Hours,2,-12);break;case"H":e=$(B.Hours,1);break;case"HH":e=$(B.Hours,2);break;case"m":e=$(B.Minutes,1);break;case"mm":e=$(B.Minutes,2);break;case"s":e=$(B.Seconds,1);break;case"ss":e=$(B.Seconds,2);break;case"S":e=$(B.FractionalSeconds,1);break;case"SS":e=$(B.FractionalSeconds,2);break;case"SSS":e=$(B.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=K(q.Short);break;case"ZZZZZ":e=K(q.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=K(q.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=K(q.Long);break;default:return null}return J[t]=e,e}(t);c+=e?e(s,n,u):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}(e,n,s||this.locale,i)}catch(o){throw ut(t,o.message)}}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.u))},t.\u0275pipe=r.Ib({name:"date",type:t,pure:!0}),t})(),mt=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[{provide:Y,useClass:tt}]}),t})();function bt(t){return"server"===t}let yt=(()=>{class t{}return t.\u0275prov=Object(r.Fb)({token:t,providedIn:"root",factory:()=>new vt(Object(r.Sb)(a),window,Object(r.Sb)(r.m))}),t})();class vt{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportsScrolling()){const e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{if(!this.window||!this.window.scrollTo)return!1;const t=_t(this.window.history)||_t(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window.scrollTo}catch(t){return!1}}}function _t(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class wt extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new wt,s||(s=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=Ct||(Ct=document.querySelector("base"),Ct)?Ct.getAttribute("href"):null;return null==e?null:(n=e,Ot||(Ot=document.createElement("a")),Ot.setAttribute("href",n),"/"===Ot.pathname.charAt(0)?Ot.pathname:"/"+Ot.pathname);var n}resetBaseElement(){Ct=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return et(document.cookie,t)}}let Ot,Ct=null;const St=new r.q("TRANSITION_ID"),Et=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=o();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[St,a,r.r],multi:!0}];class Tt{static init(){Object(r.W)(new Tt)}addToWindow(t){r.nb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.nb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.nb.getAllAngularRootElements=()=>t.getAllRootElements(),r.nb.frameworkStabilizers||(r.nb.frameworkStabilizers=[]),r.nb.frameworkStabilizers.push(t=>{const e=r.nb.getAllAngularTestabilities();let n=e.length,i=!1;const s=function(e){i=i||e,n--,0==n&&t(i)};e.forEach((function(t){t.whenStable(s)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?o().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const xt=new r.q("EventManagerPlugins");let kt=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(xt),r.Sb(r.z))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();class It{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=o().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let Nt=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),Pt=(()=>{class t extends Nt{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>o().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();const At={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},jt=/%COMP%/g;function Rt(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Rt(t,i,n):(i=i.replace(jt,t),n.push(i))}return n}function Mt(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Dt=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Lt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.Q.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new Ft(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case r.Q.Native:case r.Q.ShadowDom:return new Vt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=Rt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(kt),r.Sb(Pt),r.Sb(r.c))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();class Lt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(At[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=At[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=At[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&r.F.DashCase?t.style.setProperty(e,n,i&r.F.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.F.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Mt(n)):this.eventManager.addEventListener(t,e,Mt(n))}}class Ft extends Lt{constructor(t,e,n,r){super(t),this.component=n;const i=Rt(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(jt,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(jt,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class Vt extends Lt{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===r.Q.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const s=Rt(i.id,i.styles,[]);for(let r=0;r<s.length;r++){const t=document.createElement("style");t.textContent=s[r],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Ut=(()=>{class t extends It{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();const qt=["alt","control","meta","shift"],Bt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ht={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},zt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Gt=(()=>{class t extends It{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>o().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(qt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Ht.hasOwnProperty(e)&&(e=Ht[e]))}return Bt[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),qt.forEach(r=>{r!=n&&(0,zt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),$t=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Fb)({factory:function(){return Object(r.Sb)(Wt)},token:t,providedIn:"root"}),t})(),Wt=(()=>{class t extends $t{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case r.H.NONE:return e;case r.H.HTML:return Object(r.cb)(e,"HTML")?Object(r.ub)(e):Object(r.ab)(this._doc,String(e));case r.H.STYLE:return Object(r.cb)(e,"Style")?Object(r.ub)(e):e;case r.H.SCRIPT:if(Object(r.cb)(e,"Script"))return Object(r.ub)(e);throw new Error("unsafe value used in a script context");case r.H.URL:return Object(r.mb)(e),Object(r.cb)(e,"URL")?Object(r.ub)(e):Object(r.bb)(String(e));case r.H.RESOURCE_URL:if(Object(r.cb)(e,"ResourceURL"))return Object(r.ub)(e);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return Object(r.db)(t)}bypassSecurityTrustStyle(t){return Object(r.gb)(t)}bypassSecurityTrustScript(t){return Object(r.fb)(t)}bypassSecurityTrustUrl(t){return Object(r.hb)(t)}bypassSecurityTrustResourceUrl(t){return Object(r.eb)(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a))},t.\u0275prov=Object(r.Fb)({factory:function(){return t=Object(r.Sb)(r.o),new Wt(t.get(a));var t},token:t,providedIn:"root"}),t})();const Kt=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){wt.makeCurrent(),Tt.init()},multi:!0},{provide:a,useFactory:function(){return Object(r.sb)(document),document},deps:[]}],Qt=Object(r.R)(r.V,"browser",Kt),Jt=[[],{provide:r.Y,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:xt,useClass:Ut,multi:!0,deps:[a,r.z,r.B]},{provide:xt,useClass:Gt,multi:!0,deps:[a]},[],{provide:Dt,useClass:Dt,deps:[kt,Pt,r.c]},{provide:r.E,useExisting:Dt},{provide:Nt,useExisting:Pt},{provide:Pt,useClass:Pt,deps:[a]},{provide:r.L,useClass:r.L,deps:[r.z]},{provide:kt,useClass:kt,deps:[xt,r.z]},[]];let Xt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:St,useExisting:r.c},Et]}}}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)(r.Sb(t,12))},providers:Jt,imports:[mt,r.f]}),t})();"undefined"!=typeof window&&window;var Zt=n("LRne"),Yt=n("HDdC"),te=n("5+tZ");function ee(t,e){return Object(te.a)(t,e,1)}var ne=n("7o/Q");function re(t,e){return function(n){return n.lift(new ie(t,e))}}class ie{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new se(t,this.predicate,this.thisArg))}}class se extends ne.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}var oe=n("lJxs");class ae{}class ue{}class ce{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof ce?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new ce;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof ce?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class le{encodeKey(t){return he(t)}encodeValue(t){return he(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function he(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class de{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new le,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const r=t.indexOf("="),[i,s]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new de({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function fe(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function pe(t){return"undefined"!=typeof Blob&&t instanceof Blob}function ge(t){return"undefined"!=typeof FormData&&t instanceof FormData}class me{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new ce),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new de,this.urlWithParams=e}serializeBody(){return null===this.body?null:fe(this.body)||pe(this.body)||ge(this.body)||"string"==typeof this.body?this.body:this.body instanceof de?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ge(this.body)?null:pe(this.body)?this.body.type||null:fe(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof de?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,u=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(u=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),u)),new me(e,n,i,{params:u,headers:a,reportProgress:o,responseType:r,withCredentials:s})}}var be=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class ye{constructor(t,e=200,n="OK"){this.headers=t.headers||new ce,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class ve extends ye{constructor(t={}){super(t),this.type=be.ResponseHeader}clone(t={}){return new ve({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class _e extends ye{constructor(t={}){super(t),this.type=be.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new _e({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class we extends ye{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?"Http failure during parsing for "+(t.url||"(unknown url)"):`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Oe(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let Ce=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof me)r=t;else{let i=void 0;i=n.headers instanceof ce?n.headers:new ce(n.headers);let s=void 0;n.params&&(s=n.params instanceof de?n.params:new de({fromObject:n.params})),r=new me(t,e,void 0!==n.body?n.body:null,{headers:i,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Object(Zt.a)(r).pipe(ee(t=>this.handler.handle(t)));if(t instanceof me||"events"===n.observe)return i;const s=i.pipe(re(t=>t instanceof _e));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return s.pipe(Object(oe.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return s.pipe(Object(oe.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return s.pipe(Object(oe.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return s.pipe(Object(oe.a)(t=>t.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new de).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,Oe(n,e))}post(t,e,n={}){return this.request("POST",t,Oe(n,e))}put(t,e,n={}){return this.request("PUT",t,Oe(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(ae))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();class Se{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const Ee=new r.q("HTTP_INTERCEPTORS");let Te=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();const xe=/^\)\]\}',?\n/;class ke{}let Ie=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),Ne=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Yt.a(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const s=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",s=new ce(n.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new ve({headers:s,status:e,statusText:r,url:o}),i},o=()=>{let{headers:r,status:i,statusText:o,url:a}=s(),u=null;204!==i&&(u=void 0===n.response?n.responseText:n.response),0===i&&(i=u?200:0);let c=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof u){const t=u;u=u.replace(xe,"");try{u=""!==u?JSON.parse(u):null}catch(l){u=t,c&&(c=!1,u={error:l,text:u})}}c?(e.next(new _e({body:u,headers:r,status:i,statusText:o,url:a||void 0})),e.complete()):e.error(new we({error:u,headers:r,status:i,statusText:o,url:a||void 0}))},a=t=>{const{url:r}=s(),i=new we({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let u=!1;const c=r=>{u||(e.next(s()),u=!0);let i={type:be.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},l=t=>{let n={type:be.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),e.next({type:be.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",o),t.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(ke))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();const Pe=new r.q("XSRF_COOKIE_NAME"),Ae=new r.q("XSRF_HEADER_NAME");class je{}let Re=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=et(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a),r.Sb(r.B),r.Sb(Pe))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),Me=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(je),r.Sb(Ae))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),De=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(Ee,[]);this.chain=t.reduceRight((t,e)=>new Se(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(ue),r.Sb(r.r))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),Le=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:Me,useClass:Te}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:Pe,useValue:e.cookieName}:[],e.headerName?{provide:Ae,useValue:e.headerName}:[]]}}}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[Me,{provide:Ee,useExisting:Me,multi:!0},{provide:je,useClass:Re},{provide:Pe,useValue:"XSRF-TOKEN"},{provide:Ae,useValue:"X-XSRF-TOKEN"}]}),t})(),Fe=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[Ce,{provide:ae,useClass:De},Ne,{provide:ue,useExisting:Ne},Ie,{provide:ke,useExisting:Ie}],imports:[[Le.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();var Ve=n("DH7j"),Ue=n("XoHu"),qe=n("Cfvw");function Be(t,e){return new Yt.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const u=Object(qe.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,o++),i[a]=t},error:t=>n.error(t),complete:()=>{s++,s!==r&&c||(o===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const He=new r.q("NgValueAccessor"),ze={provide:He,useExisting:Object(r.T)(()=>Ge),multi:!0};let Ge=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Vb("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[r.xb([ze])]}),t})();const $e={provide:He,useExisting:Object(r.T)(()=>Ke),multi:!0},We=new r.q("CompositionEventMode");let Ke=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=o()?o().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l),r.Jb(We,8))},t.\u0275dir=r.Eb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Vb("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[r.xb([$e])]}),t})(),Qe=(()=>{class t{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Eb({type:t}),t})(),Je=(()=>{class t extends Qe{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Xe(e||t)},t.\u0275dir=r.Eb({type:t,features:[r.vb]}),t})();const Xe=r.Qb(Je);class Ze extends Qe{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){}get asyncValidator(){}}class Ye{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let tn=(()=>{class t extends Ye{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Ze,2))},t.\u0275dir=r.Eb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Bb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.vb]}),t})(),en=(()=>{class t extends Ye{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Je,2))},t.\u0275dir=r.Eb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Bb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.vb]}),t})();function nn(t){return null==t||0===t.length}function rn(t){return null!=t&&"number"==typeof t.length}const sn=new r.q("NgValidators"),on=new r.q("NgAsyncValidators"),an=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class un{static min(t){return e=>{if(nn(e.value)||nn(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(nn(e.value)||nn(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return nn(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return nn(t.value)||an.test(t.value)?null:{email:!0}}static minLength(t){return e=>nn(e.value)||!rn(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>rn(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return un.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(nn(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(cn);return 0==e.length?null:function(t){return hn(dn(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(cn);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(Ve.a)(e))return Be(e,null);if(Object(Ue.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Be(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Be(t=1===t.length&&Object(Ve.a)(t[0])?t[0]:t,null).pipe(Object(oe.a)(t=>e(...t)))}return Be(t,null)}(dn(t,e).map(ln)).pipe(Object(oe.a)(hn))}}}function cn(t){return null!=t}function ln(t){const e=Object(r.qb)(t)?Object(qe.a)(t):t;return Object(r.pb)(e),e}function hn(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function dn(t,e){return e.map(e=>e(t))}function fn(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}const pn={provide:He,useExisting:Object(r.T)(()=>gn),multi:!0};let gn=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Vb("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.xb([pn])]}),t})();const mn={provide:He,useExisting:Object(r.T)(()=>yn),multi:!0};let bn=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),yn=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Ze),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l),r.Jb(bn),r.Jb(r.r))},t.\u0275dir=r.Eb({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Vb("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.xb([mn])]}),t})();const vn={provide:He,useExisting:Object(r.T)(()=>_n),multi:!0};let _n=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Vb("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.xb([vn])]}),t})();const wn={provide:He,useExisting:Object(r.T)(()=>Cn),multi:!0};function On(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Cn=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=On(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Vb("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.xb([wn])]}),t})(),Sn=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(On(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.l),r.Jb(r.D),r.Jb(Cn,9))},t.\u0275dir=r.Eb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const En={provide:He,useExisting:Object(r.T)(()=>xn),multi:!0};function Tn(t,e){return null==t?""+e:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let xn=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Vb("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.xb([En])]}),t})(),kn=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(Tn(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Tn(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.l),r.Jb(r.D),r.Jb(xn,9))},t.\u0275dir=r.Eb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();function In(t,e){t.validator=un.compose([t.validator,e.validator]),t.asyncValidator=un.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Nn(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Nn(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function Nn(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Pn(t){return null!=t?un.compose(fn(t)):null}function An(t){return null!=t?un.composeAsync(fn(t)):null}const jn=[Ge,_n,gn,Cn,xn,yn],Rn="VALID",Mn="INVALID",Dn="PENDING",Ln="DISABLED";function Fn(t){return(Bn(t)?t.validators:t)||null}function Vn(t){return Array.isArray(t)?Pn(t):t||null}function Un(t,e){return(Bn(e)?e.asyncValidators:t)||null}function qn(t){return Array.isArray(t)?An(t):t||null}function Bn(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Hn{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Vn(this._rawValidators),this._composedAsyncValidatorFn=qn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Rn}get invalid(){return this.status===Mn}get pending(){return this.status==Dn}get disabled(){return this.status===Ln}get enabled(){return this.status!==Ln}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Vn(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=qn(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Dn,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Ln,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Rn,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==Rn&&this.status!==Dn||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ln:Rn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Dn,this._hasOwnPendingAsyncValidator=!0;const e=ln(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof Gn?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof $n&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?Ln:this.errors?Mn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Dn)?Dn:this._anyControlsHaveStatus(Mn)?Mn:Rn}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Bn(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class zn extends Hn{constructor(t=null,e,n){super(Fn(e),Un(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Gn extends Hn{constructor(t,e,n){super(Fn(e),Un(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof zn?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class $n extends Hn{constructor(t,e,n){super(Fn(e),Un(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof zn?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Wn={provide:Je,useExisting:Object(r.T)(()=>Qn)},Kn=(()=>Promise.resolve(null))();let Qn=(()=>{class t extends Je{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.n,this.form=new Gn({},Pn(t),An(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Kn.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),In(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Kn.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),function(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this._directives,t)})}addFormGroup(t){Kn.then(()=>{const e=this._findContainer(t.path),n=new Gn({});(function(t,e){t.validator=un.compose([t.validator,e.validator]),t.asyncValidator=un.composeAsync([t.asyncValidator,e.asyncValidator])})(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Kn.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){Kn.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,e=this._directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(sn,10),r.Jb(on,10))},t.\u0275dir=r.Eb({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.Vb("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.xb([Wn]),r.vb]}),t})();const Jn={provide:Ze,useExisting:Object(r.T)(()=>Zn)},Xn=(()=>Promise.resolve(null))();let Zn=(()=>{class t extends Ze{constructor(t,e,n,i){super(),this.control=new zn,this._registered=!1,this.update=new r.n,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e);let n=void 0,r=void 0,i=void 0;return e.forEach(t=>{var e;t.constructor===Ke?n=t:(e=t,jn.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(t,e){return[...e.path,t]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Pn(this._rawValidators)}get asyncValidator(){return An(this._rawAsyncValidators)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){In(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Xn.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;Xn.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Je,9),r.Jb(sn,10),r.Jb(on,10),r.Jb(He,10))},t.\u0275dir=r.Eb({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.xb([Jn]),r.vb,r.wb]}),t})(),Yn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Eb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),tr=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)}}),t})(),er=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[bn],imports:[tr]}),t})();const nr={provide:He,useExisting:Object(r.T)(()=>rr),multi:!0};let rr=(()=>{class t{constructor(){this.btnCheckboxTrue=!0,this.btnCheckboxFalse=!1,this.state=!1,this.onChange=Function.prototype,this.onTouched=Function.prototype}onClick(){this.isDisabled||(this.toggle(!this.state),this.onChange(this.value))}ngOnInit(){this.toggle(this.trueValue===this.value)}get trueValue(){return void 0===this.btnCheckboxTrue||this.btnCheckboxTrue}get falseValue(){return void 0!==this.btnCheckboxFalse&&this.btnCheckboxFalse}toggle(t){this.state=t,this.value=this.state?this.trueValue:this.falseValue}writeValue(t){this.state=this.trueValue===t,this.value=t?this.trueValue:this.falseValue}setDisabledState(t){this.isDisabled=t}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Eb({type:t,selectors:[["","btnCheckbox",""]],hostVars:3,hostBindings:function(t,e){1&t&&r.Vb("click",(function(){return e.onClick()})),2&t&&(r.zb("aria-pressed",e.state),r.Bb("active",e.state))},inputs:{btnCheckboxTrue:"btnCheckboxTrue",btnCheckboxFalse:"btnCheckboxFalse"},features:[r.xb([nr])]}),t})();const ir={provide:He,useExisting:Object(r.T)(()=>sr),multi:!0};let sr=(()=>{class t{constructor(t,e,n,r){this.el=t,this.cdr=e,this.renderer=n,this.group=r,this.onChange=Function.prototype,this.onTouched=Function.prototype,this.role="radio",this._hasFocus=!1}get value(){return this.group?this.group.value:this._value}set value(t){this.group?this.group.value=t:this._value=t}get disabled(){return this._disabled}set disabled(t){this.setDisabledState(t)}get controlOrGroupDisabled(){return!!(this.disabled||this.group&&this.group.disabled)||void 0}get hasDisabledClass(){return this.controlOrGroupDisabled&&!this.isActive}get isActive(){return this.btnRadio===this.value}get tabindex(){return this.controlOrGroupDisabled?void 0:this.isActive||null==this.group?0:-1}get hasFocus(){return this._hasFocus}toggleIfAllowed(){this.canToggle()&&(this.value=this.uncheckable&&this.btnRadio===this.value?void 0:this.btnRadio,this._onChange(this.value))}onSpacePressed(t){this.toggleIfAllowed(),t.preventDefault()}focus(){this.el.nativeElement.focus()}onFocus(){this._hasFocus=!0}onBlur(){this._hasFocus=!1,this.onTouched()}canToggle(){return!this.controlOrGroupDisabled&&(this.uncheckable||this.btnRadio!==this.value)}ngOnInit(){this.uncheckable=void 0!==this.uncheckable}_onChange(t){this.group?this.group.value=t:(this.onTouched(),this.onChange(t))}writeValue(t){this.value=t,this.cdr.markForCheck()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._disabled=t,t?this.renderer.setAttribute(this.el.nativeElement,"disabled","disabled"):this.renderer.removeAttribute(this.el.nativeElement,"disabled")}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.l),r.Jb(r.h),r.Jb(r.D),r.Jb(Object(r.T)(()=>ar),8))},t.\u0275dir=r.Eb({type:t,selectors:[["","btnRadio",""]],hostVars:8,hostBindings:function(t,e){1&t&&r.Vb("click",(function(){return e.toggleIfAllowed()}))("keydown.space",(function(t){return e.onSpacePressed(t)}))("focus",(function(){return e.onFocus()}))("blur",(function(){return e.onBlur()})),2&t&&(r.zb("role",e.role)("aria-disabled",e.controlOrGroupDisabled)("aria-checked",e.isActive)("tabindex",e.tabindex),r.Bb("disabled",e.hasDisabledClass)("active",e.isActive))},inputs:{value:"value",disabled:"disabled",uncheckable:"uncheckable",btnRadio:"btnRadio"},features:[r.xb([ir])]}),t})();const or={provide:He,useExisting:Object(r.T)(()=>ar),multi:!0};let ar=(()=>{class t{constructor(t){this.cdr=t,this.onChange=Function.prototype,this.onTouched=Function.prototype,this.role="radiogroup"}get value(){return this._value}set value(t){this._value=t,this.onChange(t)}get tabindex(){return this._disabled?null:0}writeValue(t){this._value=t,this.cdr.markForCheck()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.radioButtons&&(this._disabled=t,this.radioButtons.forEach(e=>{e.setDisabledState(t)}),this.cdr.markForCheck())}onFocus(){if(this._disabled)return;const t=this.getActiveOrFocusedRadio();if(t)t.focus();else{const t=this.radioButtons.find(t=>!t.disabled);t&&t.focus()}}onBlur(){this.onTouched&&this.onTouched()}selectNext(t){this.selectInDirection("next"),t.preventDefault()}selectPrevious(t){this.selectInDirection("previous"),t.preventDefault()}get disabled(){return this._disabled}selectInDirection(t){if(this._disabled)return;function e(e,n){let r=(e+("next"===t?1:-1))%n.length;return r<0&&(r=n.length-1),r}const n=this.getActiveOrFocusedRadio();if(n){const t=this.radioButtons.toArray(),r=t.indexOf(n);for(let n=e(r,t);n!==r;n=e(n,t))if(t[n].canToggle()){t[n].toggleIfAllowed(),t[n].focus();break}}}getActiveOrFocusedRadio(){return this.radioButtons.find(t=>t.isActive)||this.radioButtons.find(t=>t.hasFocus)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.h))},t.\u0275dir=r.Eb({type:t,selectors:[["","btnRadioGroup",""]],contentQueries:function(t,e,n){var i;1&t&&r.Cb(n,sr,!1),2&t&&r.hc(i=r.Wb())&&(e.radioButtons=i)},hostVars:2,hostBindings:function(t,e){1&t&&r.Vb("focus",(function(){return e.onFocus()}))("blur",(function(){return e.onBlur()}))("keydown.ArrowRight",(function(t){return e.selectNext(t)}))("keydown.ArrowDown",(function(t){return e.selectNext(t)}))("keydown.ArrowLeft",(function(t){return e.selectPrevious(t)}))("keydown.ArrowUp",(function(t){return e.selectPrevious(t)})),2&t&&r.zb("role",e.role)("tabindex",e.tabindex)},features:[r.xb([or])]}),t})(),ur=(()=>{class t{static forRoot(){return{ngModule:t,providers:[]}}}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)}}),t})();class cr{constructor(t,e){this.open=t,this.close=e||t}isManual(){return"manual"===this.open||"manual"===this.close}}const lr={hover:["mouseover","mouseout"],focus:["focusin","focusout"]},hr="undefined"!=typeof window&&window||{};let dr;function fr(){return void 0===hr||(void 0===hr.__theme?(dr||(dr=function(){if("undefined"==typeof document)return null;const t=document.createElement("span");t.innerText="test bs version",document.body.appendChild(t),t.classList.add("d-none");const e=t.getBoundingClientRect();return document.body.removeChild(t),e&&0===e.top?"bs4":"bs3"}()),"bs3"===dr):"bs4"!==hr.__theme)}"undefined"==typeof console||console;var pr=n("XNiG"),gr=n("VRyK"),mr=n("n6bG");function br(t,e,n,r){return Object(mr.a)(n)&&(r=n,n=void 0),r?br(t,e,n).pipe(Object(oe.a)(t=>Object(Ve.a)(t)?r(...t):r(t))):new Yt.a(r=>{!function t(e,n,r,i,s){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(n,r,s),o=()=>t.removeEventListener(n,r,s)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(n,r),o=()=>t.off(n,r)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(n,r),o=()=>t.removeListener(n,r)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let o=0,a=e.length;o<a;o++)t(e[o],n,r,i,s)}i.add(o)}(t,e,(function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),r,n)})}var yr=n("3N8a");class vr extends yr.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}var _r=n("IjjT");class wr extends _r.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const Or=new wr(vr);function Cr(t,e){if(1!==t.nodeType)return[];const n=t.ownerDocument.defaultView.getComputedStyle(t,null);return e?n[e]:n}function Sr(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function Er(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}const{overflow:e,overflowX:n,overflowY:r}=Cr(t);return/(auto|scroll|overlay)/.test(String(e)+String(r)+String(n))?t:Er(Sr(t))}const Tr="undefined"!=typeof window&&"undefined"!=typeof document,xr=Tr&&!(!window.MSInputMethodContext||!document.documentMode),kr=Tr&&!(!window.MSInputMethodContext||!/MSIE 10/.test(navigator.userAgent));function Ir(t){return 11===t?xr:10===t?kr:xr||kr}function Nr(t){if(!t)return document.documentElement;const e=Ir(10)?document.body:null;let n,r=t.offsetParent||null;for(;r===e&&t.nextElementSibling&&n!==t.nextElementSibling;)n=t.nextElementSibling,r=n.offsetParent;const i=r&&r.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TH","TD","TABLE"].indexOf(r.nodeName)&&"static"===Cr(r,"position")?Nr(r):r:n?n.ownerDocument.documentElement:document.documentElement}function Pr(t){return null!==t.parentNode?Pr(t.parentNode):t}function Ar(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;const n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?t:e,i=n?e:t,s=document.createRange();s.setStart(r,0),s.setEnd(i,0);const{commonAncestorContainer:o}=s;if(t!==o&&e!==o||r.contains(i))return function(t){const{nodeName:e}=t;return"BODY"!==e&&("HTML"===e||Nr(t.firstElementChild)===t)}(o)?o:Nr(o);const a=Pr(t);return a.host?Ar(a.host,e):Ar(t,Pr(e).host)}function jr(t,e){const n="x"===e?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(t[`border${n}Width`])+parseFloat(t[`border${r}Width`])}function Rr(t,e,n,r){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],Ir(10)?parseInt(n["offset"+t],10)+parseInt(r["margin"+("Height"===t?"Top":"Left")],10)+parseInt(r["margin"+("Height"===t?"Bottom":"Right")],10):0)}function Mr(t){const e=t.body,n=t.documentElement,r=Ir(10)&&getComputedStyle(n);return{height:Rr("Height",e,n,r),width:Rr("Width",e,n,r)}}function Dr(t,e="top"){const n="top"===e?"scrollTop":"scrollLeft",r=t.nodeName;if("BODY"===r||"HTML"===r){const e=t.ownerDocument.documentElement;return(t.ownerDocument.scrollingElement||e)[n]}return t[n]}function Lr(t){return Object.assign(Object.assign({},t),{right:t.left+t.width,bottom:t.top+t.height})}function Fr(t){let e={};try{if(Ir(10)){e=t.getBoundingClientRect();const n=Dr(t,"top"),r=Dr(t,"left");e.top+=n,e.left+=r,e.bottom+=n,e.right+=r}else e=t.getBoundingClientRect()}catch(o){return}const n={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},r="HTML"===t.nodeName?Mr(t.ownerDocument):{};let i=t.offsetWidth-(r.width||t.clientWidth||n.right-n.left),s=t.offsetHeight-(r.height||t.clientHeight||n.bottom-n.top);if(i||s){const e=Cr(t);i-=jr(e,"x"),s-=jr(e,"y"),n.width-=i,n.height-=s}return Lr(n)}function Vr(t,e,n=!1){const r=Ir(10),i="HTML"===e.nodeName,s=Fr(t),o=Fr(e),a=Er(t),u=Cr(e),c=parseFloat(u.borderTopWidth),l=parseFloat(u.borderLeftWidth);n&&i&&(o.top=Math.max(o.top,0),o.left=Math.max(o.left,0));let h=Lr({top:s.top-o.top-c,left:s.left-o.left-l,width:s.width,height:s.height});if(h.marginTop=0,h.marginLeft=0,!r&&i){const t=parseFloat(u.marginTop),e=parseFloat(u.marginLeft);h.top-=c-t,h.bottom-=c-t,h.left-=l-e,h.right-=l-e,h.marginTop=t,h.marginLeft=e}return(r&&!n?e.contains(a):e===a&&"BODY"!==a.nodeName)&&(h=function(t,e,n=!1){const r=Dr(e,"top"),i=Dr(e,"left"),s=n?-1:1;return t.top+=r*s,t.bottom+=r*s,t.left+=i*s,t.right+=i*s,t}(h,e)),h}function Ur(t){if(!t||!t.parentElement||Ir())return document.documentElement;let e=t.parentElement;for(;e&&"none"===Cr(e,"transform");)e=e.parentElement;return e||document.documentElement}function qr(t,e,n=0,r,i=!1){let s={top:0,left:0};const o=i?Ur(t):Ar(t,e);if("viewport"===r)s=function(t,e=!1){const n=t.ownerDocument.documentElement,r=Vr(t,n),i=Math.max(n.clientWidth,window.innerWidth||0),s=Math.max(n.clientHeight,window.innerHeight||0),o=e?0:Dr(n),a=e?0:Dr(n,"left");return Lr({top:o-Number(r.top)+Number(r.marginTop),left:a-Number(r.left)+Number(r.marginLeft),width:i,height:s})}(o,i);else{let n;"scrollParent"===r?(n=Er(Sr(e)),"BODY"===n.nodeName&&(n=t.ownerDocument.documentElement)):n="window"===r?t.ownerDocument.documentElement:r;const a=Vr(n,o,i);if("HTML"!==n.nodeName||function t(e){const n=e.nodeName;return"BODY"!==n&&"HTML"!==n&&("fixed"===Cr(e,"position")||t(Sr(e)))}(o))s=a;else{const{height:e,width:n}=Mr(t.ownerDocument);s.top+=a.top-a.marginTop,s.bottom=Number(e)+Number(a.top),s.left+=a.left-a.marginLeft,s.right=Number(n)+Number(a.left)}}return s.left+=n,s.top+=n,s.right-=n,s.bottom-=n,s}function Br({width:t,height:e}){return t*e}function Hr(t,e,n,r,i=["top","bottom","right","left"],s="viewport",o=0){if(-1===t.indexOf("auto"))return t;const a=qr(n,r,o,s),u={top:{width:a.width,height:e.top-a.top},right:{width:a.right-e.right,height:a.height},bottom:{width:a.width,height:a.bottom-e.bottom},left:{width:e.left-a.left,height:a.height}},c=Object.keys(u).map(t=>Object.assign(Object.assign({key:t},u[t]),{area:Br(u[t])})).sort((t,e)=>e.area-t.area);let l=c.filter(({width:t,height:e})=>t>=n.clientWidth&&e>=n.clientHeight);l=l.filter(t=>i.some(e=>e===t.key));const h=l.length>0?l[0].key:c[0].key,d=t.split(" ")[1];return n.className=n.className.replace(/bs-tooltip-auto/g,"bs-tooltip-"+h),h+(d?"-"+d:"")}function zr(t){const e=t.ownerDocument.defaultView.getComputedStyle(t),n=parseFloat(e.marginTop||0)+parseFloat(e.marginBottom||0),r=parseFloat(e.marginLeft||0)+parseFloat(e.marginRight||0);return{width:Number(t.offsetWidth)+r,height:Number(t.offsetHeight)+n}}function Gr(t,e,n=null){return Vr(e,n?Ur(t):Ar(t,e),n)}function $r(t,e,n){const r=n.split(" ")[0],i=zr(t),s={width:i.width,height:i.height},o=-1!==["right","left"].indexOf(r),a=o?"top":"left",u=o?"left":"top",c=o?"height":"width",l=o?"width":"height";return s[a]=e[a]+e[c]/2-i[c]/2,s[u]=r===u?e[u]-i[l]:e[function(t){const e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,t=>e[t])}(u)],s}function Wr(t,e){return t&&t.modifiers&&t.modifiers[e]&&t.modifiers[e].enabled}function Kr(t,e,n){Object.keys(e).forEach(r=>{let i="";var s;-1!==["width","height","top","right","bottom","left"].indexOf(r)&&""!==(s=e[r])&&!isNaN(parseFloat(s))&&isFinite(s)&&(i="px"),n?n.setStyle(t,r,`${String(e[r])}${i}`):t.style[r]=String(e[r])+i})}function Qr(t){let e=t.offsets.target;const n=t.instance.target.querySelector(".arrow");if(!n)return t;const r=-1!==["left","right"].indexOf(t.placement.split(" ")[0]),i=r?"height":"width",s=r?"Top":"Left",o=s.toLowerCase(),a=r?"left":"top",u=r?"bottom":"right",c=zr(n)[i],l=t.placement.split(" ")[1];t.offsets.host[u]-c<e[o]&&(e[o]-=e[o]-(t.offsets.host[u]-c)),Number(t.offsets.host[o])+Number(c)>e[u]&&(e[o]+=Number(t.offsets.host[o])+Number(c)-Number(e[u])),e=Lr(e);const h=Cr(t.instance.target),d=parseFloat(h["margin"+s]),f=parseFloat(h[`border${s}Width`]);let p;if(l){const e=parseFloat(h.borderRadius),n=Number(d+f+e);p=o===l?Number(t.offsets.host[o])+n:Number(t.offsets.host[o])+Number(t.offsets.host[i]-n)}else p=Number(t.offsets.host[o])+Number(t.offsets.host[i]/2-c/2);let g=p-e[o]-d-f;return g=Math.max(Math.min(e[i]-c,g),0),t.offsets.arrow={[o]:Math.round(g),[a]:""},t.instance.arrow=n,t}function Jr(t){if(t.offsets.target=Lr(t.offsets.target),!Wr(t.options,"flip"))return t.offsets.target=Object.assign(Object.assign({},t.offsets.target),$r(t.instance.target,t.offsets.host,t.placement)),t;const e=qr(t.instance.target,t.instance.host,0,"viewport",!1);let n=t.placement.split(" ")[0],r=t.placement.split(" ")[1]||"";const i=Hr("auto",t.offsets.host,t.instance.target,t.instance.host,t.options.allowedPositions),s=[n,i];return s.forEach((i,o)=>{if(n!==i||s.length===o+1)return t;n=t.placement.split(" ")[0];const a="left"===n&&Math.floor(t.offsets.target.right)>Math.floor(t.offsets.host.left)||"right"===n&&Math.floor(t.offsets.target.left)<Math.floor(t.offsets.host.right)||"top"===n&&Math.floor(t.offsets.target.bottom)>Math.floor(t.offsets.host.top)||"bottom"===n&&Math.floor(t.offsets.target.top)<Math.floor(t.offsets.host.bottom),u=Math.floor(t.offsets.target.left)<Math.floor(e.left),c=Math.floor(t.offsets.target.right)>Math.floor(e.right),l=Math.floor(t.offsets.target.top)<Math.floor(e.top),h=Math.floor(t.offsets.target.bottom)>Math.floor(e.bottom),d="left"===n&&u||"right"===n&&c||"top"===n&&l||"bottom"===n&&h,f=-1!==["top","bottom"].indexOf(n),p=f&&"left"===r&&u||f&&"right"===r&&c||!f&&"left"===r&&l||!f&&"right"===r&&h;(a||d||p)&&((a||d)&&(n=s[o+1]),p&&(r=function(t){return"right"===t?"left":"left"===t?"right":t}(r)),t.placement=n+(r?" "+r:""),t.offsets.target=Object.assign(Object.assign({},t.offsets.target),$r(t.instance.target,t.offsets.host,t.placement)))}),t}function Xr(t){if(!Wr(t.options,"preventOverflow"))return t;const e="transform",n=t.instance.target.style,{top:r,left:i,[e]:s}=n;n.top="",n.left="",n[e]="";const o=qr(t.instance.target,t.instance.host,0,"scrollParent",!1);n.top=r,n.left=i,n[e]=s;const a={primary(e){let n=t.offsets.target[e];return t.offsets.target[e]<o[e]&&(n=Math.max(t.offsets.target[e],o[e])),{[e]:n}},secondary(e){const n="right"===e?"left":"top";let r=t.offsets.target[n];return t.offsets.target[e]>o[e]&&(r=Math.min(t.offsets.target[n],o[e]-("right"===e?t.offsets.target.width:t.offsets.target.height))),{[n]:r}}};let u;return["left","right","top","bottom"].forEach(e=>{u=-1!==["left","top"].indexOf(e)?"primary":"secondary",t.offsets.target=Object.assign(Object.assign({},t.offsets.target),a[u](e))}),t}function Zr(t){const e=t.placement,n=e.split(" ")[0],r=e.split(" ")[1];if(r){const{host:e,target:i}=t.offsets,s=-1!==["bottom","top"].indexOf(n),o=s?"left":"top",a=s?"width":"height",u={start:{[o]:e[o]},end:{[o]:e[o]+e[a]-i[a]}};t.offsets.target=Object.assign(Object.assign({},i),{[o]:o===r?u.start[o]:u.end[o]})}return t}const Yr=new class{position(t,e,n=!0){return this.offset(t,e,!1)}offset(t,e,n=!0){return Gr(e,t)}positionElements(t,e,n,r,i){return[Jr,Zr,Xr,Qr].reduce((t,e)=>e(t),function(t,e,n,r){const i=Gr(t,e);n.match(/^(auto)*\s*(left|right|top|bottom)*$/)||n.match(/^(left|right|top|bottom)*(?: (left|right|top|bottom))?\s*(start|end)*$/)||(n="auto");const s=!!n.match(/auto/g);let o=n.match(/auto\s(left|right|top|bottom)/)?n.split(" ")[1]||"auto":n;const a=o.match(/^(left|right|top|bottom)* ?(?!\1)(left|right|top|bottom)?/);a&&(o=a[1]+(a[2]?" "+a[2]:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(o)&&(o="auto");const u=$r(t,i,o);return o=Hr(o,i,t,e,r?r.allowedPositions:void 0),{options:r,instance:{target:t,host:e,arrow:null},offsets:{target:u,host:i,arrow:null},positionFixed:!1,placement:o,placementAuto:s}}(e,t,n,i))}};let ti=(()=>{class t{constructor(t,e,n){this.update$$=new pr.a,this.positionElements=new Map,this.isDisabled=!1,function(t){return"browser"===t}(n)&&t.runOutsideAngular(()=>{this.triggerEvent$=Object(gr.a)(br(window,"scroll",{passive:!0}),br(window,"resize",{passive:!0}),Object(Zt.a)(0,Or),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(t=>{!function(t,e,n,r,i,s){const o=Yr.positionElements(t,e,n,r,i),a=function(t){return{width:t.offsets.target.width,height:t.offsets.target.height,left:Math.floor(t.offsets.target.left),top:Math.round(t.offsets.target.top),bottom:Math.round(t.offsets.target.bottom),right:Math.floor(t.offsets.target.right)}}(o);Kr(e,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${a.left}px, ${a.top}px, 0px)`},s),o.instance.arrow&&Kr(o.instance.arrow,o.offsets.arrow,s),function(t,e){const n=t.instance.target;let r=n.className;t.placementAuto&&(r=r.replace(/bs-popover-auto/g,"bs-popover-"+t.placement),r=r.replace(/bs-tooltip-auto/g,"bs-tooltip-"+t.placement),r=r.replace(/\sauto/g," "+t.placement),-1!==r.indexOf("popover")&&-1===r.indexOf("popover-auto")&&(r+=" popover-auto"),-1!==r.indexOf("tooltip")&&-1===r.indexOf("tooltip-auto")&&(r+=" tooltip-auto")),r=r.replace(/left|right|top|bottom/g,""+t.placement.split(" ")[0]),e?e.setAttribute(n,"class",r):n.className=r}(o,s)}(ei(t.target),ei(t.element),t.attachment,t.appendToBody,this.options,e.createRenderer(null,null))})})})}position(t){this.addPositionElement(t)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(t){this.positionElements.set(ei(t.element),t)}calcPosition(){this.update$$.next()}deletePositionElement(t){this.positionElements.delete(ei(t))}setOptions(t){this.options=t}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.z),r.Sb(r.E),r.Sb(r.B))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();function ei(t){return"string"==typeof t?document.querySelector(t):t instanceof r.l?t.nativeElement:t}class ni{constructor(t,e,n){this.nodes=t,this.viewRef=e,this.componentRef=n}}class ri{constructor(t,e,n,i,s,o,a,u){this._viewContainerRef=t,this._renderer=e,this._elementRef=n,this._injector=i,this._componentFactoryResolver=s,this._ngZone=o,this._applicationRef=a,this._posService=u,this.onBeforeShow=new r.n,this.onShown=new r.n,this.onBeforeHide=new r.n,this.onHidden=new r.n,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(t){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(t),this}to(t){return this.container=t||this.container,this}position(t){return this.attachment=t.attachment||this.attachment,this._elementRef=t.target||this._elementRef,this}provide(t){return this._providers.push(t),this}show(t={}){if(this._subscribePositioning(),this._innerComponent=null,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(t.content,t.context,t.initialState);const e=r.r.create({providers:this._providers,parent:this._injector});this._componentRef=this._componentFactory.create(e,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,t),this.container instanceof r.l&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&"undefined"!=typeof document&&(document.querySelector(this.container)||document.querySelector(this.containerDefaultSelector)).appendChild(this._componentRef.location.nativeElement),!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(t.id?{id:t.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(t){if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const e=this._componentRef.location.nativeElement;return e.parentNode.removeChild(e),this._contentRef.componentRef&&this._contentRef.componentRef.destroy(),this._viewContainerRef&&this._contentRef.viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._contentRef=null,this._componentRef=null,this._removeGlobalListener(),this.onHidden.emit(t?{id:t}:null),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(t){this.triggers=t.triggers||this.triggers,this._listenOpts.outsideClick=t.outsideClick,this._listenOpts.outsideEsc=t.outsideEsc,t.target=t.target||this._elementRef.nativeElement;const e=this._listenOpts.hide=()=>t.hide?t.hide():void this.hide(),n=this._listenOpts.show=e=>{t.show?t.show(e):this.show(e),e()};return this._unregisterListenersFn=function(t,e){const n=function(t,e=lr){const n=(t||"").trim();if(0===n.length)return[];const r=n.split(/\s+/).map(t=>t.split(":")).map(t=>{const n=e[t[0]]||t;return new cr(n[0],n[1])}),i=r.filter(t=>t.isManual());if(i.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===i.length&&r.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return r}(e.triggers),r=e.target;if(1===n.length&&n[0].isManual())return Function.prototype;const i=[],s=[],o=()=>{s.forEach(t=>i.push(t())),s.length=0};return n.forEach(n=>{const a=n.open===n.close,u=a?e.toggle:e.show;a||s.push(()=>t.listen(r,n.close,e.hide)),i.push(t.listen(r,n.open,()=>u(o)))}),()=>{i.forEach(t=>t())}}(this._renderer,{target:t.target,triggers:t.triggers,show:n,hide:e,toggle:t=>{this.isShown?e():n(t)}}),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=null)}attachInline(t,e){return this._inlineViewRef=t.createEmbeddedView(e),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const t=this._componentRef.location.nativeElement;setTimeout(()=>{var e;this._globalListener=(e={targets:[t,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide()}).outsideClick?this._renderer.listen("document","click",t=>{e.target&&e.target.contains(t.target)||e.targets&&e.targets.some(e=>e.contains(t.target))||e.hide()}):Function.prototype})}var t;this._listenOpts.outsideEsc&&(this._globalListener=(t={targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide()}).outsideEsc?this._renderer.listen("document","keyup.esc",e=>{t.target&&t.target.contains(e.target)||t.targets&&t.targets.some(t=>t.contains(e.target))||t.hide()}):Function.prototype)}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){!this._zoneSubscription&&this.attachment&&(this.onShown.subscribe(()=>{this._posService.position({element:this._componentRef.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{this._componentRef&&this._posService.calcPosition()}))}_unsubscribePositioning(){this._zoneSubscription&&(this._zoneSubscription.unsubscribe(),this._zoneSubscription=null)}_getContentRef(t,e,n){if(!t)return new ni([]);if(t instanceof r.K){if(this._viewContainerRef){const n=this._viewContainerRef.createEmbeddedView(t,e);return n.markForCheck(),new ni([n.rootNodes],n)}const n=t.createEmbeddedView({});return this._applicationRef.attachView(n),new ni([n.rootNodes],n)}if("function"==typeof t){const e=this._componentFactoryResolver.resolveComponentFactory(t),i=r.r.create({providers:this._providers,parent:this._injector}),s=e.create(i);return Object.assign(s.instance,n),this._applicationRef.attachView(s.hostView),new ni([[s.location.nativeElement]],s.hostView,s)}return new ni([[this._renderer.createText(""+t)]])}}let ii=(()=>{class t{constructor(t,e,n,r,i){this._componentFactoryResolver=t,this._ngZone=e,this._injector=n,this._posService=r,this._applicationRef=i}createLoader(t,e,n){return new ri(e,n,t,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.j),r.Sb(r.z),r.Sb(r.r),r.Sb(ti),r.Sb(r.g))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();const si=["*"];let oi=(()=>{class t{constructor(){this.hide=Function,this.setClass=Function}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),ai=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();const ui={backdrop:!0,keyboard:!0,focus:!0,show:!1,ignoreBackdropClick:!1,class:"",animated:!0,initialState:{}},ci=new r.q("override-default-config"),li="modal-open",hi="show";let di=(()=>{class t{constructor(t,e,n){this._element=e,this._renderer=n,this.isShown=!1,this.isModalHiding=!1,this.clickStartedInContent=!1,this.config=Object.assign({},t)}ngOnInit(){this.isAnimated&&this._renderer.addClass(this._element.nativeElement,"fade"),this._renderer.setStyle(this._element.nativeElement,"display","block"),setTimeout(()=>{this.isShown=!0,this._renderer.addClass(this._element.nativeElement,fr()?"in":hi)},this.isAnimated?150:0),document&&document.body&&(1===this.bsModalService.getModalsCount()&&(this.bsModalService.checkScrollbar(),this.bsModalService.setScrollbar()),this._renderer.addClass(document.body,li)),this._element.nativeElement&&this._element.nativeElement.focus()}onClickStarted(t){this.clickStartedInContent=t.target!==this._element.nativeElement}onClickStop(t){this.config.ignoreBackdropClick||"static"===this.config.backdrop||t.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(this.bsModalService.setDismissReason("backdrop-click"),this.hide())}onPopState(){this.bsModalService.setDismissReason("browser-back-navigation-clicked"),this.hide()}onEsc(t){this.isShown&&(27!==t.keyCode&&"Escape"!==t.key||t.preventDefault(),this.config.keyboard&&this.level===this.bsModalService.getModalsCount()&&(this.bsModalService.setDismissReason("esc"),this.hide()))}ngOnDestroy(){this.isShown&&this.hide()}hide(){!this.isModalHiding&&this.isShown&&(this.isModalHiding=!0,this._renderer.removeClass(this._element.nativeElement,fr()?"in":hi),setTimeout(()=>{this.isShown=!1,document&&document.body&&1===this.bsModalService.getModalsCount()&&this._renderer.removeClass(document.body,li),this.bsModalService.hide(this.config.id),this.isModalHiding=!1},this.isAnimated?300:0))}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(ai),r.Jb(r.l),r.Jb(r.D))},t.\u0275cmp=r.Db({type:t,selectors:[["modal-container"]],hostAttrs:["role","dialog","tabindex","-1",1,"modal"],hostVars:3,hostBindings:function(t,e){1&t&&r.Vb("mousedown",(function(t){return e.onClickStarted(t)}))("mouseup",(function(t){return e.onClickStop(t)}))("popstate",(function(){return e.onPopState()}),!1,r.jc)("keydown.esc",(function(t){return e.onEsc(t)}),!1,r.jc),2&t&&r.zb("aria-modal",!0)("aria-labelledby",e.config.ariaLabelledBy)("aria-describedby",e.config.ariaDescribedby)},ngContentSelectors:si,decls:3,vars:2,consts:[["role","document"],[1,"modal-content"]],template:function(t,e){1&t&&(r.cc(),r.Ob(0,"div",0),r.Ob(1,"div",1),r.bc(2),r.Nb(),r.Nb()),2&t&&r.Ab("modal-dialog"+(e.config.class?" "+e.config.class:""))},encapsulation:2}),t})(),fi=(()=>{class t{constructor(t,e){this._isShown=!1,this.element=t,this.renderer=e}get isAnimated(){return this._isAnimated}set isAnimated(t){this._isAnimated=t}get isShown(){return this._isShown}set isShown(t){this._isShown=t,t?this.renderer.addClass(this.element.nativeElement,"in"):this.renderer.removeClass(this.element.nativeElement,"in"),fr()||(t?this.renderer.addClass(this.element.nativeElement,"show"):this.renderer.removeClass(this.element.nativeElement,"show"))}ngOnInit(){this.isAnimated&&(this.renderer.addClass(this.element.nativeElement,"fade"),class{static reflow(t){}static getStyles(t){let e=t.ownerDocument.defaultView;return e&&e.opener||(e=hr),e.getComputedStyle(t)}}.reflow(this.element.nativeElement)),this.isShown=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.l),r.Jb(r.D))},t.\u0275cmp=r.Db({type:t,selectors:[["bs-modal-backdrop"]],hostAttrs:[1,"modal-backdrop"],decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})(),pi=(()=>{class t{constructor(t,e,n){this.clf=e,this.modalDefaultOption=n,this.onShow=new r.n,this.onShown=new r.n,this.onHide=new r.n,this.onHidden=new r.n,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.modalsCount=0,this.lastDismissReason=null,this.loaders=[],this._backdropLoader=this.clf.createLoader(null,null,null),this._renderer=t.createRenderer(null,null),this.config=n?Object.assign({},ui,n):ui}show(t,e){this.modalsCount++,this._createLoaders();const n=(null==e?void 0:e.id)||(new Date).getUTCMilliseconds();return this.config=this.modalDefaultOption?Object.assign({},ui,this.modalDefaultOption,e):Object.assign({},ui,e),this.config.id=n,this._showBackdrop(),this.lastDismissReason=null,this._showModal(t)}hide(t){1!==this.modalsCount&&null!=t||(this._hideBackdrop(),this.resetScrollbar()),this.modalsCount=this.modalsCount>=1&&null!=t?this.modalsCount-1:0,setTimeout(()=>{this._hideModal(t),this.removeLoaders(t)},this.config.animated?150:0)}_showBackdrop(){const t=this.config.backdrop||"static"===this.config.backdrop,e=!this.backdropRef||!this.backdropRef.instance.isShown;1===this.modalsCount&&(this.removeBackdrop(),t&&e&&(this._backdropLoader.attach(fi).to("body").show({isAnimated:this.config.animated}),this.backdropRef=this._backdropLoader._componentRef))}_hideBackdrop(){this.backdropRef&&(this.backdropRef.instance.isShown=!1,setTimeout(()=>this.removeBackdrop(),this.config.animated?150:0))}_showModal(t){var e;const n=this.loaders[this.loaders.length-1];if(this.config&&this.config.providers)for(const r of this.config.providers)n.provide(r);const i=new oi,s=n.provide({provide:ai,useValue:this.config}).provide({provide:oi,useValue:i}).attach(di).to("body");return i.hide=()=>s.instance.hide(),i.setClass=t=>{s.instance.config.class=t},i.onHidden=new r.n,i.onHide=new r.n,this.copyEvent(n.onBeforeHide,i.onHide),this.copyEvent(n.onHidden,i.onHidden),s.show({content:t,isAnimated:this.config.animated,initialState:this.config.initialState,bsModalService:this,id:this.config.id}),s.instance.level=this.getModalsCount(),i.content=n.getInnerComponent()||null,i.id=null===(e=s.instance.config)||void 0===e?void 0:e.id,i}_hideModal(t){if(null!=t){const e=this.loaders.findIndex(e=>e.instance.config.id===t),n=this.loaders[e];n&&n.hide(t)}else this.loaders.forEach(t=>{t.hide(t.instance.config.id)})}getModalsCount(){return this.modalsCount}setDismissReason(t){this.lastDismissReason=t}removeBackdrop(){this._renderer.removeClass(document.body,li),this._backdropLoader.hide(),this.backdropRef=null}checkScrollbar(){this.isBodyOverflowing=document.body.clientWidth<window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){document&&(this.originalBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")||"0",10),this.isBodyOverflowing&&(document.body.style.paddingRight=this.originalBodyPadding+this.scrollbarWidth+"px"))}resetScrollbar(){document.body.style.paddingRight=this.originalBodyPadding+"px"}getScrollbarWidth(){const t=this._renderer.createElement("div");this._renderer.addClass(t,"modal-scrollbar-measure"),this._renderer.appendChild(document.body,t);const e=t.offsetWidth-t.clientWidth;return this._renderer.removeChild(document.body,t),e}_createLoaders(){const t=this.clf.createLoader(null,null,null);this.copyEvent(t.onBeforeShow,this.onShow),this.copyEvent(t.onShown,this.onShown),this.copyEvent(t.onBeforeHide,this.onHide),this.copyEvent(t.onHidden,this.onHidden),this.loaders.push(t)}removeLoaders(t){if(null!=t){const e=this.loaders.findIndex(e=>e.instance.config.id===t);e>=0&&(this.loaders.splice(e,1),this.loaders.forEach((t,e)=>{t.instance.level=e+1}))}else this.loaders.splice(0,this.loaders.length)}copyEvent(t,e){t.subscribe(t=>{e.emit(this.lastDismissReason||t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.E),r.Sb(ii),r.Sb(ci,8))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),gi=(()=>{class t{static forRoot(){return{ngModule:t,providers:[pi,ii,ti]}}static forChild(){return{ngModule:t,providers:[pi,ii,ti]}}}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)}}),t})(),mi=(()=>{class t{static forRoot(){return{ngModule:t,providers:[]}}}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},imports:[[mt]]}),t})();var bi=n("9ppp");class yi extends pr.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new bi.a;return this._value}next(t){super.next(this._value=t)}}var vi=n("z+Ro");class _i extends ne.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class wi extends ne.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Oi=n("SeVD");function Ci(t,e,n,r,i=new wi(t,n,r)){if(!i.closed)return e instanceof Yt.a?e.subscribe(i):Object(Oi.a)(e)(i)}var Si=n("yCtX");const Ei={};class Ti{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new xi(t,this.resultSelector))}}class xi extends _i{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Ei),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(Ci(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===Ei?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const ki=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var Ii=n("EY2u");function Ni(t){return new Yt.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(qe.a)(n):Object(Ii.b)()).subscribe(e)})}var Pi=n("bHdf");function Ai(){return Object(Pi.a)(1)}const ji=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Ri(t){return function(e){return 0===t?Object(Ii.b)():e.lift(new Mi(t))}}class Mi{constructor(t){if(this.total=t,this.total<0)throw new ji}call(t,e){return e.subscribe(new Di(t,this.total))}}class Di extends ne.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function Li(t=Ui){return e=>e.lift(new Fi(t))}class Fi{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Vi(t,this.errorFactory))}}class Vi extends ne.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function Ui(){return new ki}function qi(t=null){return e=>e.lift(new Bi(t))}class Bi{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Hi(t,this.defaultValue))}}class Hi extends ne.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var zi=n("SpAZ"),Gi=n("zx2A");function $i(t,e){return"function"==typeof e?n=>n.pipe($i((n,r)=>Object(qe.a)(t(n,r)).pipe(Object(oe.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Wi(t))}class Wi{constructor(t){this.project=t}call(t,e){return e.subscribe(new Ki(t,this.project))}}class Ki extends Gi.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new Gi.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(Gi.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}function Qi(t){return e=>0===t?Object(Ii.b)():e.lift(new Ji(t))}class Ji{constructor(t){if(this.total=t,this.total<0)throw new ji}call(t,e){return e.subscribe(new Xi(t,this.total))}}class Xi extends ne.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Zi(...t){return Ai()(Object(Zt.a)(...t))}function Yi(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new ts(t,e,n))}}class ts{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new es(t,this.accumulator,this.seed,this.hasSeed))}}class es extends ne.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function ns(t){return function(e){const n=new rs(t),r=e.lift(n);return n.caught=r}}class rs{constructor(t){this.selector=t}call(t,e){return e.subscribe(new is(t,this.selector,this.caught))}}class is extends Gi.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new Gi.a(this);this.add(r);const i=Object(Gi.c)(n,r);i!==r&&this.add(i)}}}function ss(t,e){const n=arguments.length>=2;return r=>r.pipe(t?re((e,n)=>t(e,n,r)):zi.a,Qi(1),n?qi(e):Li(()=>new ki))}var os=n("vkgz"),as=n("quSY");class us{constructor(t){this.callback=t}call(t,e){return e.subscribe(new cs(t,this.callback))}}class cs extends ne.a{constructor(t,e){super(t),this.add(new as.a(e))}}class ls{constructor(t,e){this.id=t,this.url=e}}class hs extends ls{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ds extends ls{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class fs extends ls{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ps extends ls{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class gs extends ls{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ms extends ls{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bs extends ls{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ys extends ls{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vs extends ls{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _s{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ws{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Os{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cs{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ss{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Es{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ts{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const xs="primary";class ks{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Is(t){return new ks(t)}function Ns(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Ps(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function As(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!js(t[i],e[i]))return!1;return!0}function js(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function Rs(t){return Array.prototype.concat.apply([],t)}function Ms(t){return t.length>0?t[t.length-1]:null}function Ds(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Ls(t){return Object(r.pb)(t)?t:Object(r.qb)(t)?Object(qe.a)(Promise.resolve(t)):Object(Zt.a)(t)}function Fs(t,e,n){return n?function(t,e){return As(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!Bs(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>js(t[n],e[n]))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!Bs(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!Bs(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!Bs(n.segments,t)&&!!n.children.primary&&e(n.children.primary,r,s)}}(e,n,n.segments)}(t.root,e.root)}class Vs{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Is(this.queryParams)),this._queryParamMap}toString(){return $s.serialize(this)}}class Us{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Ds(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ws(this)}}class qs{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Is(this.parameters)),this._parameterMap}toString(){return Ys(this)}}function Bs(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function Hs(t,e){let n=[];return Ds(t.children,(t,r)=>{r===xs&&(n=n.concat(e(t,r)))}),Ds(t.children,(t,r)=>{r!==xs&&(n=n.concat(e(t,r)))}),n}class zs{}class Gs{parse(t){const e=new io(t);return new Vs(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+function t(e,n){if(!e.hasChildren())return Ws(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",r=[];return Ds(e.children,(e,n)=>{n!==xs&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=Hs(e,(n,r)=>r===xs?[t(e.children.primary,!1)]:[`${r}:${t(n,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children.primary?`${Ws(e)}/${n[0]}`:`${Ws(e)}/(${n.join("//")})`}}(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Qs(e)}=${Qs(t)}`).join("&"):`${Qs(e)}=${Qs(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const $s=new Gs;function Ws(t){return t.segments.map(t=>Ys(t)).join("/")}function Ks(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Qs(t){return Ks(t).replace(/%3B/gi,";")}function Js(t){return Ks(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xs(t){return decodeURIComponent(t)}function Zs(t){return Xs(t.replace(/\+/g,"%20"))}function Ys(t){return`${Js(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Js(t)}=${Js(e[t])}`).join("")}`;var e}const to=/^[^\/()?;=#]+/;function eo(t){const e=t.match(to);return e?e[0]:""}const no=/^[^=?&#]+/,ro=/^[^?&#]+/;class io{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Us([],{}):new Us([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Us(t,e)),n}parseSegment(){const t=eo(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new qs(Xs(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=eo(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=eo(this.remaining);t&&(n=t,this.capture(n))}t[Xs(e)]=Xs(n)}parseQueryParam(t){const e=function(t){const e=t.match(no);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(ro);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Zs(e),i=Zs(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=eo(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=xs);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new Us([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class so{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=oo(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=oo(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=ao(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return ao(t,this._root).map(t=>t.value)}}function oo(t,e){if(t===e.value)return e;for(const n of e.children){const e=oo(t,n);if(e)return e}return null}function ao(t,e){if(t===e.value)return[e];for(const n of e.children){const r=ao(t,n);if(r.length)return r.unshift(e),r}return[]}class uo{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function co(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class lo extends so{constructor(t,e){super(t),this.snapshot=e,bo(this,t)}toString(){return this.snapshot.toString()}}function ho(t,e){const n=function(t,e){const n=new go([],{},{},"",{},xs,e,null,t.root,-1,{});return new mo("",new uo(n,[]))}(t,e),r=new yi([new qs("",{})]),i=new yi({}),s=new yi({}),o=new yi({}),a=new yi(""),u=new fo(r,i,o,a,s,xs,e,n.root);return u.snapshot=n.root,new lo(new uo(u,[]),n)}class fo{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(oe.a)(t=>Is(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(oe.a)(t=>Is(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function po(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class go{constructor(t,e,n,r,i,s,o,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Is(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Is(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class mo extends so{constructor(t,e){super(e),this.url=t,bo(this,e)}toString(){return yo(this._root)}}function bo(t,e){e.value._routerState=t,e.children.forEach(e=>bo(t,e))}function yo(t){const e=t.children.length>0?` { ${t.children.map(yo).join(", ")} } `:"";return`${t.value}${e}`}function vo(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,As(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),As(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!As(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),As(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function _o(t,e){return As(t.params,e.params)&&function(t,e){return Bs(t,e)&&t.every((t,n)=>As(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||_o(t.parent,e.parent))}function wo(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Oo(t){return"object"==typeof t&&null!=t&&t.outlets}function Co(t,e,n,r,i){let s={};return r&&Ds(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new Vs(n.root===t?e:function t(e,n,r){const i={};return Ds(e.children,(e,s)=>{i[s]=e===n?r:t(e,n,r)}),new Us(e.segments,i)}(n.root,t,e),s,i)}class So{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&wo(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Oo);if(r&&r!==Ms(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Eo{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function To(t,e,n){if(t||(t=new Us([],{})),0===t.segments.length&&t.hasChildren())return xo(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=n[r];if(Oo(o))break;const a=""+o,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!Po(a,u,e))return s;r+=2}else{if(!Po(a,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Us(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Us(t.segments.slice(r.pathIndex),t.children),xo(e,0,i)}return r.match&&0===i.length?new Us(t.segments,{}):r.match&&!t.hasChildren()?ko(t,e,n):r.match?xo(t,0,i):ko(t,e,n)}function xo(t,e,n){if(0===n.length)return new Us(t.segments,{});{const r=function(t){return Oo(t[0])?t[0].outlets:{[xs]:t}}(n),i={};return Ds(r,(n,r)=>{null!==n&&(i[r]=To(t.children[r],e,n))}),Ds(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Us(t.segments,i)}}function ko(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Oo(s)){const t=Io(s.outlets);return new Us(r,t)}if(0===i&&wo(n[0])){r.push(new qs(t.segments[e].path,n[0])),i++;continue}const o=Oo(s)?s.outlets.primary:""+s,a=i<n.length-1?n[i+1]:null;o&&a&&wo(a)?(r.push(new qs(o,No(a))),i+=2):(r.push(new qs(o,{})),i++)}return new Us(r,{})}function Io(t){const e={};return Ds(t,(t,n)=>{null!==t&&(e[n]=ko(new Us([],{}),0,t))}),e}function No(t){const e={};return Ds(t,(t,n)=>e[n]=""+t),e}function Po(t,e,n){return t==n.path&&As(e,n.parameters)}class Ao{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),vo(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=co(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Ds(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=co(t),i=t.value.component?n.children:e;Ds(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=co(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Es(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Cs(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(vo(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),jo(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function jo(t){vo(t.value),t.children.forEach(jo)}class Ro{constructor(t,e){this.routes=t,this.module=e}}function Mo(t){return"function"==typeof t}function Do(t){return t instanceof Vs}const Lo=Symbol("INITIAL_VALUE");function Fo(){return $i(t=>function(...t){let e=void 0,n=void 0;return Object(vi.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(Ve.a)(t[0])&&(t=t[0]),Object(Si.a)(t,n).lift(new Ti(e))}(...t.map(t=>t.pipe(Qi(1),function(...t){const e=t[t.length-1];return Object(vi.a)(e)?(t.pop(),n=>Zi(t,n,e)):e=>Zi(t,e)}(Lo)))).pipe(Yi((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Lo)return t;if(r===Lo&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Do(r))return r}return t},t)},Lo),re(t=>t!==Lo),Object(oe.a)(t=>Do(t)?t:!0===t),Qi(1)))}class Vo{constructor(t){this.segmentGroup=t||null}}class Uo{constructor(t){this.urlTree=t}}function qo(t){return new Yt.a(e=>e.error(new Vo(t)))}function Bo(t){return new Yt.a(e=>e.error(new Uo(t)))}function Ho(t){return new Yt.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class zo{constructor(t,e,n,i,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(r.x)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,xs).pipe(Object(oe.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(ns(t=>{if(t instanceof Uo)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Vo)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,xs).pipe(Object(oe.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(ns(t=>{if(t instanceof Vo)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Us([],{[xs]:t}):t;return new Vs(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(oe.a)(t=>new Us([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(Zt.a)({});const n=[],r=[],i={};return Ds(t,(t,s)=>{const o=e(s,t).pipe(Object(oe.a)(t=>i[s]=t));s===xs?n.push(o):r.push(o)}),Zt.a.apply(null,n.concat(r)).pipe(Ai(),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?re((e,n)=>t(e,n,r)):zi.a,Ri(1),n?qi(e):Li(()=>new ki))}(),Object(oe.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,s){return Object(Zt.a)(...n).pipe(ee(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe(ns(t=>{if(t instanceof Vo)return Object(Zt.a)(null);throw t}))),ss(t=>!!t),ns((t,n)=>{if(t instanceof ki||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Object(Zt.a)(new Us([],{}));throw new Vo(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return Ko(r)!==s?qo(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):qo(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Bo(i):this.lineralizeSegments(n,i).pipe(Object(te.a)(n=>{const i=new Us(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:u,positionalParamSegments:c}=Go(e,r,i);if(!o)return qo(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?Bo(l):this.lineralizeSegments(r,l).pipe(Object(te.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(oe.a)(t=>(n._loadedConfig=t,new Us(r,{})))):Object(Zt.a)(new Us(r,{}));const{matched:i,consumedSegments:s,lastChild:o}=Go(e,n,r);if(!i)return qo(e);const a=r.slice(o);return this.getChildConfig(t,n,r).pipe(Object(te.a)(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:o}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>Wo(t,e,n)&&Ko(n)!==xs)}(t,n,r)?{segmentGroup:$o(new Us(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&Ko(r)!==xs&&(n[Ko(r)]=new Us([],{}));return n}(r,new Us(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>Wo(t,e,n))}(t,n,r)?{segmentGroup:$o(new Us(t.segments,function(t,e,n,r){const i={};for(const s of n)Wo(t,e,s)&&!r[Ko(s)]&&(i[Ko(s)]=new Us([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,a,r);return 0===o.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(oe.a)(t=>new Us(s,t))):0===r.length&&0===o.length?Object(Zt.a)(new Us(s,{})):this.expandSegment(n,i,r,o,xs,!0).pipe(Object(oe.a)(t=>new Us(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(Zt.a)(new Ro(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Zt.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(te.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(oe.a)(t=>(e._loadedConfig=t,t))):function(t){return new Yt.a(e=>e.error(Ns(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(Zt.a)(new Ro([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(Zt.a)(!0);const i=r.map(r=>{const i=t.get(r);let s;if(function(t){return t&&Mo(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!Mo(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return Ls(s)});return Object(Zt.a)(i).pipe(Fo(),Object(os.a)(t=>{if(!Do(t))return;const e=Ns(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(oe.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Zt.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Ho(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Vs(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Ds(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return Ds(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new Us(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Go(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||Ps)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function $o(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Us(t.segments.concat(e.segments),e.children)}return t}function Wo(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Ko(t){return t.outlet||xs}class Qo{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Jo{constructor(t,e){this.component=t,this.route=e}}function Xo(t,e,n){const r=t._root;return function t(e,n,r,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=co(n);return e.children.forEach(e=>{!function(e,n,r,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,a=n?n.value:null,u=r?r.getContext(e.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Bs(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Bs(t.url,e.url)||!As(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_o(t,e)||!As(t.queryParams,e.queryParams);case"paramsChange":default:return!_o(t,e)}}(a,o,o.routeConfig.runGuardsAndResolvers);c?s.canActivateChecks.push(new Qo(i)):(o.data=a.data,o._resolvedData=a._resolvedData),t(e,n,o.component?u?u.children:null:r,i,s),c&&u&&u.outlet&&u.outlet.isActivated&&s.canDeactivateChecks.push(new Jo(u.outlet.component,a))}else a&&Yo(n,u,s),s.canActivateChecks.push(new Qo(i)),t(e,null,o.component?u?u.children:null:r,i,s)}(e,o[e.value.outlet],r,i.concat([e.value]),s),delete o[e.value.outlet]}),Ds(o,(t,e)=>Yo(t,r.getContext(e),s)),s}(r,e?e._root:null,n,[r.value])}function Zo(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Yo(t,e,n){const r=co(t),i=t.value;Ds(r,(t,r)=>{Yo(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Jo(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function ta(t,e){return null!==t&&e&&e(new Ss(t)),Object(Zt.a)(!0)}function ea(t,e){return null!==t&&e&&e(new Os(t)),Object(Zt.a)(!0)}function na(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Zt.a)(!0);const i=r.map(r=>Ni(()=>{const i=Zo(r,e,n);let s;if(function(t){return t&&Mo(t.canActivate)}(i))s=Ls(i.canActivate(e,t));else{if(!Mo(i))throw new Error("Invalid CanActivate guard");s=Ls(i(e,t))}return s.pipe(ss())}));return Object(Zt.a)(i).pipe(Fo())}function ra(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Ni(()=>{const i=e.guards.map(i=>{const s=Zo(i,e.node,n);let o;if(function(t){return t&&Mo(t.canActivateChild)}(s))o=Ls(s.canActivateChild(r,t));else{if(!Mo(s))throw new Error("Invalid CanActivateChild guard");o=Ls(s(r,t))}return o.pipe(ss())});return Object(Zt.a)(i).pipe(Fo())}));return Object(Zt.a)(i).pipe(Fo())}class ia{}class sa{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){try{const t=ua(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,xs),n=new go([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},xs,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new uo(n,e),i=new mo(this.url,r);return this.inheritParamsAndData(i._root),Object(Zt.a)(i)}catch(t){return new Yt.a(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=po(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=Hs(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>t.value.outlet===xs?-1:e.value.outlet===xs?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const s of t)try{return this.processSegmentAgainstRoute(s,e,n,r)}catch(i){if(!(i instanceof ia))throw i}if(this.noLeftoversInUrl(e,n,r))return[];throw new ia}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new ia;if((t.outlet||xs)!==r)throw new ia;let i,s=[],o=[];if("**"===t.path){const s=n.length>0?Ms(n).parameters:{};i=new go(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ha(t),r,t.component,t,oa(e),aa(e)+n.length,da(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new ia;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||Ps)(n,t,e);if(!r)throw new ia;const i={};Ds(r.posParams,(t,e)=>{i[e]=t.path});const s=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:s}}(e,t,n);s=a.consumedSegments,o=n.slice(a.lastChild),i=new go(s,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ha(t),r,t.component,t,oa(e),aa(e)+s.length,da(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=ua(e,s,o,a,this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return[new uo(i,t)]}if(0===a.length&&0===c.length)return[new uo(i,[])];const l=this.processSegment(a,u,c,xs);return[new uo(i,l)]}}function oa(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function aa(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function ua(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>ca(t,e,n)&&la(n)!==xs)}(t,n,r)){const i=new Us(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&la(s)!==xs){const n=new Us([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[la(s)]=n}return i}(t,e,r,new Us(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>ca(t,e,n))}(t,n,r)){const s=new Us(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(ca(t,n,a)&&!i[la(a)]){const n=new Us([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[la(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new Us(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function ca(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function la(t){return t.outlet||xs}function ha(t){return t.data||{}}function da(t){return t.resolve||{}}function fa(t){return function(e){return e.pipe($i(e=>{const n=t(e);return n?Object(qe.a)(n).pipe(Object(oe.a)(()=>e)):Object(qe.a)([e])}))}}class pa extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}let ga=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Db({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Kb(0,"router-outlet")},directives:function(){return[ja]},encapsulation:2}),t})();function ma(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];ba(r,ya(e,r))}}function ba(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==xs)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&ma(t.children,e)}function ya(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function va(t){const e=t.children&&t.children.map(va),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==xs&&(n.component=ga),n}const _a=new r.q("ROUTES");class wa{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(oe.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new Ro(Rs(r.injector.get(_a)).map(va),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(qe.a)(this.loader.load(t)):Ls(t()).pipe(Object(te.a)(t=>t instanceof r.v?Object(Zt.a)(t):Object(qe.a)(this.compiler.compileModuleAsync(t))))}}class Oa{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ca,this.attachRef=null}}class Ca{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Oa,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Sa{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Ea(t){throw t}function Ta(t,e,n){return e.parse("/")}function xa(t,e){return Object(Zt.a)(null)}let ka=(()=>{class t{constructor(t,e,n,i,s,o,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new pr.a,this.errorHandler=Ea,this.malformedUriErrorHandler=Ta,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:xa,afterPreactivation:xa},this.urlHandlingStrategy=new Sa,this.routeReuseStrategy=new pa,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=s.get(r.x),this.console=s.get(r.X);const c=s.get(r.z);this.isNgZoneEnabled=c instanceof r.z,this.resetConfig(u),this.currentUrlTree=new Vs(new Us([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new wa(o,a,t=>this.triggerEvent(new _s(t)),t=>this.triggerEvent(new ws(t))),this.routerState=ho(this.currentUrlTree,this.rootComponentType),this.transitions=new yi({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(re(t=>0!==t.id),Object(oe.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),$i(t=>{let n=!1,r=!1;return Object(Zt.a)(t).pipe(Object(os.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),$i(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Zt.a)(t).pipe($i(t=>{const n=this.transitions.getValue();return e.next(new hs(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Ii.a:[t]}),$i(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,function(t){return t.pipe($i(t=>function(t,e,n,r,i){return new zo(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,o).pipe(Object(oe.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object(os.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(s){return s.pipe(Object(te.a)(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){return new sa(t,e,n,r,i,s).recognize()}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(Object(oe.a)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(os.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(os.a)(t=>{const n=new gs(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,a=new hs(n,this.serializeUrl(r),i,s);e.next(a);const u=ho(r,this.rootComponentType).snapshot;return Object(Zt.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Ii.a}),fa(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(os.a)(t=>{const e=new ms(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(oe.a)(t=>Object.assign(Object.assign({},t),{guards:Xo(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(te.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Object(Zt.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(qe.a)(t).pipe(Object(te.a)(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(Zt.a)(!0);const o=s.map(s=>{const o=Zo(s,e,i);let a;if(function(t){return t&&Mo(t.canDeactivate)}(o))a=Ls(o.canDeactivate(t,e,n,r));else{if(!Mo(o))throw new Error("Invalid CanDeactivate guard");a=Ls(o(t,e,n,r))}return a.pipe(ss())});return Object(Zt.a)(o).pipe(Fo())}(t.component,t.route,n,e,r)),ss(t=>!0!==t,!0))}(o,r,i,t).pipe(Object(te.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(qe.a)(e).pipe(ee(e=>Object(qe.a)([ea(e.route.parent,r),ta(e.route,r),ra(t,e.path,n),na(t,e.route,n)]).pipe(Ai(),ss(t=>!0!==t,!0))),ss(t=>!0!==t,!0))}(r,s,t,e):Object(Zt.a)(n)),Object(oe.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(os.a)(t=>{if(Do(t.guardsResult)){const e=Ns(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(os.a)(t=>{const e=new bs(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),re(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new fs(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),fa(t=>{if(t.guards.canActivateChecks.length)return Object(Zt.a)(t).pipe(Object(os.a)(t=>{const e=new ys(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),$i(t=>{let n=!1;return Object(Zt.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(t){return t.pipe(Object(te.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(Zt.a)(t);let s=0;return Object(qe.a)(n).pipe(ee(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(Zt.a)({});const s={};return Object(qe.a)(i).pipe(Object(te.a)(i=>function(t,e,n,r){const i=Zo(t,e,r);return Ls(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(os.a)(t=>{s[i]=t}))),Ri(1),Object(te.a)(()=>Object.keys(s).length===i.length?Object(Zt.a)(s):Ii.a))}(t._resolve,t,e,r).pipe(Object(oe.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),po(t,n).resolve),null)))}(t.route,e,r,i)),Object(os.a)(()=>s++),Ri(1),Object(te.a)(e=>s===n.length?Object(Zt.a)(t):Ii.a))}))}),Object(os.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new fs(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(os.a)(t=>{const e=new vs(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),fa(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(oe.a)(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const s=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new uo(i,s)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new fo(new yi((i=n.value).url),new yi(i.params),new yi(i.queryParams),new yi(i.fragment),new yi(i.data),i.outlet,i.component,i),s=n.children.map(n=>t(e,n));return new uo(r,s)}}var i}(t,e._root,n?n._root:void 0);return new lo(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(os.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(s=this.rootContexts,o=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(oe.a)(t=>(new Ao(o,t.targetRouterState,t.currentRouterState,a).activate(s),t))),Object(os.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new fs(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new us(i))),ns(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Do(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new fs(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new ps(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(Ff){t.reject(Ff)}}var i;return Ii.a}));var i,s,o,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){ma(t),this.config=t.map(va),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:s,preserveQueryParams:o,queryParamsHandling:a,preserveFragment:u}=e;Object(r.U)()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const c=n||this.routerState.root,l=u?this.currentUrlTree.fragment:s;let h=null;if(a)switch(a){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}else h=o?this.currentUrlTree.queryParams:i||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,r,i){if(0===n.length)return Co(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new So(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Ds(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new So(n,e,r)}(n);if(s.toRoot())return Co(e.root,new Us([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new Eo(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Eo(t,t===e.root,0)}const r=wo(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Eo(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?xo(o.segmentGroup,o.index,s.commands):To(o.segmentGroup,o.index,s.commands);return Co(o.segmentGroup,a,e,r,i)}(c,this.currentUrlTree,t,h,l)}navigateByUrl(t,e={skipLocationChange:!1}){Object(r.U)()&&this.isNgZoneEnabled&&!r.z.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=Do(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(Do(t))return Fs(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Fs(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new ds(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const s=this.getTransition(),o="imperative"!==e&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(o&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.M),r.Sb(zs),r.Sb(Ca),r.Sb(O),r.Sb(r.r),r.Sb(r.w),r.Sb(r.i),r.Sb(void 0))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),Ia=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new pr.a,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(r.U)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}onClick(){const t={skipLocationChange:Pa(this.skipLocationChange),replaceUrl:Pa(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Pa(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Pa(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(ka),r.Jb(fo),r.Tb("tabindex"),r.Jb(r.D),r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.Vb("click",(function(){return e.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.wb]}),t})(),Na=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new pr.a,this.subscription=t.events.subscribe(t=>{t instanceof ds&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(r.U)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const s={skipLocationChange:Pa(this.skipLocationChange),replaceUrl:Pa(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,s),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Pa(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Pa(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(ka),r.Jb(fo),r.Jb(b))},t.\u0275dir=r.Eb({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.Vb("click",(function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)})),2&t&&(r.Rb("href",e.href,r.mc),r.zb("target",e.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.wb]}),t})();function Pa(t){return""===t||!!t}let Aa=(()=>{class t{constructor(t,e,n,r,i,s){this.router=t,this.element=e,this.renderer=n,this.cdr=r,this.link=i,this.linkWithHref=s,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(t=>{t instanceof ds&&this.update()})}ngAfterContentInit(){Object(qe.a)([this.links.changes,this.linksWithHrefs.changes,Object(Zt.a)(null)]).pipe(Object(Pi.a)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(t=>!!t).map(t=>t.onChanges);this.linkInputChangesSubscription=Object(qe.a)(e).pipe(Object(Pi.a)()).subscribe(t=>{this.isActive!==this.isLinkActive(this.router)(t)&&this.update()})}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){return e=>t.isActive(e.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(ka),r.Jb(r.l),r.Jb(r.D),r.Jb(r.h),r.Jb(Ia,8),r.Jb(Na,8))},t.\u0275dir=r.Eb({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){var i;1&t&&(r.Cb(n,Ia,!0),r.Cb(n,Na,!0)),2&t&&(r.hc(i=r.Wb())&&(e.links=i),r.hc(i=r.Wb())&&(e.linksWithHrefs=i))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[r.wb]}),t})(),ja=(()=>{class t{constructor(t,e,n,i,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||xs,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Ra(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Ca),r.Jb(r.P),r.Jb(r.j),r.Tb("name"),r.Jb(r.h))},t.\u0275dir=r.Eb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Ra{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===fo?this.route:t===Ca?this.childContexts:this.parent.get(t,e)}}class Ma{}class Da{preload(t,e){return Object(Zt.a)(null)}}let La=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new wa(e,n,e=>t.triggerEvent(new _s(e)),e=>t.triggerEvent(new ws(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(re(t=>t instanceof ds),ee(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(qe.a)(n).pipe(Object(Pi.a)(),Object(oe.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(te.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(ka),r.Sb(r.w),r.Sb(r.i),r.Sb(r.r),r.Sb(Ma))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),Fa=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof hs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ds&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ts&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Ts(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(ka),r.Sb(yt),r.Sb(void 0))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();const Va=new r.q("ROUTER_CONFIGURATION"),Ua=new r.q("ROUTER_FORROOT_GUARD"),qa=[O,{provide:zs,useClass:Gs},{provide:ka,useFactory:function(t,e,n,r,i,s,a,u={},c,l){const h=new ka(null,t,e,n,r,i,s,Rs(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){const t=o();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h},deps:[zs,Ca,O,r.r,r.w,r.i,_a,Va,[class{},new r.A],[class{},new r.A]]},Ca,{provide:fo,useFactory:function(t){return t.routerState.root},deps:[ka]},{provide:r.w,useClass:r.J},La,Da,class{preload(t,e){return e().pipe(ns(()=>Object(Zt.a)(null)))}},{provide:Va,useValue:{enableTracing:!1}}];function Ba(){return new r.y("Router",ka)}let Ha=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[qa,Wa(e),{provide:Ua,useFactory:$a,deps:[[ka,new r.A,new r.I]]},{provide:Va,useValue:n||{}},{provide:b,useFactory:Ga,deps:[u,[new r.p(v),new r.A],Va]},{provide:Fa,useFactory:za,deps:[ka,yt,Va]},{provide:Ma,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Da},{provide:r.y,multi:!0,useFactory:Ba},[Ka,{provide:r.d,multi:!0,useFactory:Qa,deps:[Ka]},{provide:Xa,useFactory:Ja,deps:[Ka]},{provide:r.b,multi:!0,useExisting:Xa}]]}}static forChild(e){return{ngModule:t,providers:[Wa(e)]}}}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)(r.Sb(Ua,8),r.Sb(ka,8))}}),t})();function za(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Fa(t,e,n)}function Ga(t,e,n={}){return n.useHash?new w(t,e):new _(t,e)}function $a(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Wa(t){return[{provide:r.a,multi:!0,useValue:t},{provide:_a,multi:!0,useValue:t}]}let Ka=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new pr.a}appInitializer(){return this.injector.get(l,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(ka),r=this.injector.get(Va);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Object(Zt.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(Va),n=this.injector.get(La),i=this.injector.get(Fa),s=this.injector.get(ka),o=this.injector.get(r.g);t===o.components[0]&&(this.isLegacyEnabled(e)?s.initialNavigation():this.isLegacyDisabled(e)&&s.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.r))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();function Qa(t){return t.appInitializer.bind(t)}function Ja(t){return t.bootstrapListener.bind(t)}const Xa=new r.q("Router Initializer");let Za=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Db({type:t,selectors:[["app-home"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Ob(0,"p"),r.sc(1,"home works!"),r.Nb())},styles:[""]}),t})();var Ya=n("D0XW"),tu=n("pxpQ"),eu=n("spgP"),nu=n("uXP2"),ru=n("zIRd"),iu=n("q/0M"),su=n("qOnz"),ou=function(t,e){return(ou=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function au(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var uu,cu="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},lu=lu||{},hu=cu||self;function du(){}function fu(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function pu(t){var e=fu(t);return"array"==e||"object"==e&&"number"==typeof t.length}function gu(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var mu="closure_uid_"+(1e9*Math.random()>>>0),bu=0;function yu(t,e,n){return t.call.apply(t.bind,arguments)}function vu(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function _u(t,e,n){return(_u=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?yu:vu).apply(null,arguments)}function wu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var Ou=Date.now;function Cu(t,e){function n(){}n.prototype=e.prototype,t.S=e.prototype,t.prototype=new n,t.prototype.constructor=t}function Su(){this.j=this.j,this.i=this.i}Su.prototype.j=!1,Su.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,mu)&&t[mu]||(t[mu]=++bu)}(this)},Su.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Eu=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Tu=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function xu(t){return Array.prototype.concat.apply([],arguments)}function ku(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Iu(t){return/^[\s\xa0]*$/.test(t)}var Nu,Pu=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Au(t,e){return-1!=t.indexOf(e)}function ju(t,e){return t<e?-1:t>e?1:0}t:{var Ru=hu.navigator;if(Ru){var Mu=Ru.userAgent;if(Mu){Nu=Mu;break t}}Nu=""}function Du(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Lu(t){var e={};for(var n in t)e[n]=t[n];return e}var Fu="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Vu(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<Fu.length;s++)n=Fu[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Uu(t){return Uu[" "](t),t}Uu[" "]=du;var qu,Bu,Hu=Au(Nu,"Opera"),zu=Au(Nu,"Trident")||Au(Nu,"MSIE"),Gu=Au(Nu,"Edge"),$u=Gu||zu,Wu=Au(Nu,"Gecko")&&!(Au(Nu.toLowerCase(),"webkit")&&!Au(Nu,"Edge"))&&!(Au(Nu,"Trident")||Au(Nu,"MSIE"))&&!Au(Nu,"Edge"),Ku=Au(Nu.toLowerCase(),"webkit")&&!Au(Nu,"Edge");function Qu(){var t=hu.document;return t?t.documentMode:void 0}t:{var Ju="",Xu=(Bu=Nu,Wu?/rv:([^\);]+)(\)|;)/.exec(Bu):Gu?/Edge\/([\d\.]+)/.exec(Bu):zu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Bu):Ku?/WebKit\/(\S+)/.exec(Bu):Hu?/(?:Version)[ \/]?(\S+)/.exec(Bu):void 0);if(Xu&&(Ju=Xu?Xu[1]:""),zu){var Zu=Qu();if(null!=Zu&&Zu>parseFloat(Ju)){qu=String(Zu);break t}}qu=Ju}var Yu={};function tc(t){return function(t,e){var n=Yu;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=Pu(String(qu)).split("."),r=Pu(String(t)).split("."),i=Math.max(n.length,r.length),s=0;0==e&&s<i;s++){var o=n[s]||"",a=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=ju(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||ju(0==o[2].length,0==a[2].length)||ju(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e}))}var ec=hu.document&&zu&&(Qu()||parseInt(qu,10))||void 0,nc=!zu||9<=Number(ec),rc=zu&&!tc("9"),ic=function(){if(!hu.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{hu.addEventListener("test",du,e),hu.removeEventListener("test",du,e)}catch(n){}return t}();function sc(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function oc(t,e){if(sc.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Wu){t:{try{Uu(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:ac[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}sc.prototype.b=function(){this.defaultPrevented=!0},Cu(oc,sc);var ac={2:"touch",3:"pen",4:"mouse"};oc.prototype.b=function(){oc.S.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,rc)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(id){}};var uc="closure_listenable_"+(1e6*Math.random()|0),cc=0;function lc(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++cc,this.Y=this.Z=!1}function hc(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function dc(t){this.src=t,this.a={},this.b=0}function fc(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],s=Eu(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(hc(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function pc(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.ca==r)return i}return-1}dc.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=pc(t,e,r,i);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new lc(e,this.src,s,!!r,i)).Z=n,t.push(e)),e};var gc="closure_lm_"+(1e6*Math.random()|0),mc={};function bc(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,s){if(Array.isArray(n)){for(var o=0;o<n.length;o++)t(e,n[o],r,i,s);return null}return r=Ec(r),e&&e[uc]?e.wa(n,r,gu(i)?!!i.capture:!!i,s):yc(e,n,r,!0,i,s)}(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)bc(t,e[s],n,r,i);return null}return n=Ec(n),t&&t[uc]?t.va(e,n,gu(r)?!!r.capture:!!r,i):yc(t,e,n,!1,r,i)}function yc(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=gu(i)?!!i.capture:!!i;if(o&&!nc)return null;var a=Cc(t);if(a||(t[gc]=a=new dc(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=Oc,e=nc?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ic||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(_c(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function vc(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[uc])fc(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(_c(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Cc(e))?(fc(n,t),0==n.b&&(n.src=null,e[gc]=null)):hc(t)}}}function _c(t){return t in mc?mc[t]:mc[t]="on"+t}function wc(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&vc(t),n.call(r,e)}function Oc(t,e){if(t.Y)return!0;if(!nc){if(!e)t:{e=["window","event"];for(var n=hu,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return wc(t,e=new oc(e,this))}return wc(t,new oc(e,this))}function Cc(t){return(t=t[gc])instanceof dc?t:null}var Sc="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ec(t){return"function"==fu(t)?t:(t[Sc]||(t[Sc]=function(e){return t.handleEvent(e)}),t[Sc])}function Tc(){Su.call(this),this.c=new dc(this),this.J=this,this.C=null}function xc(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.Y&&o.capture==n){var a=o.listener,u=o.ca||o.src;o.Z&&fc(t.c,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Cu(Tc,Su),Tc.prototype[uc]=!0,(uu=Tc.prototype).addEventListener=function(t,e,n,r){bc(this,t,e,n,r)},uu.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,s){if(Array.isArray(n))for(var o=0;o<n.length;o++)t(e,n[o],r,i,s);else i=gu(i)?!!i.capture:!!i,r=Ec(r),e&&e[uc]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=pc(o=e.a[n],r,i,s))&&(hc(o[r]),Array.prototype.splice.call(o,r,1),0==o.length&&(delete e.a[n],e.b--))):e&&(e=Cc(e))&&(n=e.a[n.toString()],e=-1,n&&(e=pc(n,r,i,s)),(r=-1<e?n[e]:null)&&vc(r))}(this,t,e,n,r)},uu.dispatchEvent=function(t){var e,n=this.C;if(n)for(e=[];n;n=n.C)e.push(n);n=this.J;var r=t.type||t;if("string"==typeof t)t=new sc(t,n);else if(t instanceof sc)t.target=t.target||n;else{var i=t;Vu(t=new sc(r,n),i)}if(i=!0,e)for(var s=e.length-1;0<=s;s--){var o=t.a=e[s];i=xc(o,r,!0,t)&&i}if(i=xc(o=t.a=n,r,!0,t)&&i,i=xc(o,r,!1,t)&&i,e)for(s=0;s<e.length;s++)i=xc(o=t.a=e[s],r,!1,t)&&i;return i},uu.G=function(){if(Tc.S.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)hc(n[r]);delete e.a[t],e.b--}}this.C=null},uu.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},uu.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var kc=hu.JSON.stringify;function Ic(){this.b=this.a=null}var Nc,Pc=new(function(){function t(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new jc}),(function(t){t.reset()}),100);function Ac(){var t=Lc,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function jc(){this.next=this.b=this.a=null}function Rc(t){hu.setTimeout((function(){throw t}),0)}function Mc(t,e){Nc||function(){var t=hu.Promise.resolve(void 0);Nc=function(){t.then(Fc)}}(),Dc||(Nc(),Dc=!0),Lc.add(t,e)}Ic.prototype.add=function(t,e){var n=Pc.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},jc.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},jc.prototype.reset=function(){this.next=this.b=this.a=null};var Dc=!1,Lc=new Ic;function Fc(){for(var t;t=Ac();){try{t.a.call(t.b)}catch(n){Rc(n)}var e=Pc;e.g(t),e.b<e.f&&(e.b++,t.next=e.a,e.a=t)}Dc=!1}function Vc(t,e){Tc.call(this),this.b=t||1,this.a=e||hu,this.f=_u(this.Ya,this),this.g=Ou()}function Uc(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function qc(t,e,n){if("function"==fu(t))n&&(t=_u(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=_u(t.handleEvent,t)}return 2147483647<Number(e)?-1:hu.setTimeout(t,e||0)}function Bc(t){t.a=qc((function(){t.a=null,t.c&&(t.c=!1,Bc(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Cu(Vc,Tc),(uu=Vc.prototype).aa=!1,uu.M=null,uu.Ya=function(){if(this.aa){var t=Ou()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(Uc(this),this.start()))}},uu.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Ou())},uu.G=function(){Vc.S.G.call(this),Uc(this),delete this.a};var Hc=function(t){function e(e,n,r){var i=t.call(this)||this;return i.g=null!=r?e.bind(r):e,i.h=n,i.b=null,i.c=!1,i.a=null,i}return function(t,e){function n(){this.constructor=t}ou(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Bc(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(hu.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Su);function zc(t){Su.call(this),this.b=t,this.a={}}Cu(zc,Su);var Gc=[];function $c(t,e,n,r){Array.isArray(n)||(n&&(Gc[0]=n.toString()),n=Gc);for(var i=0;i<n.length;i++){var s=bc(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function Wc(t){Du(t.a,(function(t,e){this.a.hasOwnProperty(e)&&vc(t)}),t),t.a={}}function Kc(){this.a=!0}function Qc(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return kc(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}zc.prototype.G=function(){zc.S.G.call(this),Wc(this)},zc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Kc.prototype.info=function(){};var Jc=null;function Xc(){return Jc=Jc||new Tc}function Zc(t){sc.call(this,"serverreachability",t)}function Yc(t){var e=Xc();e.dispatchEvent(new Zc(e,t))}function tl(t){sc.call(this,"statevent",t)}function el(t){var e=Xc();e.dispatchEvent(new tl(e,t))}function nl(t){sc.call(this,"timingevent",t)}function rl(t,e){if("function"!=fu(t))throw Error("Fn must not be null and must be a function");return hu.setTimeout((function(){t()}),e)}Cu(Zc,sc),Cu(tl,sc),Cu(nl,sc);var il={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},sl={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function ol(){}function al(){}ol.prototype.a=null;var ul,cl={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function ll(){sc.call(this,"d")}function hl(){sc.call(this,"c")}function dl(){}function fl(t,e,n,r){this.g=t,this.c=e,this.f=n,this.T=r||1,this.J=new zc(this),this.P=pl,this.R=new Vc(t=$u?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}Cu(ll,sc),Cu(hl,sc),Cu(dl,ol),ul=new dl;var pl=45e3,gl={},ml={};function bl(t,e,n){t.H=1,t.i=Vl(jl(e)),t.j=n,t.I=!0,yl(t,null)}function yl(t,e){t.u=Ou(),wl(t),t.l=jl(t.i);var n=t.l,r=t.T;Array.isArray(r)||(r=[String(r)]),Zl(n.b,"t",r),t.D=0,t.a=$h(t.g,t.g.C?e:null),0<t.O&&(t.F=new Hc(_u(t.Ca,t,t.a),t.O)),$c(t.J,t.a,"readystatechange",t.Wa),e=t.B?Lu(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Yc(1),function(t,e,n,r,i,s){t.info((function(){if(t.a)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o}))}(t.c,t.m,t.l,t.f,t.T,t.j)}function vl(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=_l(t,n);if(i==ml){4==e&&(t.h=4,el(14),r=!1),Qc(t.c,t.f,null,"[Incomplete Response]");break}if(i==gl){t.h=4,el(15),Qc(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Qc(t.c,t.f,i,null),Tl(t,i)}4==e&&0==n.length&&(t.h=1,el(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.W&&(t.W=!0,(e=t.g).a==t&&e.V&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Fh(e),e.F=!0)):(Qc(t.c,t.f,n,"[Invalid Chunked Response]"),El(t),Sl(t))}function _l(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?ml:(n=Number(e.substring(n,r)),isNaN(n)?gl:(r+=1)+n>e.length?ml:(e=e.substr(r,n),t.D=r+n,e))}function wl(t){t.U=Ou()+t.P,Ol(t,t.P)}function Ol(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=rl(_u(t.Ua,t),e)}function Cl(t){t.o&&(hu.clearTimeout(t.o),t.o=null)}function Sl(t){0==t.g.v||t.A||qh(t.g,t)}function El(t){Cl(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Uc(t.R),Wc(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Tl(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||sh(n.b,t)))if(n.I=t.N,!t.C&&sh(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(m){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Uh(n),Ih(n)}Lh(n),el(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=rl(_u(n.Ra,n),6e3));if(1>=ih(n.b)&&n.ea){try{n.ea()}catch(m){}n.ea=void 0}}else Hh(n,11)}else if((t.C||n.a==t)&&Uh(n),!Iu(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var s=i[3];null!=s&&(n.ha=s,n.c.info("VER="+n.ha));var o=i[4];null!=o&&(n.pa=o,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(Au(l,"spdy")||Au(l,"quic")||Au(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(oh(h,h.b),h.b=null))}if(u.A){var d=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;d&&(u.na=d,Fl(u.B,u.A,d))}}n.v=3,n.f&&n.f.ta(),n.V&&(n.N=Ou()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var f=t;if((u=n).la=Gh(u,u.C?u.ga:null,u.fa),f.C){ah(u.b,f);var p=f,g=u.D;g&&p.setTimeout(g),p.o&&(Cl(p),wl(p)),u.a=f}else Dh(u);0<n.g.length&&Ah(n)}else"stop"!=i[0]&&"close"!=i[0]||Hh(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Hh(n,7):kh(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Yc(4)}catch(m){}}function xl(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(pu(t)||"string"==typeof t)Tu(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(pu(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(pu(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function kl(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof kl)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Il(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Nl(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Nl(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Nl(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(uu=fl.prototype).setTimeout=function(t){this.P=t},uu.Wa=function(t){t=t.target;var e=this.F;e&&3==Sh(t)?e.f():this.Ca(t)},uu.Ca=function(t){try{if(t==this.a)t:{var e=Sh(this.a),n=this.a.ua(),r=this.a.X();if(!(3>e||3==e&&!$u&&!this.a.$())){this.A||4!=e||7==n||Yc(8==n||0>=r?3:2),Cl(this);var i=this.a.X();this.N=i;var s=this.a.$();if(this.b=200==i,function(t,e,n,r,i,s,o){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o}))}(this.c,this.m,this.l,this.f,this.T,e,i),this.b){if(this.V&&!this.C){e:{if(this.a){var o,a=this.a;if((o=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Iu(o)){var u=o;break e}}u=null}if(!u){this.b=!1,this.h=3,el(12),El(this),Sl(this);break t}Qc(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Tl(this,u)}this.I?(vl(this,e,s),$u&&this.b&&3==e&&($c(this.J,this.R,"tick",this.Va),this.R.start())):(Qc(this.c,this.f,s,null),Tl(this,s)),4==e&&El(this),this.b&&!this.A&&(4==e?qh(this.g,this):(this.b=!1,wl(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.h=3,el(12)):(this.h=0,el(13)),El(this),Sl(this)}}}catch(Fw){}},uu.Va=function(){if(this.a){var t=Sh(this.a),e=this.a.$();this.D<e.length&&(Cl(this),vl(this,t,e),this.b&&4!=t&&wl(this))}},uu.cancel=function(){this.A=!0,El(this)},uu.Ua=function(){this.o=null;var t=Ou();0<=t-this.U?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(Yc(3),el(17)),El(this),this.h=2,Sl(this)):Ol(this,this.U-t)},(uu=kl.prototype).K=function(){Il(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},uu.L=function(){return Il(this),this.a.concat()},uu.get=function(t,e){return Nl(this.b,t)?this.b[t]:e},uu.set=function(t,e){Nl(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},uu.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var Pl=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Al(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Al){this.a=void 0!==e?e:t.a,Rl(this,t.f),this.j=t.j,Ml(this,t.c),Dl(this,t.h),this.g=t.g,e=t.b;var n=new Kl;n.c=e.c,e.a&&(n.a=new kl(e.a),n.b=e.b),Ll(this,n),this.i=t.i}else t&&(n=String(t).match(Pl))?(this.a=!!e,Rl(this,n[1]||"",!0),this.j=Ul(n[2]||""),Ml(this,n[3]||"",!0),Dl(this,n[4]),this.g=Ul(n[5]||"",!0),Ll(this,n[6]||"",!0),this.i=Ul(n[7]||"")):(this.a=!!e,this.b=new Kl(null,this.a))}function jl(t){return new Al(t)}function Rl(t,e,n){t.f=n?Ul(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Ml(t,e,n){t.c=n?Ul(e,!0):e}function Dl(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Ll(t,e,n){e instanceof Kl?(t.b=e,function(t,e){e&&!t.f&&(Ql(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Jl(this,e),Zl(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=ql(e,$l)),t.b=new Kl(e,t.a))}function Fl(t,e,n){t.b.set(e,n)}function Vl(t){return Fl(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Ou()).toString(36)),t}function Ul(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ql(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Bl),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Bl(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Al.prototype.toString=function(){var t=[],e=this.f;e&&t.push(ql(e,Hl,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(ql(e,Hl,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(ql(n,"/"==n.charAt(0)?Gl:zl,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",ql(n,Wl)),t.join("")};var Hl=/[#\/\?@]/g,zl=/[#\?:]/g,Gl=/[#\?]/g,$l=/[#\?@]/g,Wl=/#/g;function Kl(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Ql(t){t.a||(t.a=new kl,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Jl(t,e){Ql(t),e=Yl(t,e),Nl(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Nl((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Il(t)))}function Xl(t,e){return Ql(t),e=Yl(t,e),Nl(t.a.b,e)}function Zl(t,e,n){Jl(t,e),0<n.length&&(t.c=null,t.a.set(Yl(t,e),ku(n)),t.b+=n.length)}function Yl(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function th(t,e){this.b=t,this.a=e}function eh(t){this.g=t||nh,t=hu.PerformanceNavigationTiming?0<(t=hu.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(hu.ia&&hu.ia.ya&&hu.ia.ya()&&hu.ia.ya().qb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(uu=Kl.prototype).add=function(t,e){Ql(this),this.c=null,t=Yl(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},uu.forEach=function(t,e){Ql(this),this.a.forEach((function(n,r){Tu(n,(function(n){t.call(e,n,r,this)}),this)}),this)},uu.L=function(){Ql(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},uu.K=function(t){Ql(this);var e=[];if("string"==typeof t)Xl(this,t)&&(e=xu(e,this.a.get(Yl(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=xu(e,t[n])}return e},uu.set=function(t,e){return Ql(this),this.c=null,Xl(this,t=Yl(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},uu.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},uu.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.c=t.join("&")};var nh=10;function rh(t){return!!t.b||!!t.a&&t.a.size>=t.f}function ih(t){return t.b?1:t.a?t.a.size:0}function sh(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function oh(t,e){t.a?t.a.add(e):t.b=e}function ah(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function uh(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=au(t.a.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.s)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return ku(t.c)}function ch(){}function lh(){this.a=new ch}function hh(t,e,n){var r=n||"";try{xl(t,(function(t,n){var i=t;gu(t)&&(i=kc(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function dh(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}eh.prototype.cancel=function(){var t,e;if(this.c=uh(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=au(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},ch.prototype.stringify=function(t){return hu.JSON.stringify(t,void 0)},ch.prototype.parse=function(t){return hu.JSON.parse(t,void 0)};var fh=hu.JSON.parse;function ph(t){Tc.call(this),this.headers=new kl,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=gh,this.D=this.F=!1}Cu(ph,Tc);var gh="",mh=/^https?$/i,bh=["POST","PUT"];function yh(t){return"content-type"==t.toLowerCase()}function vh(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,_h(t),Oh(t)}function _h(t){t.u||(t.u=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function wh(t){if(t.b&&void 0!==lu&&(!t.s[1]||4!=Sh(t)||2!=t.X()))if(t.l&&4==Sh(t))qc(t.za,0,t);else if(t.dispatchEvent("readystatechange"),4==Sh(t)){t.b=!1;try{var e,n=t.X();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.B).match(Pl)[1]||null;if(!s&&hu.self&&hu.self.location){var o=hu.self.location.protocol;s=o.substr(0,o.length-1)}i=!mh.test(s?s.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var a=2<Sh(t)?t.a.statusText:""}catch(u){a=""}t.f=a+" ["+t.X()+"]",_h(t)}}finally{Oh(t)}}}function Oh(t,e){if(t.a){Ch(t);var n=t.a,r=t.s[0]?du:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function Ch(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(hu.clearTimeout(t.m),t.m=null)}function Sh(t){return t.a?t.a.readyState:0}function Eh(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Du(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Fl(t,e,n))}function Th(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function xh(t){this.pa=0,this.g=[],this.c=new Kc,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=Th("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=Th("baseRetryDelayMs",5e3,t),this.Ma=Th("retryDelaySeedMs",1e4,t),this.Ja=Th("forwardChannelMaxRetries",2,t),this.ma=Th("forwardChannelRequestTimeoutMs",2e4,t),this.Ka=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new eh(t&&t.concurrentRequestLimit),this.ka=new lh,this.da=t&&t.fastHandshake||!1,this.Ga=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&t&&t.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function kh(t){if(Nh(t),3==t.v){var e=t.R++,n=jl(t.B);Fl(n,"SID",t.J),Fl(n,"RID",e),Fl(n,"TYPE","terminate"),Rh(t,n),(e=new fl(t,t.c,e,void 0)).H=2,e.i=Vl(jl(n)),n=!1,hu.navigator&&hu.navigator.sendBeacon&&(n=hu.navigator.sendBeacon(e.i.toString(),"")),!n&&hu.Image&&((new Image).src=e.i,n=!0),n||(e.a=$h(e.g,null),e.a.ba(e.i)),e.u=Ou(),wl(e)}zh(t)}function Ih(t){t.a&&(Fh(t),t.a.cancel(),t.a=null)}function Nh(t){Ih(t),t.j&&(hu.clearTimeout(t.j),t.j=null),Uh(t),t.b.cancel(),t.h&&("number"==typeof t.h&&hu.clearTimeout(t.h),t.h=null)}function Ph(t,e){t.g.push(new th(t.La++,e)),3==t.v&&Ah(t)}function Ah(t){rh(t.b)||t.h||(t.h=!0,Mc(t.Ba,t),t.u=0)}function jh(t,e){var n;n=e?e.f:t.R++;var r=jl(t.B);Fl(r,"SID",t.J),Fl(r,"RID",n),Fl(r,"AID",t.P),Rh(t,r),t.i&&t.l&&Eh(r,t.i,t.l),n=new fl(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Mh(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),oh(t.b,n),bl(n,r,e)}function Rh(t,e){t.f&&xl({},(function(t,n){Fl(e,n,t)}))}function Mh(t,e,n){n=Math.min(t.g.length,n);var r=t.f?_u(t.f.Ha,t.f,t):null;t:for(var i=t.g,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].b)):s=0:o.push("ofs="+s);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=s))s=Math.max(0,i[u].b-100),a=!1;else try{hh(l,o,"req"+c+"_")}catch(xd){r&&r(l)}}if(a){r=o.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Dh(t){t.a||t.j||(t.U=1,Mc(t.Aa,t),t.o=0)}function Lh(t){return!(t.a||t.j||3<=t.o||(t.U++,t.j=rl(_u(t.Aa,t),Bh(t,t.o)),t.o++,0))}function Fh(t){null!=t.s&&(hu.clearTimeout(t.s),t.s=null)}function Vh(t){t.a=new fl(t,t.c,"rpc",t.U),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=jl(t.la);Fl(e,"RID","rpc"),Fl(e,"SID",t.J),Fl(e,"CI",t.H?"0":"1"),Fl(e,"AID",t.P),Rh(t,e),Fl(e,"TYPE","xmlhttp"),t.i&&t.l&&Eh(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Vl(jl(e)),n.j=null,n.I=!0,yl(n,t)}function Uh(t){null!=t.m&&(hu.clearTimeout(t.m),t.m=null)}function qh(t,e){var n=null;if(t.a==e){Uh(t),Fh(t),t.a=null;var r=2}else{if(!sh(t.b,e))return;n=e.s,ah(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Ou()-e.u;var i=t.u;(r=Xc()).dispatchEvent(new nl(r,n,e,i)),Ah(t)}else Dh(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(ih(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.Ia?0:t.Ja)||(t.h=rl(_u(t.Ba,t,e),Bh(t,t.u)),t.u++,0)))}(t,e)||2==r&&Lh(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Hh(t,5);break;case 4:Hh(t,10);break;case 3:Hh(t,6);break;default:Hh(t,2)}}function Bh(t,e){var n=t.Fa+Math.floor(Math.random()*t.Ma);return t.f||(n*=2),n*e}function Hh(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=_u(t.Xa,t);n||(n=new Al("//www.google.com/images/cleardot.gif"),hu.location&&"http"==hu.location.protocol||Rl(n,"https"),Vl(n)),function(t,e){var n=new Kc;if(hu.Image){var r=new Image;r.onload=wu(dh,n,r,"TestLoadImage: loaded",!0,e),r.onerror=wu(dh,n,r,"TestLoadImage: error",!1,e),r.onabort=wu(dh,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=wu(dh,n,r,"TestLoadImage: timeout",!1,e),hu.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else el(2);t.v=0,t.f&&t.f.ra(e),zh(t),Nh(t)}function zh(t){t.v=0,t.I=-1,t.f&&(0==uh(t.b).length&&0==t.g.length||(t.b.c.length=0,ku(t.g),t.g.length=0),t.f.qa())}function Gh(t,e,n){var r=function(t){return t instanceof Al?jl(t):new Al(t,void 0)}(n);if(""!=r.c)e&&Ml(r,e+"."+r.c),Dl(r,r.h);else{var i=hu.location;r=function(t,e,n,r){var i=new Al(null,void 0);return t&&Rl(i,t),e&&Ml(i,e),n&&Dl(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.W&&Du(t.W,(function(t,e){Fl(r,e,t)})),n=t.na,(e=t.A)&&n&&Fl(r,e,n),Fl(r,"VER",t.ha),Rh(t,r),r}function $h(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ph(t.Ka)).F=t.C,e}function Wh(){}function Kh(){if(zu&&!(10<=Number(ec)))throw Error("Environmental error: no available transport.")}function Qh(t,e){Tc.call(this),this.a=new xh(e),this.l=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Iu(t)&&(this.a.i=t),this.h=e&&e.supportsCrossDomainXhr||!1,this.g=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Iu(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Zh(this)}function Jh(t){ll.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Xh(){hl.call(this),this.status=1}function Zh(t){this.a=t}(uu=ph.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:ul),this.a.onreadystatechange=_u(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(s){return void vh(this,s)}t=n||"";var i=new kl(this.headers);r&&xl(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=yh,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=hu.FormData&&t instanceof hu.FormData,!(0<=Eu(bh,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Ch(this),0<this.o&&((this.D=function(t){return zu&&tc(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=_u(this.xa,this)):this.m=qc(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){vh(this,s)}},uu.xa=function(){void 0!==lu&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},uu.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Oh(this))},uu.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Oh(this,!0)),ph.S.G.call(this)},uu.za=function(){this.j||(this.A||this.l||this.g?wh(this):this.Ta())},uu.Ta=function(){wh(this)},uu.X=function(){try{return 2<Sh(this)?this.a.status:-1}catch(Bu){return-1}},uu.$=function(){try{return this.a?this.a.responseText:""}catch(Bu){return""}},uu.Na=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),fh(e)}},uu.ua=function(){return this.h},uu.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(uu=xh.prototype).ha=8,uu.v=1,uu.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new fl(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Vu(r=Lu(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var s=this.g[i];if(void 0===(s="__data__"in s.a&&"string"==typeof(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Mh(this,n,e),Fl(i=jl(this.B),"RID",t),Fl(i,"CVER",22),this.A&&Fl(i,"X-HTTP-Session-Id",this.A),Rh(this,i),this.i&&r&&Eh(i,this.i,r),oh(this.b,n),this.Ga&&Fl(i,"TYPE","init"),this.da?(Fl(i,"$req",e),Fl(i,"SID","null"),n.V=!0,bl(n,i,null)):bl(n,i,e),this.v=2}}else 3==this.v&&(t?jh(this,t):0==this.g.length||rh(this.b)||jh(this))},uu.Aa=function(){if(this.j=null,Vh(this),this.V&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=rl(_u(this.Sa,this),t)}},uu.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Ih(this),Vh(this))},uu.Ra=function(){null!=this.m&&(this.m=null,Ih(this),Lh(this),el(19))},uu.Xa=function(t){t?(this.c.info("Successfully pinged google.com"),el(2)):(this.c.info("Failed to ping google.com"),el(1))},(uu=Wh.prototype).ta=function(){},uu.sa=function(){},uu.ra=function(){},uu.qa=function(){},uu.Ha=function(){},Kh.prototype.a=function(t,e){return new Qh(t,e)},Cu(Qh,Tc),(uu=Qh.prototype).addEventListener=function(t,e,n,r){Qh.S.addEventListener.call(this,t,e,n,r)},uu.removeEventListener=function(t,e,n,r){Qh.S.removeEventListener.call(this,t,e,n,r)},uu.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var t=this.a,e=this.l,n=this.b||void 0;el(0),t.fa=e,t.W=n||{},t.H=t.T,t.B=Gh(t,null,t.fa),Ah(t)},uu.close=function(){kh(this.a)},uu.Pa=function(t){if("string"==typeof t){var e={};e.__data__=t,Ph(this.a,e)}else this.g?((e={}).__data__=kc(t),Ph(this.a,e)):Ph(this.a,t)},uu.G=function(){this.a.f=null,delete this.f,kh(this.a),delete this.a,Qh.S.G.call(this)},Cu(Jh,ll),Cu(Xh,hl),Cu(Zh,Wh),Zh.prototype.ta=function(){this.a.dispatchEvent("a")},Zh.prototype.sa=function(t){this.a.dispatchEvent(new Jh(t))},Zh.prototype.ra=function(t){this.a.dispatchEvent(new Xh(t))},Zh.prototype.qa=function(){this.a.dispatchEvent("b")},Kh.prototype.createWebChannel=Kh.prototype.a,Qh.prototype.send=Qh.prototype.Pa,Qh.prototype.open=Qh.prototype.Oa,Qh.prototype.close=Qh.prototype.close,il.NO_ERROR=0,il.TIMEOUT=8,il.HTTP_ERROR=6,sl.COMPLETE="complete",al.EventType=cl,cl.OPEN="a",cl.CLOSE="b",cl.ERROR="c",cl.MESSAGE="d",Tc.prototype.listen=Tc.prototype.va,ph.prototype.listenOnce=ph.prototype.wa,ph.prototype.getLastError=ph.prototype.Qa,ph.prototype.getLastErrorCode=ph.prototype.ua,ph.prototype.getStatus=ph.prototype.X,ph.prototype.getResponseJson=ph.prototype.Na,ph.prototype.getResponseText=ph.prototype.$,ph.prototype.send=ph.prototype.ba;var Yh=il,td=sl,ed=al,nd=ph,rd=n("/6Yf"),id=function(t,e,n,r,i,s){this.t=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=s},sd=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"o",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),od=new iu.b("@firebase/firestore");function ad(){return od.logLevel}function ud(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(od.logLevel<=iu.a.DEBUG){var r=e.map(hd);od.debug.apply(od,Object(nu.g)(["Firestore (8.0.2): "+t],r))}}function cd(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(od.logLevel<=iu.a.ERROR){var r=e.map(hd);od.error.apply(od,Object(nu.g)(["Firestore (8.0.2): "+t],r))}}function ld(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(od.logLevel<=iu.a.WARN){var r=e.map(hd);od.warn.apply(od,Object(nu.g)(["Firestore (8.0.2): "+t],r))}}function hd(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(e){return t}}function dd(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.0.2) INTERNAL ASSERTION FAILED: "+t;throw cd(e),new Error(e)}function fd(t,e){t||dd()}function pd(t,e){return t}function gd(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var md=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=gd(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function bd(t,e){return t<e?-1:t>e?1:0}function yd(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function vd(t){return t+"\0"}function _d(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function wd(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Od(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Cd=function(){function t(t,e){this.h=t,this.l=e,this._={}}return t.prototype.get=function(t){var e=this.h(t),n=this._[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.l(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.h(t),r=this._[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.l(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this._[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.h(t),n=this._[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.l(n[r][0],t))return 1===n.length?delete this._[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){wd(this._,(function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}}))},t.prototype.T=function(){return Od(this._)},t}(),Sd={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ed=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(nu.c)(e,t),e}(Error),Td=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ed(Sd.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ed(Sd.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ed(Sd.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ed(Sd.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.I=function(t){return this.seconds===t.seconds?bd(this.nanoseconds,t.nanoseconds):bd(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),xd=function(){function t(t){this.timestamp=t}return t.m=function(e){return new t(e)},t.min=function(){return new t(new Td(0,0))},t.prototype.A=function(t){return this.timestamp.I(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.R=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.P=function(){return this.timestamp},t}(),kd=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&dd(),void 0===n?n=t.length-e:n>t.length-e&&dd(),this.segments=t,this.offset=e,this.g=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.g},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.V(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.p(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.v=function(t){return this.p(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.S=function(){return this.p(this.segments,this.offset,this.length-1)},t.prototype.D=function(){return this.segments[this.offset]},t.prototype.C=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.T=function(){return 0===this.length},t.prototype.N=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.F=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.O=function(){return this.segments.slice(this.offset,this.limit())},t.V=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Id=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(nu.c)(e,t),e.prototype.p=function(t,n,r){return new e(t,n,r)},e.prototype.M=function(){return this.O().join("/")},e.prototype.toString=function(){return this.M()},e.k=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];if(o.indexOf("//")>=0)throw new Ed(Sd.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.$=function(){return new e([])},e}(kd),Nd=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Pd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(nu.c)(e,t),e.prototype.p=function(t,n,r){return new e(t,n,r)},e.L=function(t){return Nd.test(t)},e.prototype.M=function(){return this.O().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.L(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.M()},e.prototype.B=function(){return 1===this.length&&"__name__"===this.get(0)},e.q=function(){return new e(["__name__"])},e.U=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new Ed(Sd.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Ed(Sd.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Ed(Sd.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Ed(Sd.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.$=function(){return new e([])},e}(kd),Ad=function(){function t(t){this.path=t}return t.K=function(e){return new t(Id.k(e))},t.W=function(e){return new t(Id.k(e).v(5))},t.prototype.j=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Id.V(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.V=function(t,e){return Id.V(t.path,e.path)},t.G=function(t){return t.length%2==0},t.H=function(e){return new t(new Id(e.slice()))},t}();function jd(t){return null==t}function Rd(t){return 0===t&&1/t==-1/0}function Md(t){return"number"==typeof t&&Number.isInteger(t)&&!Rd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Dd=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.J=null};function Ld(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new Dd(t,e,n,r,i,s,o)}function Fd(t){var e=pd(t);if(null===e.J){var n=e.path.M();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.M()+t.op.toString()+Nf(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return(e=t).field.M()+e.dir;var e})).join(","),jd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Ag(e.startAt)),e.endAt&&(n+="|ub:",n+=Ag(e.endAt)),e.J=n}return e.J}function Vd(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Lg(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(s=e.filters[r]).op||!i.field.isEqual(s.field)||!Tf(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Rg(t.startAt,e.startAt)&&Rg(t.endAt,e.endAt)}function Ud(t){return Ad.G(t.path)&&null===t.collectionGroup&&0===t.filters.length}var qd=function(){function t(t){this.Y=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.Y)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.Y)},t.prototype.X=function(){return 2*this.Y.length},t.prototype.A=function(t){return bd(this.Y,t.Y)},t.prototype.isEqual=function(t){return this.Y===t.Y},t}();qd.Z=new qd("");var Bd,Hd,zd=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=xd.min()),void 0===s&&(s=xd.min()),void 0===o&&(o=qd.Z),this.target=t,this.targetId=e,this.tt=n,this.sequenceNumber=r,this.et=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.nt=function(e){return new t(this.target,this.targetId,this.tt,e,this.et,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.st=function(e,n){return new t(this.target,this.targetId,this.tt,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.it=function(e){return new t(this.target,this.targetId,this.tt,this.sequenceNumber,this.et,e,this.resumeToken)},t}(),Gd=function(t){this.count=t};function $d(t){switch(t){case Sd.OK:return dd();case Sd.CANCELLED:case Sd.UNKNOWN:case Sd.DEADLINE_EXCEEDED:case Sd.RESOURCE_EXHAUSTED:case Sd.INTERNAL:case Sd.UNAVAILABLE:case Sd.UNAUTHENTICATED:return!1;case Sd.INVALID_ARGUMENT:case Sd.NOT_FOUND:case Sd.ALREADY_EXISTS:case Sd.PERMISSION_DENIED:case Sd.FAILED_PRECONDITION:case Sd.ABORTED:case Sd.OUT_OF_RANGE:case Sd.UNIMPLEMENTED:case Sd.DATA_LOSS:return!0;default:return dd()}}function Wd(t){if(void 0===t)return cd("GRPC error has no .code"),Sd.UNKNOWN;switch(t){case Bd.OK:return Sd.OK;case Bd.CANCELLED:return Sd.CANCELLED;case Bd.UNKNOWN:return Sd.UNKNOWN;case Bd.DEADLINE_EXCEEDED:return Sd.DEADLINE_EXCEEDED;case Bd.RESOURCE_EXHAUSTED:return Sd.RESOURCE_EXHAUSTED;case Bd.INTERNAL:return Sd.INTERNAL;case Bd.UNAVAILABLE:return Sd.UNAVAILABLE;case Bd.UNAUTHENTICATED:return Sd.UNAUTHENTICATED;case Bd.INVALID_ARGUMENT:return Sd.INVALID_ARGUMENT;case Bd.NOT_FOUND:return Sd.NOT_FOUND;case Bd.ALREADY_EXISTS:return Sd.ALREADY_EXISTS;case Bd.PERMISSION_DENIED:return Sd.PERMISSION_DENIED;case Bd.FAILED_PRECONDITION:return Sd.FAILED_PRECONDITION;case Bd.ABORTED:return Sd.ABORTED;case Bd.OUT_OF_RANGE:return Sd.OUT_OF_RANGE;case Bd.UNIMPLEMENTED:return Sd.UNIMPLEMENTED;case Bd.DATA_LOSS:return Sd.DATA_LOSS;default:return dd()}}(Hd=Bd||(Bd={}))[Hd.OK=0]="OK",Hd[Hd.CANCELLED=1]="CANCELLED",Hd[Hd.UNKNOWN=2]="UNKNOWN",Hd[Hd.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Hd[Hd.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Hd[Hd.NOT_FOUND=5]="NOT_FOUND",Hd[Hd.ALREADY_EXISTS=6]="ALREADY_EXISTS",Hd[Hd.PERMISSION_DENIED=7]="PERMISSION_DENIED",Hd[Hd.UNAUTHENTICATED=16]="UNAUTHENTICATED",Hd[Hd.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Hd[Hd.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Hd[Hd.ABORTED=10]="ABORTED",Hd[Hd.OUT_OF_RANGE=11]="OUT_OF_RANGE",Hd[Hd.UNIMPLEMENTED=12]="UNIMPLEMENTED",Hd[Hd.INTERNAL=13]="INTERNAL",Hd[Hd.UNAVAILABLE=14]="UNAVAILABLE",Hd[Hd.DATA_LOSS=15]="DATA_LOSS";var Kd=function(){function t(t,e){this.V=t,this.root=e||Jd.EMPTY}return t.prototype.rt=function(e,n){return new t(this.V,this.root.rt(e,n,this.V).copy(null,null,Jd.ot,null,null))},t.prototype.remove=function(e){return new t(this.V,this.root.remove(e,this.V).copy(null,null,Jd.ot,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.T();){var n=this.V(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.T();){var r=this.V(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.T=function(){return this.root.T()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.at=function(){return this.root.at()},t.prototype.ct=function(){return this.root.ct()},t.prototype.ut=function(t){return this.root.ut(t)},t.prototype.forEach=function(t){this.ut((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.ut((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.ht=function(t){return this.root.ht(t)},t.prototype.lt=function(){return new Qd(this.root,null,this.V,!1)},t.prototype._t=function(t){return new Qd(this.root,t,this.V,!1)},t.prototype.ft=function(){return new Qd(this.root,null,this.V,!0)},t.prototype.dt=function(t){return new Qd(this.root,t,this.V,!0)},t}(),Qd=function(){function t(t,e,n,r){this.wt=r,this.Tt=[];for(var i=1;!t.T();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.wt?t.left:t.right;else{if(0===i){this.Tt.push(t);break}this.Tt.push(t),t=this.wt?t.right:t.left}}return t.prototype.Et=function(){var t=this.Tt.pop(),e={key:t.key,value:t.value};if(this.wt)for(t=t.left;!t.T();)this.Tt.push(t),t=t.right;else for(t=t.right;!t.T();)this.Tt.push(t),t=t.left;return e},t.prototype.It=function(){return this.Tt.length>0},t.prototype.At=function(){if(0===this.Tt.length)return null;var t=this.Tt[this.Tt.length-1];return{key:t.key,value:t.value}},t}(),Jd=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.T=function(){return!1},t.prototype.ut=function(t){return this.left.ut(t)||t(this.key,this.value)||this.right.ut(t)},t.prototype.ht=function(t){return this.right.ht(t)||t(this.key,this.value)||this.left.ht(t)},t.prototype.min=function(){return this.left.T()?this:this.left.min()},t.prototype.at=function(){return this.min().key},t.prototype.ct=function(){return this.right.T()?this.key:this.right.ct()},t.prototype.rt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.rt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.rt(t,e,n))).Rt()},t.prototype.Pt=function(){if(this.left.T())return t.EMPTY;var e=this;return e.left.gt()||e.left.left.gt()||(e=e.Vt()),(e=e.copy(null,null,null,e.left.Pt(),null)).Rt()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.T()||i.left.gt()||i.left.left.gt()||(i=i.Vt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.gt()&&(i=i.yt()),i.right.T()||i.right.gt()||i.right.left.gt()||(i=i.vt()),0===n(e,i.key)){if(i.right.T())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.Pt())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.Rt()},t.prototype.gt=function(){return this.color},t.prototype.Rt=function(){var t=this;return t.right.gt()&&!t.left.gt()&&(t=t.bt()),t.left.gt()&&t.left.left.gt()&&(t=t.yt()),t.left.gt()&&t.right.gt()&&(t=t.St()),t},t.prototype.Vt=function(){var t=this.St();return t.right.left.gt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.yt())).bt()).St()),t},t.prototype.vt=function(){var t=this.St();return t.left.left.gt()&&(t=(t=t.yt()).St()),t},t.prototype.bt=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.yt=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.St=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Dt=function(){var t=this.Ct();return Math.pow(2,t)<=this.size+1},t.prototype.Ct=function(){if(this.gt()&&this.left.gt())throw dd();if(this.right.gt())throw dd();var t=this.left.Ct();if(t!==this.right.Ct())throw dd();return t+(this.gt()?0:1)},t}();Jd.EMPTY=null,Jd.RED=!0,Jd.ot=!1,Jd.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw dd()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw dd()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw dd()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw dd()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw dd()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.rt=function(t,e,n){return new Jd(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.T=function(){return!0},t.prototype.ut=function(t){return!1},t.prototype.ht=function(t){return!1},t.prototype.at=function(){return null},t.prototype.ct=function(){return null},t.prototype.gt=function(){return!1},t.prototype.Dt=function(){return!0},t.prototype.Ct=function(){return 0},t}());var Xd=function(){function t(t){this.V=t,this.data=new Kd(this.V)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.at()},t.prototype.last=function(){return this.data.ct()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.ut((function(e,n){return t(e),!1}))},t.prototype.Nt=function(t,e){for(var n=this.data._t(t[0]);n.It();){var r=n.Et();if(this.V(r.key,t[1])>=0)return;e(r.key)}},t.prototype.xt=function(t,e){var n;for(n=void 0!==e?this.data._t(e):this.data.lt();n.It();)if(!t(n.Et().key))return},t.prototype.Ft=function(t){var e=this.data._t(t);return e.It()?e.Et().key:null},t.prototype.lt=function(){return new Zd(this.data.lt())},t.prototype._t=function(t){return new Zd(this.data._t(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).rt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.T=function(){return this.data.T()},t.prototype.Ot=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.lt(),r=e.data.lt();n.It();){var i=n.Et().key,s=r.Et().key;if(0!==this.V(i,s))return!1}return!0},t.prototype.O=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.V);return n.data=e,n},t}(),Zd=function(){function t(t){this.Mt=t}return t.prototype.Et=function(){return this.Mt.Et().key},t.prototype.It=function(){return this.Mt.It()},t}(),Yd=new Kd(Ad.V);function tf(){return Yd}function ef(){return tf()}var nf=new Kd(Ad.V);function rf(){return nf}var sf=new Kd(Ad.V),of=new Xd(Ad.V);function af(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=of,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var uf=new Xd(bd);function cf(){return uf}var lf=function(){function t(t){this.V=t?function(e,n){return t(e,n)||Ad.V(e.key,n.key)}:function(t,e){return Ad.V(t.key,e.key)},this.kt=rf(),this.$t=new Kd(this.V)}return t.Lt=function(e){return new t(e.V)},t.prototype.has=function(t){return null!=this.kt.get(t)},t.prototype.get=function(t){return this.kt.get(t)},t.prototype.first=function(){return this.$t.at()},t.prototype.last=function(){return this.$t.ct()},t.prototype.T=function(){return this.$t.T()},t.prototype.indexOf=function(t){var e=this.kt.get(t);return e?this.$t.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.$t.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.$t.ut((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.kt.rt(t.key,t),e.$t.rt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.kt.remove(t),this.$t.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.$t.lt(),r=e.$t.lt();n.It();){var i=n.Et().key,s=r.Et().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.V=this.V,r.kt=e,r.$t=n,r},t}(),hf=function(){function t(){this.Bt=new Kd(Ad.V)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Bt.get(e);n?0!==t.type&&3===n.type?this.Bt=this.Bt.rt(e,t):3===t.type&&1!==n.type?this.Bt=this.Bt.rt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Bt=this.Bt.rt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Bt=this.Bt.rt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Bt=this.Bt.remove(e):1===t.type&&2===n.type?this.Bt=this.Bt.rt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Bt=this.Bt.rt(e,{type:2,doc:t.doc}):dd():this.Bt=this.Bt.rt(e,t)},t.prototype.qt=function(){var t=[];return this.Bt.ut((function(e,n){t.push(n)})),t},t}(),df=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.Ut=n,this.docChanges=r,this.Qt=i,this.fromCache=s,this.Kt=o,this.Wt=a}return t.jt=function(e,n,r,i){var s=[];return n.forEach((function(t){s.push({type:0,doc:t})})),new t(e,n,lf.Lt(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Qt.T()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Kt===t.Kt&&this.Qt.isEqual(t.Qt)&&bg(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Ut.isEqual(t.Ut)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),ff=function(){function t(t,e,n,r,i){this.et=t,this.Gt=e,this.zt=n,this.Ht=r,this.Jt=i}return t.Yt=function(e,n){var r=new Map;return r.set(e,pf.Xt(e,n)),new t(xd.min(),r,cf(),tf(),af())},t}(),pf=function(){function t(t,e,n,r,i){this.resumeToken=t,this.Zt=e,this.te=n,this.ee=r,this.ne=i}return t.Xt=function(e,n){return new t(qd.Z,n,af(),af(),af())},t}(),gf=function(t,e,n,r){this.se=t,this.removedTargetIds=e,this.key=n,this.ie=r},mf=function(t,e){this.targetId=t,this.re=e},bf=function(t,e,n,r){void 0===n&&(n=qd.Z),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},yf=function(){function t(){this.oe=0,this.ae=wf(),this.ce=qd.Z,this.ue=!1,this.he=!0}return Object.defineProperty(t.prototype,"Zt",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.ce},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"le",{get:function(){return 0!==this.oe},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_e",{get:function(){return this.he},enumerable:!1,configurable:!0}),t.prototype.fe=function(t){t.X()>0&&(this.he=!0,this.ce=t)},t.prototype.de=function(){var t=af(),e=af(),n=af();return this.ae.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:dd()}})),new pf(this.ce,this.ue,t,e,n)},t.prototype.we=function(){this.he=!1,this.ae=wf()},t.prototype.Te=function(t,e){this.he=!0,this.ae=this.ae.rt(t,e)},t.prototype.Ee=function(t){this.he=!0,this.ae=this.ae.remove(t)},t.prototype.Ie=function(){this.oe+=1},t.prototype.me=function(){this.oe-=1},t.prototype.Ae=function(){this.he=!0,this.ue=!0},t}(),vf=function(){function t(t){this.Re=t,this.Pe=new Map,this.ge=tf(),this.Ve=_f(),this.ye=new Xd(bd)}return t.prototype.pe=function(t){for(var e=0,n=t.se;e<n.length;e++){var r=n[e];t.ie instanceof eg?this.ve(r,t.ie):t.ie instanceof ng&&this.be(r,t.key,t.ie)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.be(s[i],t.key,t.ie)},t.prototype.Se=function(t){var e=this;this.De(t,(function(n){var r=e.Ce(n);switch(t.state){case 0:e.Ne(n)&&r.fe(t.resumeToken);break;case 1:r.me(),r.le||r.we(),r.fe(t.resumeToken);break;case 2:r.me(),r.le||e.removeTarget(n);break;case 3:e.Ne(n)&&(r.Ae(),r.fe(t.resumeToken));break;case 4:e.Ne(n)&&(e.xe(n),r.fe(t.resumeToken));break;default:dd()}}))},t.prototype.De=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Pe.forEach((function(t,r){n.Ne(r)&&e(r)}))},t.prototype.Fe=function(t){var e=t.targetId,n=t.re.count,r=this.Oe(e);if(r){var i=r.target;if(Ud(i))if(0===n){var s=new Ad(i.path);this.be(e,s,new ng(s,xd.min()))}else fd(1===n);else this.Me(e)!==n&&(this.xe(e),this.ye=this.ye.add(e))}},t.prototype.ke=function(t){var e=this,n=new Map;this.Pe.forEach((function(r,i){var s=e.Oe(i);if(s){if(r.Zt&&Ud(s.target)){var o=new Ad(s.target.path);null!==e.ge.get(o)||e.$e(i,o)||e.be(i,o,new ng(o,t))}r._e&&(n.set(i,r.de()),r.we())}}));var r=af();this.Ve.forEach((function(t,n){var i=!0;n.xt((function(t){var n=e.Oe(t);return!n||2===n.tt||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new ff(t,n,this.ye,this.ge,r);return this.ge=tf(),this.Ve=_f(),this.ye=new Xd(bd),i},t.prototype.ve=function(t,e){if(this.Ne(t)){var n=this.$e(t,e.key)?2:0;this.Ce(t).Te(e.key,n),this.ge=this.ge.rt(e.key,e),this.Ve=this.Ve.rt(e.key,this.Le(e.key).add(t))}},t.prototype.be=function(t,e,n){if(this.Ne(t)){var r=this.Ce(t);this.$e(t,e)?r.Te(e,1):r.Ee(e),this.Ve=this.Ve.rt(e,this.Le(e).delete(t)),n&&(this.ge=this.ge.rt(e,n))}},t.prototype.removeTarget=function(t){this.Pe.delete(t)},t.prototype.Me=function(t){var e=this.Ce(t).de();return this.Re.Be(t).size+e.te.size-e.ne.size},t.prototype.Ie=function(t){this.Ce(t).Ie()},t.prototype.Ce=function(t){var e=this.Pe.get(t);return e||(e=new yf,this.Pe.set(t,e)),e},t.prototype.Le=function(t){var e=this.Ve.get(t);return e||(e=new Xd(bd),this.Ve=this.Ve.rt(t,e)),e},t.prototype.Ne=function(t){var e=null!==this.Oe(t);return e||ud("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.Oe=function(t){var e=this.Pe.get(t);return e&&e.le?null:this.Re.qe(t)},t.prototype.xe=function(t){var e=this;this.Pe.set(t,new yf),this.Re.Be(t).forEach((function(n){e.be(t,n,null)}))},t.prototype.$e=function(t,e){return this.Re.Be(t).has(e)},t}();function _f(){return new Kd(Ad.V)}function wf(){return new Kd(Ad.V)}function Of(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Cf(t){var e=Pf(t.mapValue.fields.__local_write_time__.timestampValue);return new Td(e.seconds,e.nanos)}var Sf=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ef(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Of(t)?4:10:dd()}function Tf(t,e){var n=Ef(t);if(n!==Ef(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Cf(t).isEqual(Cf(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Pf(t.timestampValue),r=Pf(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return jf(t.bytesValue).isEqual(jf(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Af(t.geoPointValue.latitude)===Af(e.geoPointValue.latitude)&&Af(t.geoPointValue.longitude)===Af(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Af(t.integerValue)===Af(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Af(t.doubleValue),r=Af(e.doubleValue);return n===r?Rd(n)===Rd(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return yd(t.arrayValue.values||[],e.arrayValue.values||[],Tf);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(_d(n)!==_d(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Tf(n[i],r[i])))return!1;return!0}(t,e);default:return dd()}}function xf(t,e){return void 0!==(t.values||[]).find((function(t){return Tf(t,e)}))}function kf(t,e){var n=Ef(t),r=Ef(e);if(n!==r)return bd(n,r);switch(n){case 0:return 0;case 1:return bd(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Af(t.integerValue||t.doubleValue),r=Af(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return If(t.timestampValue,e.timestampValue);case 4:return If(Cf(t),Cf(e));case 5:return bd(t.stringValue,e.stringValue);case 6:return function(t,e){var n=jf(t),r=jf(e);return n.A(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=bd(n[i],r[i]);if(0!==s)return s}return bd(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=bd(Af(t.latitude),Af(e.latitude));return 0!==n?n:bd(Af(t.longitude),Af(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=kf(n[i],r[i]);if(s)return s}return bd(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=bd(r[o],s[o]);if(0!==a)return a;var u=kf(n[r[o]],i[s[o]]);if(0!==u)return u}return bd(r.length,s.length)}(t.mapValue,e.mapValue);default:throw dd()}}function If(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return bd(t,e);var n=Pf(t),r=Pf(e),i=bd(n.seconds,r.seconds);return 0!==i?i:bd(n.nanos,r.nanos)}function Nf(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=Pf(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?jf(e.bytesValue).toBase64():"referenceValue"in e?Ad.W(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,s=e.values||[];i<s.length;i++)r?r=!1:n+=",",n+=t(s[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,s=Object.keys(e.fields||{}).sort();i<s.length;i++){var o=s[i];r?r=!1:n+=",",n+=o+":"+t(e.fields[o])}return n+"}"}(e.mapValue):dd();var n}(t)}function Pf(t){if(fd(!!t),"string"==typeof t){var e=0,n=Sf.exec(t);if(fd(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Af(t.seconds),nanos:Af(t.nanos)}}function Af(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function jf(t){return"string"==typeof t?qd.fromBase64String(t):qd.fromUint8Array(t)}function Rf(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.M()}}function Mf(t){return!!t&&"integerValue"in t}function Df(t){return!!t&&"arrayValue"in t}function Lf(t){return!!t&&"nullValue"in t}function Ff(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Vf(t){return!!t&&"mapValue"in t}var Uf={asc:"ASCENDING",desc:"DESCENDING"},qf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Bf=function(t,e){this.t=t,this.Ue=e};function Hf(t){return{integerValue:""+t}}function zf(t,e){if(t.Ue){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rd(e)?"-0":e}}function Gf(t,e){return Md(e)?Hf(e):zf(t,e)}function $f(t,e){return t.Ue?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Wf(t,e){return t.Ue?e.toBase64():e.toUint8Array()}function Kf(t,e){return $f(t,e.P())}function Qf(t){return fd(!!t),xd.m(function(t){var e=Pf(t);return new Td(e.seconds,e.nanos)}(t))}function Jf(t,e){return function(t){return new Id(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).M()}function Xf(t){var e=Id.k(t);return fd(vp(e)),e}function Zf(t,e){return Jf(t.t,e.path)}function Yf(t,e){var n=Xf(e);if(n.get(1)!==t.t.projectId)throw new Ed(Sd.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.t.projectId);if(n.get(3)!==t.t.database)throw new Ed(Sd.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.t.database);return new Ad(rp(n))}function tp(t,e){return Jf(t.t,e)}function ep(t){var e=Xf(t);return 4===e.length?Id.$():rp(e)}function np(t){return new Id(["projects",t.t.projectId,"databases",t.t.database]).M()}function rp(t){return fd(t.length>4&&"documents"===t.get(4)),t.v(5)}function ip(t,e,n){return{name:Zf(t,e),fields:n.proto.mapValue.fields}}function sp(t,e){var n;if(e instanceof Hp)n={update:ip(t,e.key,e.value)};else if(e instanceof Qp)n={delete:Zf(t,e.key)};else if(e instanceof zp)n={update:ip(t,e.key,e.data),updateMask:yp(e.Qe)};else if(e instanceof $p)n={transform:{document:Zf(t,e.key),fieldTransforms:e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Sp)return{fieldPath:e.field.M(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ep)return{fieldPath:e.field.M(),appendMissingElements:{values:n.elements}};if(n instanceof xp)return{fieldPath:e.field.M(),removeAllFromArray:{values:n.elements}};if(n instanceof Ip)return{fieldPath:e.field.M(),increment:n.Ke};throw dd()}(0,t)}))}};else{if(!(e instanceof Jp))return dd();n={verify:Zf(t,e.key)}}return e.je.We||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Kf(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:dd()}(t,e.je)),n}function op(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Mp.updateTime(Qf(t.updateTime)):void 0!==t.exists?Mp.exists(t.exists):Mp.Ge()}(e.currentDocument):Mp.Ge();if(e.update){var r=Yf(t,e.update.name),i=new Xp({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new Ap((t.fieldPaths||[]).map((function(t){return Pd.U(t)})))}(e.updateMask);return new zp(r,i,s,n)}return new Hp(r,i,n)}if(e.delete){var o=Yf(t,e.delete);return new Qp(o,n)}if(e.transform){var a=Yf(t,e.transform.document),u=e.transform.fieldTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(fd("REQUEST_TIME"===e.setToServerValue),n=new Sp):"appendMissingElements"in e?n=new Ep(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new xp(e.removeAllFromArray.values||[]):"increment"in e?n=new Ip(t,e.increment):dd();var r=Pd.U(e.fieldPath);return new jp(r,n)}(t,e)}));return fd(!0===n.exists),new $p(a,u)}if(e.verify){var c=Yf(t,e.verify);return new Jp(c,n)}return dd()}function ap(t,e){return{documents:[tp(t,e.path)]}}function up(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=tp(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=tp(t,r.S()),n.structuredQuery.from=[{collectionId:r.C()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(Ff(t.value))return{unaryFilter:{field:pp(t.field),op:"IS_NAN"}};if(Lf(t.value))return{unaryFilter:{field:pp(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Ff(t.value))return{unaryFilter:{field:pp(t.field),op:"IS_NOT_NAN"}};if(Lf(t.value))return{unaryFilter:{field:pp(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pp(t.field),op:fp(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:pp(t.field),direction:dp(t.dir)}}(t)}))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.Ue||jd(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=lp(e.startAt)),e.endAt&&(n.structuredQuery.endAt=lp(e.endAt)),n}function cp(t){var e=ep(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){fd(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=function t(e){return e?void 0!==e.unaryFilter?[bp(e)]:void 0!==e.fieldFilter?[mp(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):dd():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new Mg(gp(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return jd(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=hp(n.startAt));var l=null;return n.endAt&&(l=hp(n.endAt)),sg(e,i,a,o,u,"F",c,l)}function lp(t){return{before:t.before,values:t.position}}function hp(t){return new Pg(t.values||[],!!t.before)}function dp(t){return Uf[t]}function fp(t){return qf[t]}function pp(t){return{fieldPath:t.M()}}function gp(t){return Pd.U(t.fieldPath)}function mp(t){return Og.create(gp(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return dd()}}(t.fieldFilter.op),t.fieldFilter.value)}function bp(t){switch(t.unaryFilter.op){case"IS_NAN":var e=gp(t.unaryFilter.field);return Og.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=gp(t.unaryFilter.field);return Og.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=gp(t.unaryFilter.field);return Og.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=gp(t.unaryFilter.field);return Og.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return dd()}}function yp(t){var e=[];return t.fields.forEach((function(t){return e.push(t.M())})),{fieldPaths:e}}function vp(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var _p=function(){this.ze=void 0};function wp(t,e,n){return t instanceof Sp?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Ep?Tp(t,e):t instanceof xp?kp(t,e):function(t,e){var n=Cp(t,e),r=Np(n)+Np(t.Ke);return Mf(n)&&Mf(t.Ke)?Hf(r):zf(t.serializer,r)}(t,e)}function Op(t,e,n){return t instanceof Ep?Tp(t,e):t instanceof xp?kp(t,e):n}function Cp(t,e){return t instanceof Ip?Mf(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Sp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(nu.c)(e,t),e}(_p),Ep=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(nu.c)(e,t),e}(_p);function Tp(t,e){for(var n=Pp(e),r=function(t){n.some((function(e){return Tf(e,t)}))||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var xp=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(nu.c)(e,t),e}(_p);function kp(t,e){for(var n=Pp(e),r=function(t){n=n.filter((function(e){return!Tf(e,t)}))},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Ip=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).serializer=e,r.Ke=n,r}return Object(nu.c)(e,t),e}(_p);function Np(t){return Af(t.integerValue||t.doubleValue)}function Pp(t){return Df(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Ap=function(){function t(t){this.fields=t,t.sort(Pd.V)}return t.prototype.He=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].N(t))return!0;return!1},t.prototype.isEqual=function(t){return yd(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),jp=function(t,e){this.field=t,this.transform=e},Rp=function(t,e){this.version=t,this.transformResults=e},Mp=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Ge=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"We",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Dp(t,e){return void 0!==t.updateTime?e instanceof eg&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof eg}var Lp=function(){};function Fp(t,e,n){return t instanceof Hp?function(t,e,n){return new eg(t.key,n.version,t.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof zp?function(t,e,n){if(!Dp(t.je,e))return new rg(t.key,n.version);var r=Gp(t,e);return new eg(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof $p?function(t,e,n){if(fd(null!=n.transformResults),!Dp(t.je,e))return new rg(t.key,n.version);var r=Wp(0,e),i=function(t,e,n){var r=[];fd(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,a=null;e instanceof eg&&(a=e.field(s.field)),r.push(Op(o,a,n[i]))}return r}(t.fieldTransforms,e,n.transformResults),s=n.version,o=Kp(t,r.data(),i);return new eg(t.key,s,o,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new ng(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Vp(t,e,n,r){return t instanceof Hp?function(t,e){if(!Dp(t.je,e))return e;var n=Bp(e);return new eg(t.key,n,t.value,{Je:!0})}(t,e):t instanceof zp?function(t,e){if(!Dp(t.je,e))return e;var n=Bp(e),r=Gp(t,e);return new eg(t.key,n,r,{Je:!0})}(t,e):t instanceof $p?function(t,e,n,r){if(!Dp(t.je,e))return e;var i=Wp(0,e),s=function(t,e,n,r){for(var i=[],s=0,o=t;s<o.length;s++){var a=o[s],u=a.transform,c=null;n instanceof eg&&(c=n.field(a.field)),null===c&&r instanceof eg&&(c=r.field(a.field)),i.push(wp(u,c,e))}return i}(t.fieldTransforms,n,e,r),o=Kp(t,i.data(),s);return new eg(t.key,i.version,o,{Je:!0})}(t,e,r,n):function(t,e){return Dp(t.je,e)?new ng(t.key,xd.min()):e}(t,e)}function Up(t,e){return t instanceof $p?function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var s=i[r],o=e instanceof eg?e.field(s.field):void 0,a=Cp(s.transform,o||null);null!=a&&(n=null==n?(new Zp).set(s.field,a):n.set(s.field,a))}return n?n.Ye():null}(t,e):null}function qp(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.je.isEqual(e.je)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.Qe.isEqual(e.Qe):2!==t.type||yd(t.fieldTransforms,t.fieldTransforms,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Ep&&e instanceof Ep||t instanceof xp&&e instanceof xp?yd(t.elements,e.elements,Tf):t instanceof Ip&&e instanceof Ip?Tf(t.Ke,e.Ke):t instanceof Sp&&e instanceof Sp}(t.transform,e.transform)}(t,e)})))}function Bp(t){return t instanceof eg?t.version:xd.min()}var Hp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.je=r,i.type=0,i}return Object(nu.c)(e,t),e}(Lp),zp=function(t){function e(e,n,r,i){var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.Qe=r,s.je=i,s.type=1,s}return Object(nu.c)(e,t),e}(Lp);function Gp(t,e){return function(t,e){var n=new Zp(e);return t.Qe.fields.forEach((function(e){if(!e.T()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.Ye()}(t,e instanceof eg?e.data():Xp.empty())}var $p=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.je=Mp.exists(!0),r}return Object(nu.c)(e,t),e}(Lp);function Wp(t,e){return e}function Kp(t,e,n){for(var r=new Zp(e),i=0;i<t.fieldTransforms.length;i++)r.set(t.fieldTransforms[i].field,n[i]);return r.Ye()}var Qp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.je=n,r.type=3,r}return Object(nu.c)(e,t),e}(Lp),Jp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.je=n,r.type=4,r}return Object(nu.c)(e,t),e}(Lp),Xp=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.T())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Vf(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.C()])||null},t.prototype.isEqual=function(t){return Tf(this.proto,t.proto)},t}(),Zp=function(){function t(t){void 0===t&&(t=Xp.empty()),this.Xe=t,this.Ze=new Map}return t.prototype.set=function(t,e){return this.tn(t,e),this},t.prototype.delete=function(t){return this.tn(t,null),this},t.prototype.tn=function(t,e){for(var n=this.Ze,r=0;r<t.length-1;++r){var i=t.get(r),s=n.get(i);s instanceof Map?n=s:s&&10===Ef(s)?(s=new Map(Object.entries(s.mapValue.fields||{})),n.set(i,s),n=s):(s=new Map,n.set(i,s),n=s)}n.set(t.C(),e)},t.prototype.Ye=function(){var t=this.en(Pd.$(),this.Ze);return null!=t?new Xp(t):this.Xe},t.prototype.en=function(t,e){var n=this,r=!1,i=this.Xe.field(t),s=Vf(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var o=n.en(t.child(i),e);null!=o&&(s[i]=o,r=!0)}else null!==e?(s[i]=e,r=!0):s.hasOwnProperty(i)&&(delete s[i],r=!0)})),r?{mapValue:{fields:s}}:null},t}();function Yp(t){var e=[];return wd(t.fields||{},(function(t,n){var r=new Pd([t]);if(Vf(n)){var i=Yp(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)})),new Ap(e)}var tg=function(t,e){this.key=t,this.version=e},eg=function(t){function e(e,n,r,i){var s=this;return(s=t.call(this,e,n)||this).nn=r,s.Je=!!i.Je,s.hasCommittedMutations=!!i.hasCommittedMutations,s}return Object(nu.c)(e,t),e.prototype.field=function(t){return this.nn.field(t)},e.prototype.data=function(){return this.nn},e.prototype.sn=function(){return this.nn.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Je===t.Je&&this.hasCommittedMutations===t.hasCommittedMutations&&this.nn.isEqual(t.nn)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.nn.toString()+", {hasLocalMutations: "+this.Je+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Je||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(tg),ng=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(nu.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(tg),rg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(nu.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(tg),ig=function(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.rn=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.on=null,this.an=null};function sg(t,e,n,r,i,s,o,a){return new ig(t,e,n,r,i,s,o,a)}function og(t){return new ig(t)}function ag(t){return!jd(t.limit)&&"F"===t.limitType}function ug(t){return!jd(t.limit)&&"L"===t.limitType}function cg(t){return t.rn.length>0?t.rn[0].field:null}function lg(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.cn())return r.field}return null}function hg(t){return null!==t.collectionGroup}function dg(t){var e=pd(t);if(null===e.on){e.on=[];var n=lg(e),r=cg(e);if(null!==n&&null===r)n.B()||e.on.push(new Mg(n)),e.on.push(new Mg(Pd.q(),"asc"));else{for(var i=!1,s=0,o=e.rn;s<o.length;s++){var a=o[s];e.on.push(a),a.field.B()&&(i=!0)}if(!i){var u=e.rn.length>0?e.rn[e.rn.length-1].dir:"asc";e.on.push(new Mg(Pd.q(),u))}}}return e.on}function fg(t){var e=pd(t);if(!e.an)if("F"===e.limitType)e.an=Ld(e.path,e.collectionGroup,dg(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=dg(e);r<i.length;r++){var s=i[r];n.push(new Mg(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new Pg(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Pg(e.startAt.position,!e.startAt.before):null;e.an=Ld(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.an}function pg(t,e,n){return new ig(t.path,t.collectionGroup,t.rn.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function gg(t,e){return new ig(t.path,t.collectionGroup,t.rn.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}function mg(t,e){return new ig(t.path,t.collectionGroup,t.rn.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}function bg(t,e){return Vd(fg(t),fg(e))&&t.limitType===e.limitType}function yg(t){return Fd(fg(t))+"|lt:"+t.limitType}function vg(t){return"Query(target="+function(t){var e=t.path.M();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.M()+" "+e.op+" "+Nf(e.value);var e})).join(", ")+"]"),jd(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return(e=t).field.M()+" ("+e.dir+")";var e})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Ag(t.startAt)),t.endAt&&(e+=", endAt: "+Ag(t.endAt)),"Target("+e+")"}(fg(t))+"; limitType="+t.limitType+")"}function _g(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.j(t.collectionGroup)&&t.path.N(n):Ad.G(t.path)?t.path.isEqual(n):t.path.F(n)}(t,e)&&function(t,e){for(var n=0,r=t.rn;n<r.length;n++){var i=r[n];if(!i.field.B()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!jg(t.startAt,dg(t),e)||t.endAt&&jg(t.endAt,dg(t),e))}(t,e)}function wg(t){return function(e,n){for(var r=!1,i=0,s=dg(t);i<s.length;i++){var o=s[i],a=Dg(o,e,n);if(0!==a)return a;r=r||o.field.B()}return 0}}var Og=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(nu.c)(e,t),e.create=function(t,n,r){return t.B()?"in"===n||"not-in"===n?this.un(t,n,r):new Cg(t,n,r):"array-contains"===n?new xg(t,r):"in"===n?new kg(t,r):"not-in"===n?new Ig(t,r):"array-contains-any"===n?new Ng(t,r):new e(t,n,r)},e.un=function(t,e,n){return"in"===e?new Sg(t,n):new Eg(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.hn(kf(e,this.value)):null!==e&&Ef(this.value)===Ef(e)&&this.hn(kf(e,this.value))},e.prototype.hn=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return dd()}},e.prototype.cn=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),Cg=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Ad.W(r.referenceValue),i}return Object(nu.c)(e,t),e.prototype.matches=function(t){var e=Ad.V(t.key,this.key);return this.hn(e)},e}(Og),Sg=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Tg(0,n),r}return Object(nu.c)(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Og),Eg=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Tg(0,n),r}return Object(nu.c)(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Og);function Tg(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return Ad.W(t.referenceValue)}))}var xg=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(nu.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Df(e)&&xf(e.arrayValue,this.value)},e}(Og),kg=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(nu.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&xf(this.value.arrayValue,e)},e}(Og),Ig=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(nu.c)(e,t),e.prototype.matches=function(t){if(xf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!xf(this.value.arrayValue,e)},e}(Og),Ng=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(nu.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Df(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return xf(e.value.arrayValue,t)}))},e}(Og),Pg=function(t,e){this.position=t,this.before=e};function Ag(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return Nf(t)})).join(",")}function jg(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.B()?Ad.V(Ad.W(o.referenceValue),n.key):kf(o,n.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Rg(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Tf(t.position[n],e.position[n]))return!1;return!0}var Mg=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Dg(t,e,n){var r=t.field.B()?Ad.V(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?kf(r,i):dd()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return dd()}}function Lg(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Fg=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},Vg=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.ln=t,this._n=e,this.fn=n,this.dn=r,this.wn=i,this.Tn=0,this.En=null,this.In=Date.now(),this.reset()}return t.prototype.reset=function(){this.Tn=0},t.prototype.mn=function(){this.Tn=this.wn},t.prototype.An=function(t){var e=this;this.cancel();var n=Math.floor(this.Tn+this.Rn()),r=Math.max(0,Date.now()-this.In),i=Math.max(0,n-r);i>0&&ud("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Tn+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.En=this.ln.Pn(this._n,i,(function(){return e.In=Date.now(),t()})),this.Tn*=this.dn,this.Tn<this.fn&&(this.Tn=this.fn),this.Tn>this.wn&&(this.Tn=this.wn)},t.prototype.gn=function(){null!==this.En&&(this.En.Vn(),this.En=null)},t.prototype.cancel=function(){null!==this.En&&(this.En.cancel(),this.En=null)},t.prototype.Rn=function(){return(Math.random()-.5)*this.Tn},t}(),Ug=function(){function t(t){var e=this;this.yn=null,this.pn=null,this.result=void 0,this.error=void 0,this.vn=!1,this.bn=!1,t((function(t){e.vn=!0,e.result=t,e.yn&&e.yn(t)}),(function(t){e.vn=!0,e.error=t,e.pn&&e.pn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.bn&&dd(),this.bn=!0,this.vn?this.error?this.Sn(n,this.error):this.Dn(e,this.result):new t((function(t,i){r.yn=function(n){r.Dn(e,n).next(t,i)},r.pn=function(e){r.Sn(n,e).next(t,i)}}))},t.prototype.Cn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Nn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.Dn=function(e,n){return e?this.Nn((function(){return e(n)})):t.resolve(n)},t.prototype.Sn=function(e,n){return e?this.Nn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.xn=function(e){return new t((function(t,n){var r=0,i=0,s=!1;e.forEach((function(e){++r,e.next((function(){++i,s&&i===r&&t()}),(function(t){return n(t)}))})),s=!0,i===r&&t()}))},t.Fn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.xn(r)},t}(),qg=function(){function t(e,n,r){this.name=e,this.version=n,this.On=r,12.2===t.Mn(Object(su.h)())&&cd("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return ud("SimpleDb","Removing database:",t),Wg(window.indexedDB.deleteDatabase(t)).Cn()},t.kn=function(){if("undefined"==typeof indexedDB)return!1;if(t.$n())return!0;var e=Object(su.h)(),n=t.Mn(e),r=0<n&&n<10,i=t.Ln(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.$n=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Bn)},t.qn=function(t,e){return t.store(e)},t.Mn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Ln=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Un=function(t){return Object(nu.b)(this,void 0,void 0,(function(){var e,n=this;return Object(nu.d)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(ud("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Hg(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Ed(Sd.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Hg(t,n))},i.onupgradeneeded=function(t){ud("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.On.createOrUpgrade(t.target.result,i.transaction,t.oldVersion,n.version).next((function(){ud("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Qn&&(this.db.onversionchange=function(t){return n.Qn(t)}),this.db)]}}))}))},t.prototype.Kn=function(t){this.Qn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(nu.b)(this,void 0,void 0,(function(){var i,s,o,a,u;return Object(nu.d)(this,(function(c){switch(c.label){case 0:i="readonly"===e,s=0,o=function(){var e,o,u,c,l;return Object(nu.d)(this,(function(h){switch(h.label){case 0:++s,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Un(t)];case 2:return a.db=h.sent(),e=Gg.open(a.db,t,i?"readonly":"readwrite",n),o=r(e).catch((function(t){return e.abort(t),Ug.reject(t)})).Cn(),u={},o.catch((function(){})),[4,e.Wn];case 3:return[2,(u.value=(h.sent(),o),u)];case 4:return ud("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&s<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},a=this,c.label=1;case 1:return[5,o()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Bg=function(){function t(t){this.jn=t,this.Gn=!1,this.zn=null}return Object.defineProperty(t.prototype,"vn",{get:function(){return this.Gn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Hn",{get:function(){return this.zn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.jn=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Gn=!0},t.prototype.Jn=function(t){this.zn=t},t.prototype.delete=function(){return Wg(this.jn.delete())},t}(),Hg=function(t){function e(e,n){var r=this;return(r=t.call(this,Sd.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(nu.c)(e,t),e}(Ed);function zg(t){return"IndexedDbTransactionError"===t.name}var Gg=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.Yn=new Fg,this.transaction.oncomplete=function(){n.Yn.resolve()},this.transaction.onabort=function(){e.error?n.Yn.reject(new Hg(t,e.error)):n.Yn.resolve()},this.transaction.onerror=function(e){var r=Qg(e.target.error);n.Yn.reject(new Hg(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Hg(n,e)}},Object.defineProperty(t.prototype,"Wn",{get:function(){return this.Yn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.Yn.reject(t),this.aborted||(ud("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new $g(e)},t}(),$g=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(ud("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(ud("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Wg(n)},t.prototype.add=function(t){return ud("SimpleDb","ADD",this.store.name,t,t),Wg(this.store.add(t))},t.prototype.get=function(t){var e=this;return Wg(this.store.get(t)).next((function(n){return void 0===n&&(n=null),ud("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return ud("SimpleDb","DELETE",this.store.name,t),Wg(this.store.delete(t))},t.prototype.count=function(){return ud("SimpleDb","COUNT",this.store.name),Wg(this.store.count())},t.prototype.Xn=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.Zn(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.ts=function(t,e){ud("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.es=!1;var r=this.cursor(n);return this.Zn(r,(function(t,e,n){return n.delete()}))},t.prototype.ns=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.Zn(r,e)},t.prototype.ss=function(t){var e=this.cursor({});return new Ug((function(n,r){e.onerror=function(t){var e=Qg(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.Zn=function(t,e){var n=[];return new Ug((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new Bg(i),o=e(i.primaryKey,i.value,s);if(o instanceof Ug){var a=o.catch((function(t){return s.done(),Ug.reject(t)}));n.push(a)}s.vn?r():null===s.Hn?i.continue():i.continue(s.Hn)}else r()}})).next((function(){return Ug.xn(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.es?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Wg(t){return new Ug((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Qg(t.target.error);n(e)}}))}var Kg=!1;function Qg(t){var e=qg.Mn(Object(su.h)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Ed("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Kg||(Kg=!0,setTimeout((function(){throw r}),0)),r}}return t}function Jg(){return"undefined"!=typeof window?window:null}function Xg(){return"undefined"!=typeof document?document:null}var Zg=function(){function t(t,e,n,r,i){this.rs=t,this._n=e,this.os=n,this.op=r,this.cs=i,this.us=new Fg,this.then=this.us.promise.then.bind(this.us.promise),this.us.promise.catch((function(t){}))}return t.hs=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.ls=setTimeout((function(){return e._s()}),t)},t.prototype.Vn=function(){return this._s()},t.prototype.cancel=function(t){null!==this.ls&&(this.clearTimeout(),this.us.reject(new Ed(Sd.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype._s=function(){var t=this;this.rs.fs((function(){return null!==t.ls?(t.clearTimeout(),t.op().then((function(e){return t.us.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.ls&&(this.cs(this),clearTimeout(this.ls),this.ls=null)},t}(),Yg=function(){function t(){var t=this;this.ds=Promise.resolve(),this.ws=[],this.Ts=!1,this.Es=[],this.Is=null,this.As=!1,this.Rs=[],this.Ps=new Vg(this,"async_queue_retry"),this.gs=function(){var e=Xg();e&&ud("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Ps.gn()};var e=Xg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.gs)}return Object.defineProperty(t.prototype,"Vs",{get:function(){return this.Ts},enumerable:!1,configurable:!0}),t.prototype.fs=function(t){this.enqueue(t)},t.prototype.ys=function(t){this.ps(),this.vs(t)},t.prototype.bs=function(){if(!this.Ts){this.Ts=!0;var t=Xg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.gs)}},t.prototype.enqueue=function(t){return this.ps(),this.Ts?new Promise((function(t){})):this.vs(t)},t.prototype.Ss=function(t){var e=this;this.fs((function(){return e.ws.push(t),e.Ds()}))},t.prototype.Ds=function(){return Object(nu.b)(this,void 0,void 0,(function(){var t,e=this;return Object(nu.d)(this,(function(n){switch(n.label){case 0:if(0===this.ws.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.ws[0]()];case 2:return n.sent(),this.ws.shift(),this.Ps.reset(),[3,4];case 3:if(!zg(t=n.sent()))throw t;return ud("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.ws.length>0&&this.Ps.An((function(){return e.Ds()})),n.label=5;case 5:return[2]}}))}))},t.prototype.vs=function(t){var e=this,n=this.ds.then((function(){return e.As=!0,t().catch((function(t){throw e.Is=t,e.As=!1,cd("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.As=!1,t}))}));return this.ds=n,n},t.prototype.Pn=function(t,e,n){var r=this;this.ps(),this.Rs.indexOf(t)>-1&&(e=0);var i=Zg.hs(this,t,e,n,(function(t){return r.Cs(t)}));return this.Es.push(i),i},t.prototype.ps=function(){this.Is&&dd()},t.prototype.Ns=function(){},t.prototype.xs=function(){return Object(nu.b)(this,void 0,void 0,(function(){var t;return Object(nu.d)(this,(function(e){switch(e.label){case 0:return[4,t=this.ds];case 1:e.sent(),e.label=2;case 2:if(t!==this.ds)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Fs=function(t){for(var e=0,n=this.Es;e<n.length;e++)if(n[e]._n===t)return!0;return!1},t.prototype.Os=function(t){var e=this;return this.xs().then((function(){e.Es.sort((function(t,e){return t.os-e.os}));for(var n=0,r=e.Es;n<r.length;n++){var i=r[n];if(i.Vn(),"all"!==t&&i._n===t)break}return e.xs()}))},t.prototype.Ms=function(t){this.Rs.push(t)},t.prototype.Cs=function(t){var e=this.Es.indexOf(t);this.Es.splice(e,1)},t}();function tm(t,e){if(cd("AsyncQueue",e+": "+t),zg(t))return new Ed(Sd.UNAVAILABLE,e+": "+t);throw t}var em=function(){this.ks=void 0,this.listeners=[]},nm=function(){this.queries=new Cd((function(t){return yg(t)}),bg),this.onlineState="Unknown",this.$s=new Set};function rm(t,e){return Object(nu.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a,u;return Object(nu.d)(this,(function(c){switch(c.label){case 0:if(n=pd(t),i=!1,(s=n.queries.get(r=e.query))||(i=!0,s=new em),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),o=s,[4,n.Ls(r)];case 2:return o.ks=c.sent(),[3,4];case 3:return a=c.sent(),u=tm(a,"Initialization of query '"+vg(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.Bs(n.onlineState),s.ks&&e.qs(s.ks)&&am(n),[2]}}))}))}function im(t,e){return Object(nu.b)(this,void 0,void 0,(function(){var n,r,i,s,o;return Object(nu.d)(this,(function(a){return n=pd(t),i=!1,(s=n.queries.get(r=e.query))&&(o=s.listeners.indexOf(e))>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length),i?[2,(n.queries.delete(r),n.Us(r))]:[2]}))}))}function sm(t,e){for(var n=pd(t),r=!1,i=0,s=e;i<s.length;i++){var o=s[i],a=n.queries.get(o.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].qs(o)&&(r=!0);a.ks=o}}r&&am(n)}function om(t,e,n){var r=pd(t),i=r.queries.get(e);if(i)for(var s=0,o=i.listeners;s<o.length;s++)o[s].onError(n);r.queries.delete(e)}function am(t){t.$s.forEach((function(t){t.next()}))}var um=function(){function t(t,e,n){this.query=t,this.Qs=e,this.Ks=!1,this.Ws=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.qs=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new df(t.query,t.docs,t.Ut,e,t.Qt,t.fromCache,t.Kt,!0)}var s=!1;return this.Ks?this.js(t)&&(this.Qs.next(t),s=!0):this.Gs(t,this.onlineState)&&(this.zs(t),s=!0),this.Ws=t,s},t.prototype.onError=function(t){this.Qs.error(t)},t.prototype.Bs=function(t){this.onlineState=t;var e=!1;return this.Ws&&!this.Ks&&this.Gs(this.Ws,t)&&(this.zs(this.Ws),e=!0),e},t.prototype.Gs=function(t,e){return!t.fromCache||!(this.options.Hs&&"Offline"!==e||t.docs.T()&&"Offline"!==e)},t.prototype.js=function(t){return t.docChanges.length>0||!!(t.Kt||this.Ws&&this.Ws.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.zs=function(t){t=df.jt(t.query,t.docs,t.Qt,t.fromCache),this.Ks=!0,this.Qs.next(t)},t}(),cm=function(){function t(t){this.uid=t}return t.prototype.Js=function(){return null!=this.uid},t.prototype.Ys=function(){return this.Js()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();cm.UNAUTHENTICATED=new cm(null),cm.Xs=new cm("google-credentials-uid"),cm.Zs=new cm("first-party-uid");var lm=function(t,e){this.user=e,this.type="OAuth",this.ti={},this.ti.Authorization="Bearer "+t},hm=function(){function t(){this.ei=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.ni=function(){},t.prototype.si=function(t){this.ei=t,t(cm.UNAUTHENTICATED)},t.prototype.ii=function(){this.ei=null},t}(),dm=function(){function t(t){var e=this;this.ri=null,this.currentUser=cm.UNAUTHENTICATED,this.oi=!1,this.ai=0,this.ei=null,this.forceRefresh=!1,this.ri=function(){e.ai++,e.currentUser=e.ci(),e.oi=!0,e.ei&&e.ei(e.currentUser)},this.ai=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.ri):(this.ri(null),t.get().then((function(t){e.auth=t,e.ri&&e.auth.addAuthTokenListener(e.ri)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.ai,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.ai!==e?(ud("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(fd("string"==typeof n.accessToken),new lm(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.ni=function(){this.forceRefresh=!0},t.prototype.si=function(t){this.ei=t,this.oi&&t(this.currentUser)},t.prototype.ii=function(){this.auth&&this.auth.removeAuthTokenListener(this.ri),this.ri=null,this.ei=null},t.prototype.ci=function(){var t=this.auth&&this.auth.getUid();return fd(null===t||"string"==typeof t),new cm(t)},t}(),fm=function(){function t(t,e){this.ui=t,this.hi=e,this.type="FirstParty",this.user=cm.Zs}return Object.defineProperty(t.prototype,"ti",{get:function(){var t={"X-Goog-AuthUser":this.hi},e=this.ui.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),pm=function(){function t(t,e){this.ui=t,this.hi=e}return t.prototype.getToken=function(){return Promise.resolve(new fm(this.ui,this.hi))},t.prototype.si=function(t){t(cm.Zs)},t.prototype.ii=function(){},t.prototype.ni=function(){},t}(),gm=function(){function t(t,e,n,r){this.batchId=t,this.li=e,this.baseMutations=n,this.mutations=r}return t.prototype._i=function(t,e,n){for(var r=n.fi,i=0;i<this.mutations.length;i++){var s=this.mutations[i];s.key.isEqual(t)&&(e=Fp(s,e,r[i]))}return e},t.prototype.di=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=Vp(i,e,e,this.li))}for(var s=e,o=0,a=this.mutations;o<a.length;o++){var u=a[o];u.key.isEqual(t)&&(e=Vp(u,e,s,this.li))}return e},t.prototype.wi=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.di(r.key,t.get(r.key));i&&(n=n.rt(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),af())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&yd(this.mutations,t.mutations,(function(t,e){return qp(t,e)}))&&yd(this.baseMutations,t.baseMutations,(function(t,e){return qp(t,e)}))},t}(),mm=function(){function t(t,e,n,r){this.batch=t,this.Ti=e,this.fi=n,this.Ei=r}return t.from=function(e,n,r){fd(e.mutations.length===r.length);for(var i=sf,s=e.mutations,o=0;o<s.length;o++)i=i.rt(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),bm=function(){function t(){this.Ii=new Cd((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.mi=!1}return t.prototype.Ai=function(t){var e=this.Ii.get(t);return e?e.readTime:xd.min()},t.prototype.Ri=function(t,e){this.Pi(),this.Ii.set(t.key,{gi:t,readTime:e})},t.prototype.Vi=function(t,e){void 0===e&&(e=null),this.Pi(),this.Ii.set(t,{gi:null,readTime:e})},t.prototype.yi=function(t,e){this.Pi();var n=this.Ii.get(e);return void 0!==n?Ug.resolve(n.gi):this.pi(t,e)},t.prototype.getEntries=function(t,e){return this.vi(t,e)},t.prototype.apply=function(t){return this.Pi(),this.mi=!0,this.bi(t)},t.prototype.Pi=function(){},t}();function ym(t){return new Bf(t,!0)}function vm(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}var _m="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",wm=function(){function t(){this.Si=[]}return t.prototype.Di=function(t){this.Si.push(t)},t.prototype.Ci=function(){this.Si.forEach((function(t){return t()}))},t}(),Om=function(){function t(t,e,n){this.Ni=t,this.xi=e,this.Fi=n}return t.prototype.Oi=function(t,e){var n=this;return this.xi.Mi(t,e).next((function(r){return n.ki(t,e,r)}))},t.prototype.ki=function(t,e,n){return this.Ni.yi(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].di(e,t);return t}))},t.prototype.$i=function(t,e,n){var r=ef();return e.forEach((function(t,e){for(var i=0,s=n;i<s.length;i++)e=s[i].di(t,e);r=r.rt(t,e)})),r},t.prototype.Li=function(t,e){var n=this;return this.Ni.getEntries(t,e).next((function(e){return n.Bi(t,e)}))},t.prototype.Bi=function(t,e){var n=this;return this.xi.qi(t,e).next((function(r){var i=n.$i(t,e,r),s=tf();return i.forEach((function(t,e){e||(e=new ng(t,xd.min())),s=s.rt(t,e)})),s}))},t.prototype.Ui=function(t,e,n){return function(t){return Ad.G(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Qi(t,e.path):hg(e)?this.Ki(t,e,n):this.Wi(t,e,n)},t.prototype.Qi=function(t,e){return this.Oi(t,new Ad(e)).next((function(t){var e=rf();return t instanceof eg&&(e=e.rt(t.key,t)),e}))},t.prototype.Ki=function(t,e,n){var r=this,i=e.collectionGroup,s=rf();return this.Fi.ji(t,i).next((function(o){return Ug.forEach(o,(function(o){var a=function(t,e){return new ig(e,null,t.rn.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return r.Wi(t,a,n).next((function(t){t.forEach((function(t,e){s=s.rt(t,e)}))}))})).next((function(){return s}))}))},t.prototype.Wi=function(t,e,n){var r,i,s=this;return this.Ni.Ui(t,e,n).next((function(n){return r=n,s.xi.Gi(t,e)})).next((function(e){return s.zi(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var u=a[o],c=u.key,l=r.get(c),h=Vp(u,l,l,s.li);r=h instanceof eg?r.rt(c,h):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){_g(e,n)||(r=r.remove(t))})),r}))},t.prototype.zi=function(t,e,n){for(var r=af(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var u=a[o];u instanceof zp&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ni.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof eg&&(c=c.rt(t,e))})),c}))},t}(),Cm=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.Hi=n,this.Ji=r}return t.Yi=function(e,n){for(var r=af(),i=af(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Sm=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.Xi=function(t){return n.Zi(t)},this.tr=function(t){return e.er(t)})}return t.prototype.Zi=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.tr&&this.tr(t),t},t}();function Em(t,e){var n=t[1],r=e[1],i=bd(t[0],e[0]);return 0===i?bd(n,r):i}Sm.nr=-1;var Tm=function(){function t(t){this.sr=t,this.buffer=new Xd(Em),this.ir=0}return t.prototype.rr=function(){return++this.ir},t.prototype.ar=function(t){var e=[t,this.rr()];if(this.buffer.size<this.sr)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Em(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),xm={cr:!1,ur:0,hr:0,lr:0},km=function(){function t(t,e,n){this._r=t,this.dr=e,this.wr=n}return t.Tr=function(e){return new t(e,t.Er,t.Ir)},t}();km.Er=10,km.Ir=1e3,km.mr=new km(41943040,km.Er,km.Ir),km.Ar=new km(-1,0,0);var Im=function(){function t(t,e){this.Rr=t,this.rs=e,this.Pr=!1,this.gr=null}return t.prototype.start=function(t){-1!==this.Rr.params._r&&this.Vr(t)},t.prototype.stop=function(){this.gr&&(this.gr.cancel(),this.gr=null)},Object.defineProperty(t.prototype,"yr",{get:function(){return null!==this.gr},enumerable:!1,configurable:!0}),t.prototype.Vr=function(t){var e=this,n=this.Pr?3e5:6e4;ud("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.gr=this.rs.Pn("lru_garbage_collection",n,(function(){return Object(nu.b)(e,void 0,void 0,(function(){var e;return Object(nu.d)(this,(function(n){switch(n.label){case 0:this.gr=null,this.Pr=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.pr(this.Rr)];case 2:return n.sent(),[3,7];case 3:return zg(e=n.sent())?(ud("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,ny(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Vr(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),Nm=function(){function t(t,e){this.vr=t,this.params=e}return t.prototype.br=function(t,e){return this.vr.Sr(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.Dr=function(t,e){var n=this;if(0===e)return Ug.resolve(Sm.nr);var r=new Tm(e);return this.vr.De(t,(function(t){return r.ar(t.sequenceNumber)})).next((function(){return n.vr.Cr(t,(function(t){return r.ar(t)}))})).next((function(){return r.maxValue}))},t.prototype.Nr=function(t,e,n){return this.vr.Nr(t,e,n)},t.prototype.Fr=function(t,e){return this.vr.Fr(t,e)},t.prototype.Or=function(t,e){var n=this;return-1===this.params._r?(ud("LruGarbageCollector","Garbage collection skipped; disabled"),Ug.resolve(xm)):this.Mr(t).next((function(r){return r<n.params._r?(ud("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params._r),xm):n.kr(t,e)}))},t.prototype.Mr=function(t){return this.vr.Mr(t)},t.prototype.kr=function(t,e){var n,r,i,s,o,a,u,c=this,l=Date.now();return this.br(t,this.params.dr).next((function(e){return e>c.params.wr?(ud("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.wr+" from "+e),r=c.params.wr):r=e,s=Date.now(),c.Dr(t,r)})).next((function(r){return n=r,o=Date.now(),c.Nr(t,n,e)})).next((function(e){return i=e,a=Date.now(),c.Fr(t,n)})).next((function(t){return u=Date.now(),ad()<=iu.a.DEBUG&&ud("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-l)+"ms\n\tDetermined least recently used "+r+" in "+(o-s)+"ms\n\tRemoved "+i+" targets in "+(a-o)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),Ug.resolve({cr:!0,ur:r,hr:i,lr:t})}))},t}();function Pm(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=jm(e)),e=Am(t.get(n),e);return jm(e)}function Am(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function jm(t){return t+"\x01\x01"}function Rm(t){var e=t.length;if(fd(e>=2),2===e)return fd("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Id.$();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&dd(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:dd()}s=o+2}return new Id(r)}var Mm=function(t){this.$r=t};function Dm(t,e){if(e.document)return function(t,e,n){var r=Yf(t,e.name),i=Qf(e.updateTime),s=new Xp({mapValue:{fields:e.fields}});return new eg(r,i,s,{hasCommittedMutations:!!n})}(t.$r,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Ad.H(e.noDocument.path),r=qm(e.noDocument.readTime);return new ng(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Ad.H(e.unknownDocument.path),s=qm(e.unknownDocument.version);return new rg(i,s)}return dd()}function Lm(t,e,n){var r=Fm(n),i=e.key.path.S().O();if(e instanceof eg){var s=function(t,e){return{name:Zf(t,e.key),fields:e.sn().mapValue.fields,updateTime:$f(t,e.version.P())}}(t.$r,e);return new pb(null,null,s,e.hasCommittedMutations,r,i)}if(e instanceof ng){var o=e.key.path.O(),a=Um(e.version),u=e.hasCommittedMutations;return new pb(null,new db(o,a),null,u,r,i)}if(e instanceof rg){var c=e.key.path.O(),l=Um(e.version);return new pb(new fb(c,l),null,null,!0,r,i)}return dd()}function Fm(t){var e=t.P();return[e.seconds,e.nanoseconds]}function Vm(t){var e=new Td(t[0],t[1]);return xd.m(e)}function Um(t){var e=t.P();return new ab(e.seconds,e.nanoseconds)}function qm(t){var e=new Td(t.seconds,t.nanoseconds);return xd.m(e)}function Bm(t,e){var n=(e.baseMutations||[]).map((function(e){return op(t.$r,e)})),r=e.mutations.map((function(e){return op(t.$r,e)})),i=Td.fromMillis(e.localWriteTimeMs);return new gm(e.batchId,i,n,r)}function Hm(t){var e,n,r=qm(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?qm(t.lastLimboFreeSnapshotVersion):xd.min();return void 0!==t.query.documents?(fd(1===(n=t.query).documents.length),e=fg(og(ep(n.documents[0])))):e=function(t){return fg(cp(t))}(t.query),new zd(e,t.targetId,0,t.lastListenSequenceNumber,r,i,qd.fromBase64String(t.resumeToken))}function zm(t,e){var n,r=Um(e.et),i=Um(e.lastLimboFreeSnapshotVersion);n=Ud(e.target)?ap(t.$r,e.target):up(t.$r,e.target);var s=e.resumeToken.toBase64();return new mb(e.targetId,Fd(e.target),r,s,e.sequenceNumber,i,n)}function Gm(t){var e=cp({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?pg(e,e.limit,"L"):e}var $m=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.Fi=n,this.Lr=r,this.Br={}}return t.qr=function(e,n,r,i){return fd(""!==e.uid),new t(e.Js()?e.uid:"",n,r,i)},t.prototype.Ur=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Qm(t).ns({index:lb.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.Qr=function(t,e,n,r){var i=this,s=Jm(t),o=Qm(t);return o.add({}).next((function(a){fd("number"==typeof a);for(var u=new gm(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return sp(t.$r,e)})),i=n.mutations.map((function(e){return sp(t.$r,e)}));return new lb(e,n.batchId,n.li.toMillis(),r,i)}(i.serializer,i.userId,u),l=[],h=new Xd((function(t,e){return bd(t.M(),e.M())})),d=0,f=r;d<f.length;d++){var p=f[d],g=hb.key(i.userId,p.key.path,a);h=h.add(p.key.path.S()),l.push(o.put(c)),l.push(s.put(g,hb.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Fi.Kr(t,e))})),t.Di((function(){i.Br[a]=u.keys()})),Ug.xn(l).next((function(){return u}))}))},t.prototype.Wr=function(t,e){var n=this;return Qm(t).get(e).next((function(t){return t?(fd(t.userId===n.userId),Bm(n.serializer,t)):null}))},t.prototype.jr=function(t,e){var n=this;return this.Br[e]?Ug.resolve(this.Br[e]):this.Wr(t,e).next((function(t){if(t){var r=t.keys();return n.Br[e]=r,r}return null}))},t.prototype.Gr=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return Qm(t).ns({index:lb.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(fd(e.batchId>=r),s=Bm(n.serializer,e)),i.done()})).next((function(){return s}))},t.prototype.zr=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Qm(t).ns({index:lb.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.Hr=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Qm(t).Xn(lb.userMutationsIndex,n).next((function(t){return t.map((function(t){return Bm(e.serializer,t)}))}))},t.prototype.Mi=function(t,e){var n=this,r=hb.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return Jm(t).ns({range:i},(function(r,i,o){var a=r[0],u=r[2],c=Rm(r[1]);if(a===n.userId&&e.path.isEqual(c))return Qm(t).get(u).next((function(t){if(!t)throw dd();fd(t.userId===n.userId),s.push(Bm(n.serializer,t))}));o.done()})).next((function(){return s}))},t.prototype.qi=function(t,e){var n=this,r=new Xd(bd),i=[];return e.forEach((function(e){var s=hb.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=Jm(t).ns({range:o},(function(t,i,s){var o=t[0],a=t[2],u=Rm(t[1]);o===n.userId&&e.path.isEqual(u)?r=r.add(a):s.done()}));i.push(a)})),Ug.xn(i).next((function(){return n.Jr(t,r)}))},t.prototype.Gi=function(t,e){var n=this,r=e.path,i=r.length+1,s=hb.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new Xd(bd);return Jm(t).ns({range:o},(function(t,e,s){var o=t[0],u=t[2],c=Rm(t[1]);o===n.userId&&r.N(c)?c.length===i&&(a=a.add(u)):s.done()})).next((function(){return n.Jr(t,a)}))},t.prototype.Jr=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Qm(t).get(e).next((function(t){if(null===t)throw dd();fd(t.userId===n.userId),r.push(Bm(n.serializer,t))})))})),Ug.xn(i).next((function(){return r}))},t.prototype.Yr=function(t,e){var n=this;return Km(t.Xr,this.userId,e).next((function(r){return t.Di((function(){n.Zr(e.batchId)})),Ug.forEach(r,(function(e){return n.Lr.eo(t,e)}))}))},t.prototype.Zr=function(t){delete this.Br[t]},t.prototype.no=function(t){var e=this;return this.Ur(t).next((function(n){if(!n)return Ug.resolve();var r=IDBKeyRange.lowerBound(hb.prefixForUser(e.userId)),i=[];return Jm(t).ns({range:r},(function(t,n,r){if(t[0]===e.userId){var s=Rm(t[1]);i.push(s)}else r.done()})).next((function(){fd(0===i.length)}))}))},t.prototype.so=function(t,e){return Wm(t,this.userId,e)},t.prototype.io=function(t){var e=this;return Xm(t).get(this.userId).next((function(t){return t||new cb(e.userId,-1,"")}))},t}();function Wm(t,e,n){var r=hb.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return Jm(t).ns({range:s,es:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()})).next((function(){return o}))}function Km(t,e,n){var r=t.store(lb.store),i=t.store(hb.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,u=r.ns({range:o},(function(t,e,n){return a++,n.delete()}));s.push(u.next((function(){fd(1===a)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var d=h[l],f=hb.key(e,d.key.path,n.batchId);s.push(i.delete(f)),c.push(d.key)}return Ug.xn(s).next((function(){return c}))}function Qm(t){return Lb.qn(t,lb.store)}function Jm(t){return Lb.qn(t,hb.store)}function Xm(t){return Lb.qn(t,cb.store)}var Zm=function(){function t(t,e){this.serializer=t,this.Fi=e}return t.prototype.Ri=function(t,e,n){return eb(t).put(nb(e),n)},t.prototype.Vi=function(t,e){var n=eb(t),r=nb(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.ro(t,r)}))},t.prototype.yi=function(t,e){var n=this;return eb(t).get(nb(e)).next((function(t){return n.oo(t)}))},t.prototype.ao=function(t,e){var n=this;return eb(t).get(nb(e)).next((function(t){var e=n.oo(t);return e?{gi:e,size:rb(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=ef();return this.co(t,e,(function(t,e){var i=n.oo(e);r=r.rt(t,i)})).next((function(){return r}))},t.prototype.uo=function(t,e){var n=this,r=ef(),i=new Kd(Ad.V);return this.co(t,e,(function(t,e){var s=n.oo(e);s?(r=r.rt(t,s),i=i.rt(t,rb(e))):(r=r.rt(t,null),i=i.rt(t,0))})).next((function(){return{ho:r,lo:i}}))},t.prototype.co=function(t,e,n){if(e.T())return Ug.resolve();var r=IDBKeyRange.bound(e.first().path.O(),e.last().path.O()),i=e.lt(),s=i.Et();return eb(t).ns({range:r},(function(t,e,r){for(var o=Ad.H(t);s&&Ad.V(s,o)<0;)n(s,null),s=i.Et();s&&s.isEqual(o)&&(n(s,e),s=i.It()?i.Et():null),s?r.Jn(s.path.O()):r.done()})).next((function(){for(;s;)n(s,null),s=i.It()?i.Et():null}))},t.prototype.Ui=function(t,e,n){var r=this,i=rf(),s=e.path.length+1,o={};if(n.isEqual(xd.min())){var a=e.path.O();o.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.O(),c=Fm(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=pb.collectionReadTimeIndex}return eb(t).ns(o,(function(t,n,o){if(t.length===s){var a=Dm(r.serializer,n);e.path.N(a.key.path)?a instanceof eg&&_g(e,a)&&(i=i.rt(a.key,a)):o.done()}})).next((function(){return i}))},t.prototype._o=function(t){return new Ym(this,!!t&&t.fo)},t.prototype.wo=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return tb(t).get(gb.key).next((function(t){return fd(!!t),t}))},t.prototype.ro=function(t,e){return tb(t).put(gb.key,e)},t.prototype.oo=function(t){if(t){var e=Dm(this.serializer,t);return e instanceof ng&&e.version.isEqual(xd.min())?null:e}return null},t}(),Ym=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).To=e,r.fo=n,r.Eo=new Cd((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Object(nu.c)(e,t),e.prototype.bi=function(t){var e=this,n=[],r=0,i=new Xd((function(t,e){return bd(t.M(),e.M())}));return this.Ii.forEach((function(s,o){var a=e.Eo.get(s);if(o.gi){var u=Lm(e.To.serializer,o.gi,e.Ai(s));i=i.add(s.path.S());var c=rb(u);r+=c-a,n.push(e.To.Ri(t,s,u))}else if(r-=a,e.fo){var l=Lm(e.To.serializer,new ng(s,xd.min()),e.Ai(s));n.push(e.To.Ri(t,s,l))}else n.push(e.To.Vi(t,s))})),i.forEach((function(r){n.push(e.To.Fi.Kr(t,r))})),n.push(this.To.updateMetadata(t,r)),Ug.xn(n)},e.prototype.pi=function(t,e){var n=this;return this.To.ao(t,e).next((function(t){return null===t?(n.Eo.set(e,0),null):(n.Eo.set(e,t.size),t.gi)}))},e.prototype.vi=function(t,e){var n=this;return this.To.uo(t,e).next((function(t){var e=t.ho;return t.lo.forEach((function(t,e){n.Eo.set(t,e)})),e}))},e}(bm);function tb(t){return Lb.qn(t,gb.store)}function eb(t){return Lb.qn(t,pb.store)}function nb(t){return t.path.O()}function rb(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw dd();e=t.noDocument}return JSON.stringify(e).length}var ib=function(){function t(){this.Io=new sb}return t.prototype.Kr=function(t,e){return this.Io.add(e),Ug.resolve()},t.prototype.ji=function(t,e){return Ug.resolve(this.Io.getEntries(e))},t}(),sb=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.C(),n=t.S(),r=this.index[e]||new Xd(Id.V),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.C(),n=t.S(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Xd(Id.V)).O()},t}(),ob=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;fd(n<r&&n>=0&&r<=11);var s=new Gg("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(ub.store)}(t),function(t){t.createObjectStore(cb.store,{keyPath:cb.keyPath}),t.createObjectStore(lb.store,{keyPath:lb.keyPath,autoIncrement:!0}).createIndex(lb.userMutationsIndex,lb.userMutationsKeyPath,{unique:!0}),t.createObjectStore(hb.store)}(t),_b(t),function(t){t.createObjectStore(pb.store)}(t));var o=Ug.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(bb.store),t.deleteObjectStore(mb.store),t.deleteObjectStore(yb.store)}(t),_b(t)),o=o.next((function(){return function(t){var e=t.store(yb.store),n=new yb(0,0,xd.min().P(),0);return e.put(yb.key,n)}(s)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(t,e){return e.store(lb.store).Xn().next((function(n){t.deleteObjectStore(lb.store),t.createObjectStore(lb.store,{keyPath:lb.keyPath,autoIncrement:!0}).createIndex(lb.userMutationsIndex,lb.userMutationsKeyPath,{unique:!0});var r=e.store(lb.store),i=n.map((function(t){return r.put(t)}));return Ug.xn(i)}))}(t,s)}))),o=o.next((function(){!function(t){t.createObjectStore(wb.store,{keyPath:wb.keyPath})}(t)}))),n<5&&r>=5&&(o=o.next((function(){return i.removeAcknowledgedMutations(s)}))),n<6&&r>=6&&(o=o.next((function(){return function(t){t.createObjectStore(gb.store)}(t),i.addDocumentGlobal(s)}))),n<7&&r>=7&&(o=o.next((function(){return i.ensureSequenceNumbers(s)}))),n<8&&r>=8&&(o=o.next((function(){return i.createCollectionParentIndex(t,s)}))),n<9&&r>=9&&(o=o.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(pb.store);e.createIndex(pb.readTimeIndex,pb.readTimeIndexPath,{unique:!1}),e.createIndex(pb.collectionReadTimeIndex,pb.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.rewriteCanonicalIds(s)}))),n<11&&r>=11&&(o=o.next((function(){!function(t){t.createObjectStore(Ob.store,{keyPath:Ob.keyPath})}(t),function(t){t.createObjectStore(Cb.store,{keyPath:Cb.keyPath})}(t)}))),o},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(pb.store).ns((function(t,n){e+=rb(n)})).next((function(){var n=new gb(e);return t.store(gb.store).put(gb.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(cb.store),r=t.store(lb.store);return n.Xn().next((function(n){return Ug.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Xn(lb.userMutationsIndex,i).next((function(r){return Ug.forEach(r,(function(r){fd(r.userId===n.userId);var i=Bm(e.serializer,r);return Km(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(bb.store),n=t.store(pb.store);return t.store(yb.store).get(yb.key).next((function(t){var r=[];return n.ns((function(n,i){var s=new Id(n),o=function(t){return[0,Pm(t)]}(s);r.push(e.get(o).next((function(n){return n?Ug.resolve():function(n){return e.put(new bb(0,Pm(n),t.highestListenSequenceNumber))}(s)})))})).next((function(){return Ug.xn(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(vb.store,{keyPath:vb.keyPath});var n=e.store(vb.store),r=new sb,i=function(t){if(r.add(t)){var e=t.C(),i=t.S();return n.put({collectionId:e,parent:Pm(i)})}};return e.store(pb.store).ns({es:!0},(function(t,e){var n=new Id(t);return i(n.S())})).next((function(){return e.store(hb.store).ns({es:!0},(function(t,e){var n=Rm(t[1]);return i(n.S())}))}))},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(mb.store);return n.ns((function(t,r){var i=Hm(r),s=zm(e.serializer,i);return n.put(s)}))},t}(),ab=function(t,e){this.seconds=t,this.nanoseconds=e},ub=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};ub.store="owner",ub.key="owner";var cb=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};cb.store="mutationQueues",cb.keyPath="userId";var lb=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};lb.store="mutations",lb.keyPath="batchId",lb.userMutationsIndex="userMutationsIndex",lb.userMutationsKeyPath=["userId","batchId"];var hb=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Pm(e)]},t.key=function(t,e,n){return[t,Pm(e),n]},t}();hb.store="documentMutations",hb.PLACEHOLDER=new hb;var db=function(t,e){this.path=t,this.readTime=e},fb=function(t,e){this.path=t,this.version=e},pb=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};pb.store="remoteDocuments",pb.readTimeIndex="readTimeIndex",pb.readTimeIndexPath="readTime",pb.collectionReadTimeIndex="collectionReadTimeIndex",pb.collectionReadTimeIndexPath=["parentPath","readTime"];var gb=function(t){this.byteSize=t};gb.store="remoteDocumentGlobal",gb.key="remoteDocumentGlobalKey";var mb=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};mb.store="targets",mb.keyPath="targetId",mb.queryTargetsIndexName="queryTargetsIndex",mb.queryTargetsKeyPath=["canonicalId","targetId"];var bb=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};bb.store="targetDocuments",bb.keyPath=["targetId","path"],bb.documentTargetsIndex="documentTargetsIndex",bb.documentTargetsKeyPath=["path","targetId"];var yb=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};yb.key="targetGlobalKey",yb.store="targetGlobal";var vb=function(t,e){this.collectionId=t,this.parent=e};function _b(t){t.createObjectStore(bb.store,{keyPath:bb.keyPath}).createIndex(bb.documentTargetsIndex,bb.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(mb.store,{keyPath:mb.keyPath}).createIndex(mb.queryTargetsIndexName,mb.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(yb.store)}vb.store="collectionParents",vb.keyPath=["collectionId","parent"];var wb=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};wb.store="clientMetadata",wb.keyPath="clientId";var Ob=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Ob.store="bundles",Ob.keyPath="bundleId";var Cb=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Cb.store="namedQueries",Cb.keyPath="name";var Sb=Object(nu.g)(Object(nu.g)(Object(nu.g)(Object(nu.g)([cb.store,lb.store,hb.store,pb.store,mb.store,ub.store,yb.store,bb.store],[wb.store]),[gb.store]),[vb.store]),[Ob.store,Cb.store]),Eb=function(){function t(t){this.serializer=t}return t.prototype.mo=function(t,e){return Tb(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:qm(e.createTime),version:e.version};var e}))},t.prototype.Ao=function(t,e){return Tb(t).put({bundleId:(n=e).id,createTime:Um(Qf(n.createTime)),version:n.version});var n},t.prototype.Ro=function(t,e){return xb(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:Gm(e.bundledQuery),readTime:qm(e.readTime)};var e}))},t.prototype.Po=function(t,e){return xb(t).put(function(t){return{name:t.name,readTime:Um(Qf(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Tb(t){return Lb.qn(t,Ob.store)}function xb(t){return Lb.qn(t,Cb.store)}var kb=function(){function t(){this.Vo=new sb}return t.prototype.Kr=function(t,e){var n=this;if(!this.Vo.has(e)){var r=e.C(),i=e.S();t.Di((function(){n.Vo.add(e)}));var s={collectionId:r,parent:Pm(i)};return Ib(t).put(s)}return Ug.resolve()},t.prototype.ji=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[vd(e),""],!1,!0);return Ib(t).Xn(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(Rm(s.parent))}return n}))},t}();function Ib(t){return Lb.qn(t,vb.store)}var Nb=function(){function t(t){this.yo=t}return t.prototype.next=function(){return this.yo+=2,this.yo},t.po=function(){return new t(0)},t.vo=function(){return new t(-1)},t}(),Pb=function(){function t(t,e){this.Lr=t,this.serializer=e}return t.prototype.bo=function(t){var e=this;return this.So(t).next((function(n){var r=new Nb(n.highestTargetId);return n.highestTargetId=r.next(),e.Do(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Co=function(t){return this.So(t).next((function(t){return xd.m(new Td(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.No=function(t){return this.So(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.xo=function(t,e,n){var r=this;return this.So(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.P()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Do(t,i)}))},t.prototype.Fo=function(t,e){var n=this;return this.Oo(t,e).next((function(){return n.So(t).next((function(r){return r.targetCount+=1,n.Mo(e,r),n.Do(t,r)}))}))},t.prototype.ko=function(t,e){return this.Oo(t,e)},t.prototype.$o=function(t,e){var n=this;return this.Lo(t,e.targetId).next((function(){return Ab(t).delete(e.targetId)})).next((function(){return n.So(t)})).next((function(e){return fd(e.targetCount>0),e.targetCount-=1,n.Do(t,e)}))},t.prototype.Nr=function(t,e,n){var r=this,i=0,s=[];return Ab(t).ns((function(o,a){var u=Hm(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,s.push(r.$o(t,u)))})).next((function(){return Ug.xn(s)})).next((function(){return i}))},t.prototype.De=function(t,e){return Ab(t).ns((function(t,n){var r=Hm(n);e(r)}))},t.prototype.So=function(t){return jb(t).get(yb.key).next((function(t){return fd(null!==t),t}))},t.prototype.Do=function(t,e){return jb(t).put(yb.key,e)},t.prototype.Oo=function(t,e){return Ab(t).put(zm(this.serializer,e))},t.prototype.Mo=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.Bo=function(t){return this.So(t).next((function(t){return t.targetCount}))},t.prototype.qo=function(t,e){var n=Fd(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Ab(t).ns({range:r,index:mb.queryTargetsIndexName},(function(t,n,r){var s=Hm(n);Vd(e,s.target)&&(i=s,r.done())})).next((function(){return i}))},t.prototype.Uo=function(t,e,n){var r=this,i=[],s=Rb(t);return e.forEach((function(e){var o=Pm(e.path);i.push(s.put(new bb(n,o))),i.push(r.Lr.Qo(t,n,e))})),Ug.xn(i)},t.prototype.Ko=function(t,e,n){var r=this,i=Rb(t);return Ug.forEach(e,(function(e){var s=Pm(e.path);return Ug.xn([i.delete([n,s]),r.Lr.Wo(t,n,e)])}))},t.prototype.Lo=function(t,e){var n=Rb(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.jo=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Rb(t),i=af();return r.ns({range:n,es:!0},(function(t,e,n){var r=Rm(t[1]),s=new Ad(r);i=i.add(s)})).next((function(){return i}))},t.prototype.so=function(t,e){var n=Pm(e.path),r=IDBKeyRange.bound([n],[vd(n)],!1,!0),i=0;return Rb(t).ns({index:bb.documentTargetsIndex,es:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.qe=function(t,e){return Ab(t).get(e).next((function(t){return t?Hm(t):null}))},t}();function Ab(t){return Lb.qn(t,mb.store)}function jb(t){return Lb.qn(t,yb.store)}function Rb(t){return Lb.qn(t,bb.store)}var Mb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Db=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Xr=e,r.Go=n,r}return Object(nu.c)(e,t),e}(wm),Lb=function(){function t(e,n,r,i,s,o,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.ln=s,this.window=o,this.document=a,this.zo=c,this.Ho=l,this.Jo=null,this.Yo=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Xo=null,this.inForeground=!1,this.Zo=null,this.ta=null,this.ea=Number.NEGATIVE_INFINITY,this.na=function(t){return Promise.resolve()},!t.kn())throw new Ed(Sd.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Lr=new Ub(this,i),this.sa=n+"main",this.serializer=new Mm(u),this.ia=new qg(this.sa,11,new ob(this.serializer)),this.ra=new Pb(this.Lr,this.serializer),this.Fi=new kb,this.Ni=function(t,e){return new Zm(t,e)}(this.serializer,this.Fi),this.oa=new Eb(this.serializer),this.window&&this.window.localStorage?this.aa=this.window.localStorage:(this.aa=null,!1===l&&cd("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.qn=function(t,e){if(t instanceof Db)return qg.qn(t.Xr,e);throw dd()},t.prototype.start=function(){var t=this;return this.ca().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Ed(Sd.FAILED_PRECONDITION,Mb);return t.ua(),t.ha(),t.la(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.ra.No(e)}))})).then((function(e){t.Jo=new Sm(e,t.zo)})).then((function(){t.Yo=!0})).catch((function(e){return t.ia&&t.ia.close(),Promise.reject(e)}))},t.prototype._a=function(t){var e=this;return this.na=function(n){return Object(nu.b)(e,void 0,void 0,(function(){return Object(nu.d)(this,(function(e){return this.yr?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.fa=function(t){var e=this;this.ia.Kn((function(n){return Object(nu.b)(e,void 0,void 0,(function(){return Object(nu.d)(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.da=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.ln.fs((function(){return Object(nu.b)(e,void 0,void 0,(function(){return Object(nu.d)(this,(function(t){switch(t.label){case 0:return this.yr?[4,this.ca()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.ca=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return Vb(e).put(new wb(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.wa(e).next((function(e){e||(t.isPrimary=!1,t.ln.Ss((function(){return t.na(!1)})))}))})).next((function(){return t.Ta(e)})).next((function(n){return t.isPrimary&&!n?t.Ea(e).next((function(){return!1})):!!n&&t.Ia(e).next((function(){return!0}))}))})).catch((function(e){if(zg(e))return ud("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return ud("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.ln.Ss((function(){return t.na(e)})),t.isPrimary=e}))},t.prototype.wa=function(t){var e=this;return Fb(t).get(ub.key).next((function(t){return Ug.resolve(e.ma(t))}))},t.prototype.Aa=function(t){return Vb(t).delete(this.clientId)},t.prototype.Ra=function(){return Object(nu.b)(this,void 0,void 0,(function(){var e,n,r,i=this;return Object(nu.d)(this,(function(s){switch(s.label){case 0:return!this.isPrimary||this.Pa(this.ea,18e5)?[3,2]:(this.ea=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var n=t.qn(e,wb.store);return n.Xn().next((function(t){var e=i.ga(t,18e5),r=t.filter((function(t){return-1===e.indexOf(t)}));return Ug.forEach(r,(function(t){return n.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=s.sent(),this.aa)for(n=0,r=e;n<r.length;n++)this.aa.removeItem(this.Va(r[n].clientId));s.label=2;case 2:return[2]}}))}))},t.prototype.la=function(){var t=this;this.ta=this.ln.Pn("client_metadata_refresh",4e3,(function(){return t.ca().then((function(){return t.Ra()})).then((function(){return t.la()}))}))},t.prototype.ma=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ta=function(t){var e=this;return this.Ho?Ug.resolve(!0):Fb(t).get(ub.key).next((function(n){if(null!==n&&e.Pa(n.leaseTimestampMs,5e3)&&!e.ya(n.ownerId)){if(e.ma(n)&&e.networkEnabled)return!0;if(!e.ma(n)){if(!n.allowTabSynchronization)throw new Ed(Sd.FAILED_PRECONDITION,Mb);return!1}}return!(!e.networkEnabled||!e.inForeground)||Vb(t).Xn().next((function(t){return void 0===e.ga(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&ud("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.pa=function(){return Object(nu.b)(this,void 0,void 0,(function(){var t=this;return Object(nu.d)(this,(function(e){switch(e.label){case 0:return this.Yo=!1,this.va(),this.ta&&(this.ta.cancel(),this.ta=null),this.ba(),this.Sa(),[4,this.ia.runTransaction("shutdown","readwrite",[ub.store,wb.store],(function(e){var n=new Db(e,Sm.nr);return t.Ea(n).next((function(){return t.Aa(n)}))}))];case 1:return e.sent(),this.ia.close(),this.Da(),[2]}}))}))},t.prototype.ga=function(t,e){var n=this;return t.filter((function(t){return n.Pa(t.updateTimeMs,e)&&!n.ya(t.clientId)}))},t.prototype.Ca=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return Vb(e).Xn().next((function(e){return t.ga(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"yr",{get:function(){return this.Yo},enumerable:!1,configurable:!0}),t.prototype.Na=function(t){return $m.qr(t,this.serializer,this.Fi,this.Lr)},t.prototype.xa=function(){return this.ra},t.prototype.Fa=function(){return this.Ni},t.prototype.Oa=function(){return this.Fi},t.prototype.Ma=function(){return this.oa},t.prototype.runTransaction=function(t,e,n){var r,i=this;return ud("IndexedDbPersistence","Starting transaction:",t),this.ia.runTransaction(t,"readonly"===e?"readonly":"readwrite",Sb,(function(s){return r=new Db(s,i.Jo?i.Jo.next():Sm.nr),"readwrite-primary"===e?i.wa(r).next((function(t){return!!t||i.Ta(r)})).next((function(e){if(!e)throw cd("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.ln.Ss((function(){return i.na(!1)})),new Ed(Sd.FAILED_PRECONDITION,_m);return n(r)})).next((function(t){return i.Ia(r).next((function(){return t}))})):i.ka(r).next((function(){return n(r)}))})).then((function(t){return r.Ci(),t}))},t.prototype.ka=function(t){var e=this;return Fb(t).get(ub.key).next((function(t){if(null!==t&&e.Pa(t.leaseTimestampMs,5e3)&&!e.ya(t.ownerId)&&!e.ma(t)&&!(e.Ho||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Ed(Sd.FAILED_PRECONDITION,Mb)}))},t.prototype.Ia=function(t){var e=new ub(this.clientId,this.allowTabSynchronization,Date.now());return Fb(t).put(ub.key,e)},t.kn=function(){return qg.kn()},t.prototype.Ea=function(t){var e=this,n=Fb(t);return n.get(ub.key).next((function(t){return e.ma(t)?(ud("IndexedDbPersistence","Releasing primary lease."),n.delete(ub.key)):Ug.resolve()}))},t.prototype.Pa=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(cd("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.ua=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Zo=function(){t.ln.fs((function(){return t.inForeground="visible"===t.document.visibilityState,t.ca()}))},this.document.addEventListener("visibilitychange",this.Zo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.ba=function(){this.Zo&&(this.document.removeEventListener("visibilitychange",this.Zo),this.Zo=null)},t.prototype.ha=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Xo=function(){e.va(),e.ln.fs((function(){return e.pa()}))},this.window.addEventListener("unload",this.Xo))},t.prototype.Sa=function(){this.Xo&&(this.window.removeEventListener("unload",this.Xo),this.Xo=null)},t.prototype.ya=function(t){var e;try{var n=null!==(null===(e=this.aa)||void 0===e?void 0:e.getItem(this.Va(t)));return ud("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return cd("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.va=function(){if(this.aa)try{this.aa.setItem(this.Va(this.clientId),String(Date.now()))}catch(t){cd("Failed to set zombie client id.",t)}},t.prototype.Da=function(){if(this.aa)try{this.aa.removeItem(this.Va(this.clientId))}catch(t){}},t.prototype.Va=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Fb(t){return Lb.qn(t,ub.store)}function Vb(t){return Lb.qn(t,wb.store)}var Ub=function(){function t(t,e){this.db=t,this.Rr=new Nm(this,e)}return t.prototype.Sr=function(t){var e=this.$a(t);return this.db.xa().Bo(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.$a=function(t){var e=0;return this.Cr(t,(function(t){e++})).next((function(){return e}))},t.prototype.De=function(t,e){return this.db.xa().De(t,e)},t.prototype.Cr=function(t,e){return this.La(t,(function(t,n){return e(n)}))},t.prototype.Qo=function(t,e,n){return qb(t,n)},t.prototype.Wo=function(t,e,n){return qb(t,n)},t.prototype.Nr=function(t,e,n){return this.db.xa().Nr(t,e,n)},t.prototype.eo=function(t,e){return qb(t,e)},t.prototype.Ba=function(t,e){return function(t,e){var n=!1;return Xm(t).ss((function(r){return Wm(t,r,e).next((function(t){return t&&(n=!0),Ug.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.Fr=function(t,e){var n=this,r=this.db.Fa()._o(),i=[],s=0;return this.La(t,(function(o,a){if(a<=e){var u=n.Ba(t,o).next((function(e){if(!e)return s++,r.yi(t,o).next((function(){return r.Vi(o),Rb(t).delete([0,Pm(o.path)])}))}));i.push(u)}})).next((function(){return Ug.xn(i)})).next((function(){return r.apply(t)})).next((function(){return s}))},t.prototype.removeTarget=function(t,e){var n=e.nt(t.Go);return this.db.xa().ko(t,n)},t.prototype.qa=function(t,e){return qb(t,e)},t.prototype.La=function(t,e){var n,r=Rb(t),i=Sm.nr;return r.ns({index:bb.documentTargetsIndex},(function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==Sm.nr&&e(new Ad(Rm(n)),i),i=o,n=s):i=Sm.nr})).next((function(){i!==Sm.nr&&e(new Ad(Rm(n)),i)}))},t.prototype.Mr=function(t){return this.db.Fa().wo(t)},t}();function qb(t,e){return Rb(t).put(function(t,e){return new bb(0,Pm(t.path),e)}(e,t.Go))}function Bb(t,e){var n=t.projectId;return t.o||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Hb=function(){function t(t,e,n,r){this.persistence=t,this.Ua=e,this.serializer=r,this.Qa=new Kd(bd),this.Ka=new Cd((function(t){return Fd(t)}),Vd),this.Wa=xd.min(),this.xi=t.Na(n),this.ja=t.Fa(),this.ra=t.xa(),this.Ga=new Om(this.ja,this.xi,this.persistence.Oa()),this.oa=t.Ma(),this.Ua.za(this.Ga)}return t.prototype.pr=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.Or(n,e.Qa)}))},t}();function zb(t,e,n,r){return new Hb(t,e,n,r)}function Gb(t,e){return Object(nu.b)(this,void 0,void 0,(function(){var n,r,i,s;return Object(nu.d)(this,(function(o){switch(o.label){case 0:return n=pd(t),r=n.xi,i=n.Ga,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var s;return n.xi.Hr(t).next((function(o){return s=o,r=n.persistence.Na(e),i=new Om(n.ja,r,n.persistence.Oa()),r.Hr(t)})).next((function(e){for(var n=[],r=[],o=af(),a=0,u=s;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)o=o.add(h[l].key)}for(var d=0,f=e;d<f.length;d++){var p=f[d];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)o=o.add(m[g].key)}return i.Li(t,o).next((function(t){return{Ha:t,Ja:n,Ya:r}}))}))}))];case 1:return s=o.sent(),[2,(n.xi=r,n.Ga=i,n.Ua.za(n.Ga),s)]}}))}))}function $b(t,e){var n=pd(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.ja._o({fo:!0});return function(t,e,n,r){var i=n.batch,s=i.keys(),o=Ug.resolve();return s.forEach((function(t){o=o.next((function(){return r.yi(e,t)})).next((function(e){var s=e,o=n.Ei.get(t);fd(null!==o),(!s||s.version.A(o)<0)&&(s=i._i(t,s,n))&&r.Ri(s,n.Ti)}))})),o.next((function(){return t.xi.Yr(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.xi.no(t)})).next((function(){return n.Ga.Li(t,r)}))}))}function Wb(t){var e=pd(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.ra.Co(t)}))}function Kb(t,e){var n=pd(t),r=e.et,i=n.Qa;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var s=n.ja._o({fo:!0});i=n.Qa;var o=[];e.Gt.forEach((function(e,s){var a=i.get(s);if(a){o.push(n.ra.Ko(t,e.ne,s).next((function(){return n.ra.Uo(t,e.te,s)})));var u=e.resumeToken;if(u.X()>0){var c=a.st(u,r).nt(t.Go);i=i.rt(s,c),function(t,e,n){return fd(e.resumeToken.X()>0),0===t.resumeToken.X()||e.et.R()-t.et.R()>=3e8||n.te.size+n.ee.size+n.ne.size>0}(a,c,e)&&o.push(n.ra.ko(t,c))}}}));var a=tf();if(e.Ht.forEach((function(r,i){e.Jt.has(r)&&o.push(n.persistence.Lr.qa(t,r))})),o.push(function(t,e,n,r,i){var s=af();return n.forEach((function(t){return s=s.add(t)})),e.getEntries(t,s).next((function(t){var i=tf();return n.forEach((function(n,s){var o=t.get(n),a=r;s instanceof ng&&s.version.isEqual(xd.min())?(e.Vi(n,a),i=i.rt(n,s)):null==o||s.version.A(o.version)>0||0===s.version.A(o.version)&&o.hasPendingWrites?(e.Ri(s,a),i=i.rt(n,s)):ud("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),i}))}(t,s,e.Ht,r).next((function(t){a=t}))),!r.isEqual(xd.min())){var u=n.ra.Co(t).next((function(e){return n.ra.xo(t,t.Go,r)}));o.push(u)}return Ug.xn(o).next((function(){return s.apply(t)})).next((function(){return n.Ga.Bi(t,a)}))})).then((function(t){return n.Qa=i,t}))}function Qb(t,e){var n=pd(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.xi.Gr(t,e)}))}function Jb(t,e){var n=pd(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.ra.qo(t,e).next((function(i){return i?Ug.resolve(r=i):n.ra.bo(t).next((function(i){return r=new zd(e,i,0,t.Go),n.ra.Fo(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Qa.get(t.targetId);return(null===r||t.et.A(r.et)>0)&&(n.Qa=n.Qa.rt(t.targetId,t),n.Ka.set(e,t.targetId)),t}))}function Xb(t,e,n){return Object(nu.b)(this,void 0,void 0,(function(){var r,i,s,o;return Object(nu.d)(this,(function(a){switch(a.label){case 0:r=pd(t),i=r.Qa.get(e),s=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,(function(t){return r.persistence.Lr.removeTarget(t,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!zg(o=a.sent()))throw o;return ud("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.Qa=r.Qa.remove(e),r.Ka.delete(i.target),[2]}}))}))}function Zb(t,e,n){var r=pd(t),i=xd.min(),s=af();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=pd(t),i=r.Ka.get(n);return void 0!==i?Ug.resolve(r.Qa.get(i)):r.ra.qo(e,n)}(r,t,fg(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.ra.jo(t,e.targetId).next((function(t){s=t}))})).next((function(){return r.Ua.Ui(t,e,n?i:xd.min(),n?s:af())})).next((function(t){return{documents:t,Xa:s}}))}))}function Yb(t,e){var n=pd(t),r=pd(n.ra),i=n.Qa.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.qe(t,e).next((function(t){return t?t.target:null}))}))}function ty(t){var e=pd(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=pd(t),i=tf(),s=Fm(n),o=eb(e),a=IDBKeyRange.lowerBound(s,!0);return o.ns({index:pb.readTimeIndex,range:a},(function(t,e){var n=Dm(r.serializer,e);i=i.rt(n.key,n),s=e.readTime})).next((function(){return{Za:i,readTime:Vm(s)}}))}(e.ja,t,e.Wa)})).then((function(t){var n=t.Za;return e.Wa=t.readTime,n}))}function ey(t){return Object(nu.b)(this,void 0,void 0,(function(){var e;return Object(nu.d)(this,(function(n){return[2,(e=pd(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=eb(t),n=xd.min();return e.ns({index:pb.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=Vm(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.Wa=t}))]}))}))}function ny(t){return Object(nu.b)(this,void 0,void 0,(function(){return Object(nu.d)(this,(function(e){if(t.code!==Sd.FAILED_PRECONDITION||t.message!==_m)throw t;return ud("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}var ry=function(){function t(t,e,n,r,i,s){this.ln=t,this.tc=n,this.ec=r,this.nc=i,this.listener=s,this.state=0,this.sc=0,this.ic=null,this.stream=null,this.Ps=new Vg(t,e)}return t.prototype.rc=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.oc=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.ac()},t.prototype.stop=function(){return Object(nu.b)(this,void 0,void 0,(function(){return Object(nu.d)(this,(function(t){switch(t.label){case 0:return this.rc()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.cc=function(){this.state=0,this.Ps.reset()},t.prototype.uc=function(){var t=this;this.oc()&&null===this.ic&&(this.ic=this.ln.Pn(this.tc,6e4,(function(){return t.hc()})))},t.prototype.lc=function(t){this._c(),this.stream.send(t)},t.prototype.hc=function(){return Object(nu.b)(this,void 0,void 0,(function(){return Object(nu.d)(this,(function(t){return this.oc()?[2,this.close(0)]:[2]}))}))},t.prototype._c=function(){this.ic&&(this.ic.cancel(),this.ic=null)},t.prototype.close=function(t,e){return Object(nu.b)(this,void 0,void 0,(function(){return Object(nu.d)(this,(function(n){switch(n.label){case 0:return this._c(),this.Ps.cancel(),this.sc++,3!==t?this.Ps.reset():e&&e.code===Sd.RESOURCE_EXHAUSTED?(cd(e.toString()),cd("Using maximum backoff delay to prevent overloading the backend."),this.Ps.mn()):e&&e.code===Sd.UNAUTHENTICATED&&this.nc.ni(),null!==this.stream&&(this.fc(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.dc(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.fc=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.wc(this.sc),n=this.sc;this.nc.getToken().then((function(e){t.sc===n&&t.Tc(e)}),(function(n){e((function(){var e=new Ed(Sd.UNKNOWN,"Fetching auth token failed: "+n.message);return t.Ec(e)}))}))},t.prototype.Tc=function(t){var e=this,n=this.wc(this.sc);this.stream=this.Ic(t),this.stream.mc((function(){n((function(){return e.state=2,e.listener.mc()}))})),this.stream.dc((function(t){n((function(){return e.Ec(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.ac=function(){var t=this;this.state=4,this.Ps.An((function(){return Object(nu.b)(t,void 0,void 0,(function(){return Object(nu.d)(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.Ec=function(t){return ud("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.wc=function(t){var e=this;return function(n){e.ln.fs((function(){return e.sc===t?n():(ud("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),iy=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).serializer=i,o}return Object(nu.c)(e,t),e.prototype.Ic=function(t){return this.ec.Ac("Listen",t)},e.prototype.onMessage=function(t){this.Ps.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:dd()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.Ue?(fd(void 0===e||"string"==typeof e),qd.fromBase64String(e||"")):(fd(void 0===e||e instanceof Uint8Array),qd.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(t){var e=void 0===t.code?Sd.UNKNOWN:Wd(t.code);return new Ed(e,t.message||"")}(o);n=new bf(r,i,s,a||null)}else if("documentChange"in e){var u=e.documentChange,c=Yf(t,u.document.name),l=Qf(u.document.updateTime),h=new Xp({mapValue:{fields:u.document.fields}}),d=new eg(c,l,h,{});n=new gf(u.targetIds||[],u.removedTargetIds||[],d.key,d)}else if("documentDelete"in e){var f=e.documentDelete,p=Yf(t,f.document),g=f.readTime?Qf(f.readTime):xd.min(),m=new ng(p,g);n=new gf([],f.removedTargetIds||[],m.key,m)}else if("documentRemove"in e){var b=e.documentRemove,y=Yf(t,b.document);n=new gf([],b.removedTargetIds||[],y,null)}else{if(!("filter"in e))return dd();var v=e.filter,_=new Gd(v.count||0);n=new mf(v.targetId,_)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return xd.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?xd.min():e.readTime?Qf(e.readTime):xd.min()}(t);return this.listener.Rc(e,n)},e.prototype.Pc=function(t){var e={};e.database=np(this.serializer),e.addTarget=function(t,e){var n,r=e.target;return(n=Ud(r)?{documents:ap(t,r)}:{query:up(t,r)}).targetId=e.targetId,e.resumeToken.X()>0?n.resumeToken=Wf(t,e.resumeToken):e.et.A(xd.min())>0&&(n.readTime=$f(t,e.et.P())),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return dd()}}(0,e.tt);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.lc(e)},e.prototype.gc=function(t){var e={};e.database=np(this.serializer),e.removeTarget=t,this.lc(e)},e}(ry),sy=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).serializer=i,o.Vc=!1,o}return Object(nu.c)(e,t),Object.defineProperty(e.prototype,"yc",{get:function(){return this.Vc},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.Vc=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.fc=function(){this.Vc&&this.vc([])},e.prototype.Ic=function(t){return this.ec.Ac("Write",t)},e.prototype.onMessage=function(t){if(fd(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Vc){this.Ps.reset();var e=function(t,e){return t&&t.length>0?(fd(void 0!==e),t.map((function(t){return function(t,e){var n=Qf(t.updateTime?t.updateTime:e);n.isEqual(xd.min())&&(n=Qf(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Rp(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=Qf(t.commitTime);return this.listener.bc(n,e)}return fd(!t.writeResults||0===t.writeResults.length),this.Vc=!0,this.listener.Sc()},e.prototype.Dc=function(){var t={};t.database=np(this.serializer),this.lc(t)},e.prototype.vc=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return sp(e.serializer,t)}))};this.lc(n)},e}(ry),oy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.ec=n,i.serializer=r,i.Cc=!1,i}return Object(nu.c)(e,t),e.prototype.Nc=function(){if(this.Cc)throw new Ed(Sd.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.xc=function(t,e,n){var r=this;return this.Nc(),this.credentials.getToken().then((function(i){return r.ec.xc(t,e,n,i)})).catch((function(t){throw t.code===Sd.UNAUTHENTICATED&&r.credentials.ni(),t}))},e.prototype.Fc=function(t,e,n){var r=this;return this.Nc(),this.credentials.getToken().then((function(i){return r.ec.Fc(t,e,n,i)})).catch((function(t){throw t.code===Sd.UNAUTHENTICATED&&r.credentials.ni(),t}))},e.prototype.terminate=function(){this.Cc=!1},e}((function(){})),ay=function(){function t(t,e){this.rs=t,this.Oc=e,this.state="Unknown",this.Mc=0,this.kc=null,this.$c=!0}return t.prototype.Lc=function(){var t=this;0===this.Mc&&(this.Bc("Unknown"),this.kc=this.rs.Pn("online_state_timeout",1e4,(function(){return t.kc=null,t.qc("Backend didn't respond within 10 seconds."),t.Bc("Offline"),Promise.resolve()})))},t.prototype.Uc=function(t){"Online"===this.state?this.Bc("Unknown"):(this.Mc++,this.Mc>=1&&(this.Qc(),this.qc("Connection failed 1 times. Most recent error: "+t.toString()),this.Bc("Offline")))},t.prototype.set=function(t){this.Qc(),this.Mc=0,"Online"===t&&(this.$c=!1),this.Bc(t)},t.prototype.Bc=function(t){t!==this.state&&(this.state=t,this.Oc(t))},t.prototype.qc=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.$c?(cd(e),this.$c=!1):ud("OnlineStateTracker",e)},t.prototype.Qc=function(){null!==this.kc&&(this.kc.cancel(),this.kc=null)},t}(),uy=function(t,e,n,r,i){var s=this;this.Kc=t,this.Wc=e,this.rs=n,this.jc={},this.Gc=[],this.zc=new Map,this.Hc=new Set,this.Jc=[],this.Yc=i,this.Yc.Xc((function(t){n.fs((function(){return Object(nu.b)(s,void 0,void 0,(function(){return Object(nu.d)(this,(function(t){switch(t.label){case 0:return by(this)?(ud("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(nu.b)(this,void 0,void 0,(function(){var e;return Object(nu.d)(this,(function(n){switch(n.label){case 0:return(e=pd(t)).Hc.add(4),[4,ly(e)];case 1:return n.sent(),e.Zc.set("Unknown"),e.Hc.delete(4),[4,cy(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Zc=new ay(n,r)};function cy(t){return Object(nu.b)(this,void 0,void 0,(function(){var e,n;return Object(nu.d)(this,(function(r){switch(r.label){case 0:if(!by(t))return[3,4];e=0,n=t.Jc,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function ly(t){return Object(nu.b)(this,void 0,void 0,(function(){var e,n;return Object(nu.d)(this,(function(r){switch(r.label){case 0:e=0,n=t.Jc,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function hy(t,e){var n=pd(t);n.zc.has(e.targetId)||(n.zc.set(e.targetId,e),my(n)?gy(n):Ay(n).oc()&&fy(n,e))}function dy(t,e){var n=pd(t),r=Ay(n);n.zc.delete(e),r.oc()&&py(n,e),0===n.zc.size&&(r.oc()?r.uc():by(n)&&n.Zc.set("Unknown"))}function fy(t,e){t.tu.Ie(e.targetId),Ay(t).Pc(e)}function py(t,e){t.tu.Ie(e),Ay(t).gc(e)}function gy(t){t.tu=new vf({Be:function(e){return t.jc.Be(e)},qe:function(e){return t.zc.get(e)||null}}),Ay(t).start(),t.Zc.Lc()}function my(t){return by(t)&&!Ay(t).rc()&&t.zc.size>0}function by(t){return 0===pd(t).Hc.size}function yy(t){t.tu=void 0}function vy(t){return Object(nu.b)(this,void 0,void 0,(function(){return Object(nu.d)(this,(function(e){return t.zc.forEach((function(e,n){fy(t,e)})),[2]}))}))}function _y(t,e){return Object(nu.b)(this,void 0,void 0,(function(){return Object(nu.d)(this,(function(n){return yy(t),my(t)?(t.Zc.Uc(e),gy(t)):t.Zc.set("Unknown"),[2]}))}))}function wy(t,e,n){return Object(nu.b)(this,void 0,void 0,(function(){var r,i,s;return Object(nu.d)(this,(function(o){switch(o.label){case 0:if(t.Zc.set("Online"),!(e instanceof bf&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return Object(nu.b)(this,void 0,void 0,(function(){var n,r,i,s;return Object(nu.d)(this,(function(o){switch(o.label){case 0:n=e.cause,r=0,i=e.targetIds,o.label=1;case 1:return r<i.length?t.zc.has(s=i[r])?[4,t.jc.eu(s,n)]:[3,3]:[3,5];case 2:o.sent(),t.zc.delete(s),t.tu.removeTarget(s),o.label=3;case 3:o.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),ud("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Oy(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof gf?t.tu.pe(e):e instanceof mf?t.tu.Fe(e):t.tu.Se(e),n.isEqual(xd.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,Wb(t.Kc)];case 8:return i=o.sent(),n.A(i)>=0?[4,function(t,e){var n=t.tu.ke(e);return n.Gt.forEach((function(n,r){if(n.resumeToken.X()>0){var i=t.zc.get(r);i&&t.zc.set(r,i.st(n.resumeToken,e))}})),n.zt.forEach((function(e){var n=t.zc.get(e);if(n){t.zc.set(e,n.st(qd.Z,n.et)),py(t,e);var r=new zd(n.target,e,1,n.sequenceNumber);fy(t,r)}})),t.jc.nu(n)}(t,n)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return ud("RemoteStore","Failed to raise snapshot:",s=o.sent()),[4,Oy(t,s)];case 12:return o.sent(),[3,13];case 13:return[2]}}))}))}function Oy(t,e,n){return Object(nu.b)(this,void 0,void 0,(function(){var r=this;return Object(nu.d)(this,(function(i){switch(i.label){case 0:if(!zg(e))throw e;return t.Hc.add(1),[4,ly(t)];case 1:return i.sent(),t.Zc.set("Offline"),n||(n=function(){return Wb(t.Kc)}),t.rs.Ss((function(){return Object(nu.b)(r,void 0,void 0,(function(){return Object(nu.d)(this,(function(e){switch(e.label){case 0:return ud("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Hc.delete(1),[4,cy(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function Cy(t,e){return e().catch((function(n){return Oy(t,n,e)}))}function Sy(t){return Object(nu.b)(this,void 0,void 0,(function(){var e,n,r,i,s;return Object(nu.d)(this,(function(o){switch(o.label){case 0:e=pd(t),n=jy(e),r=e.Gc.length>0?e.Gc[e.Gc.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return by(t)&&t.Gc.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,Qb(e.Kc,r)];case 3:return null===(i=o.sent())?(0===e.Gc.length&&n.uc(),[3,7]):(r=i.batchId,function(t,e){t.Gc.push(e);var n=jy(t);n.oc()&&n.yc&&n.vc(e.mutations)}(e,i),[3,6]);case 4:return s=o.sent(),[4,Oy(e,s)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return Ey(e)&&Ty(e),[2]}}))}))}function Ey(t){return by(t)&&!jy(t).rc()&&t.Gc.length>0}function Ty(t){jy(t).start()}function xy(t){return Object(nu.b)(this,void 0,void 0,(function(){return Object(nu.d)(this,(function(e){return jy(t).Dc(),[2]}))}))}function ky(t){return Object(nu.b)(this,void 0,void 0,(function(){var e,n,r;return Object(nu.d)(this,(function(i){for(e=jy(t),n=0,r=t.Gc;n<r.length;n++)e.vc(r[n].mutations);return[2]}))}))}function Iy(t,e,n){return Object(nu.b)(this,void 0,void 0,(function(){var r,i;return Object(nu.d)(this,(function(s){switch(s.label){case 0:return r=t.Gc.shift(),i=mm.from(r,e,n),[4,Cy(t,(function(){return t.jc.su(i)}))];case 1:return s.sent(),[4,Sy(t)];case 2:return s.sent(),[2]}}))}))}function Ny(t,e){return Object(nu.b)(this,void 0,void 0,(function(){return Object(nu.d)(this,(function(n){switch(n.label){case 0:return e&&jy(t).yc?[4,function(t,e){return Object(nu.b)(this,void 0,void 0,(function(){var n,r;return Object(nu.d)(this,(function(i){switch(i.label){case 0:return $d(r=e.code)&&r!==Sd.ABORTED?(n=t.Gc.shift(),jy(t).cc(),[4,Cy(t,(function(){return t.jc.iu(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,Sy(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Ey(t)&&Ty(t),[2]}}))}))}function Py(t,e){return Object(nu.b)(this,void 0,void 0,(function(){var n;return Object(nu.d)(this,(function(r){switch(r.label){case 0:return n=pd(t),e?(n.Hc.delete(2),[4,cy(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Hc.add(2),[4,ly(n)]);case 3:r.sent(),n.Zc.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Ay(t){var e=this;return t.ru||(t.ru=function(t,e,n){var r=pd(t);return r.Nc(),new iy(e,r.ec,r.credentials,r.serializer,n)}(t.Wc,t.rs,{mc:vy.bind(null,t),dc:_y.bind(null,t),Rc:wy.bind(null,t)}),t.Jc.push((function(n){return Object(nu.b)(e,void 0,void 0,(function(){return Object(nu.d)(this,(function(e){switch(e.label){case 0:return n?(t.ru.cc(),my(t)?gy(t):t.Zc.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.ru.stop()];case 2:e.sent(),yy(t),e.label=3;case 3:return[2]}}))}))}))),t.ru}function jy(t){var e=this;return t.ou||(t.ou=function(t,e,n){var r=pd(t);return r.Nc(),new sy(e,r.ec,r.credentials,r.serializer,n)}(t.Wc,t.rs,{mc:xy.bind(null,t),dc:Ny.bind(null,t),Sc:ky.bind(null,t),bc:Iy.bind(null,t)}),t.Jc.push((function(n){return Object(nu.b)(e,void 0,void 0,(function(){return Object(nu.d)(this,(function(e){switch(e.label){case 0:return n?(t.ou.cc(),[4,Sy(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.ou.stop()];case 3:e.sent(),t.Gc.length>0&&(ud("RemoteStore","Stopping write stream with "+t.Gc.length+" pending writes"),t.Gc=[]),e.label=4;case 4:return[2]}}))}))}))),t.ou}var Ry=function(){function t(){this.au=new Xd(My.cu),this.uu=new Xd(My.hu)}return t.prototype.T=function(){return this.au.T()},t.prototype.Qo=function(t,e){var n=new My(t,e);this.au=this.au.add(n),this.uu=this.uu.add(n)},t.prototype.lu=function(t,e){var n=this;t.forEach((function(t){return n.Qo(t,e)}))},t.prototype.Wo=function(t,e){this._u(new My(t,e))},t.prototype.fu=function(t,e){var n=this;t.forEach((function(t){return n.Wo(t,e)}))},t.prototype.du=function(t){var e=this,n=new Ad(new Id([])),r=new My(n,t),i=new My(n,t+1),s=[];return this.uu.Nt([r,i],(function(t){e._u(t),s.push(t.key)})),s},t.prototype.wu=function(){var t=this;this.au.forEach((function(e){return t._u(e)}))},t.prototype._u=function(t){this.au=this.au.delete(t),this.uu=this.uu.delete(t)},t.prototype.Tu=function(t){var e=new Ad(new Id([])),n=new My(e,t),r=new My(e,t+1),i=af();return this.uu.Nt([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.so=function(t){var e=new My(t,0),n=this.au.Ft(e);return null!==n&&t.isEqual(n.key)},t}(),My=function(){function t(t,e){this.key=t,this.Eu=e}return t.cu=function(t,e){return Ad.V(t.key,e.key)||bd(t.Eu,e.Eu)},t.hu=function(t,e){return bd(t.Eu,e.Eu)||Ad.V(t.key,e.key)},t}();function Dy(t,e){return"firestore_clients_"+t+"_"+e}function Ly(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.Js()&&(r+="_"+e.uid),r}function Fy(t,e){return"firestore_targets_"+t+"_"+e}var Vy=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Iu=function(e,n,r){var i=JSON.parse(r),s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),o=void 0;return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(o=new Ed(i.error.code,i.error.message)),s?new t(e,n,i.state,o):(cd("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.mu=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Uy=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Iu=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),s=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(s=new Ed(r.error.code,r.error.message)),i?new t(e,r.state,s):(cd("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.mu=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),qy=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Iu=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=cf(),o=0;i&&o<r.activeTargetIds.length;++o)i=Md(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(cd("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),By=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Iu=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(cd("SharedClientState","Failed to parse online state: "+e),null)},t}(),Hy=function(){function t(){this.activeTargetIds=cf()}return t.prototype.Au=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Ru=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.mu=function(){var t={activeTargetIds:this.activeTargetIds.O(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),zy=function(){function t(t,e,n,r,i){this.window=t,this.ln=e,this.persistenceKey=n,this.Pu=r,this.gu=null,this.Oc=null,this.Xi=null,this.Vu=this.yu.bind(this),this.pu=new Kd(bd),this.yr=!1,this.vu=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.bu=Dy(this.persistenceKey,this.Pu),this.Su=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.pu=this.pu.rt(this.Pu,new Hy),this.Du=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Cu=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.Nu=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.xu=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Fu=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.Vu)}return t.kn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(nu.b)(this,void 0,void 0,(function(){var t,e,n,r,i,s,o,a,u,c,l=this;return Object(nu.d)(this,(function(h){switch(h.label){case 0:return[4,this.gu.Ca()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Pu&&(i=this.getItem(Dy(this.persistenceKey,r)))&&(s=qy.Iu(r,i))&&(this.pu=this.pu.rt(s.clientId,s));for(this.Ou(),(o=this.storage.getItem(this.xu))&&(a=this.Mu(o))&&this.ku(a),u=0,c=this.vu;u<c.length;u++)this.yu(c[u]);return this.vu=[],this.window.addEventListener("unload",(function(){return l.pa()})),this.yr=!0,[2]}}))}))},t.prototype.er=function(t){this.setItem(this.Su,JSON.stringify(t))},t.prototype.$u=function(){return this.Lu(this.pu)},t.prototype.Bu=function(t){var e=!1;return this.pu.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.qu=function(t){this.Uu(t,"pending")},t.prototype.Qu=function(t,e,n){this.Uu(t,e,n),this.Ku(t)},t.prototype.Wu=function(t){var e="not-current";if(this.Bu(t)){var n=this.storage.getItem(Fy(this.persistenceKey,t));if(n){var r=Uy.Iu(t,n);r&&(e=r.state)}}return this.ju.Au(t),this.Ou(),e},t.prototype.Gu=function(t){this.ju.Ru(t),this.Ou()},t.prototype.zu=function(t){return this.ju.activeTargetIds.has(t)},t.prototype.Hu=function(t){this.removeItem(Fy(this.persistenceKey,t))},t.prototype.Ju=function(t,e,n){this.Yu(t,e,n)},t.prototype.Xu=function(t,e,n){var r=this;e.forEach((function(t){r.Ku(t)})),this.currentUser=t,n.forEach((function(t){r.qu(t)}))},t.prototype.Zu=function(t){this.th(t)},t.prototype.eh=function(){this.nh()},t.prototype.pa=function(){this.yr&&(this.window.removeEventListener("storage",this.Vu),this.removeItem(this.bu),this.yr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return ud("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){ud("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){ud("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.yu=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(ud("SharedClientState","EVENT",n.key,n.newValue),n.key===this.bu)return void cd("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ln.Ss((function(){return Object(nu.b)(e,void 0,void 0,(function(){var t,e,r,i,s,o;return Object(nu.d)(this,(function(a){if(this.yr){if(null!==n.key)if(this.Du.test(n.key)){if(null==n.newValue)return t=this.sh(n.key),[2,this.ih(t,null)];if(e=this.rh(n.key,n.newValue))return[2,this.ih(e.clientId,e)]}else if(this.Cu.test(n.key)){if(null!==n.newValue&&(r=this.oh(n.key,n.newValue)))return[2,this.ah(r)]}else if(this.Nu.test(n.key)){if(null!==n.newValue&&(i=this.uh(n.key,n.newValue)))return[2,this.hh(i)]}else if(n.key===this.xu){if(null!==n.newValue&&(s=this.Mu(n.newValue)))return[2,this.ku(s)]}else if(n.key===this.Su)(o=function(t){var e=Sm.nr;if(null!=t)try{var n=JSON.parse(t);fd("number"==typeof n),e=n}catch(t){cd("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Sm.nr&&this.Xi(o);else if(n.key===this.Fu)return[2,this.gu.lh()]}else this.vu.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"ju",{get:function(){return this.pu.get(this.Pu)},enumerable:!1,configurable:!0}),t.prototype.Ou=function(){this.setItem(this.bu,this.ju.mu())},t.prototype.Uu=function(t,e,n){var r=new Vy(this.currentUser,t,e,n),i=Ly(this.persistenceKey,this.currentUser,t);this.setItem(i,r.mu())},t.prototype.Ku=function(t){var e=Ly(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.th=function(t){this.storage.setItem(this.xu,JSON.stringify({clientId:this.Pu,onlineState:t}))},t.prototype.Yu=function(t,e,n){var r=Fy(this.persistenceKey,t),i=new Uy(t,e,n);this.setItem(r,i.mu())},t.prototype.nh=function(){this.setItem(this.Fu,"value-not-used")},t.prototype.sh=function(t){var e=this.Du.exec(t);return e?e[1]:null},t.prototype.rh=function(t,e){var n=this.sh(t);return qy.Iu(n,e)},t.prototype.oh=function(t,e){var n=this.Cu.exec(t),r=Number(n[1]);return Vy.Iu(new cm(void 0!==n[2]?n[2]:null),r,e)},t.prototype.uh=function(t,e){var n=this.Nu.exec(t),r=Number(n[1]);return Uy.Iu(r,e)},t.prototype.Mu=function(t){return By.Iu(t)},t.prototype.ah=function(t){return Object(nu.b)(this,void 0,void 0,(function(){return Object(nu.d)(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.gu._h(t.batchId,t.state,t.error)]:(ud("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.hh=function(t){return this.gu.fh(t.targetId,t.state,t.error)},t.prototype.ih=function(t,e){var n=this,r=e?this.pu.rt(t,e):this.pu.remove(t),i=this.Lu(this.pu),s=this.Lu(r),o=[],a=[];return s.forEach((function(t){i.has(t)||o.push(t)})),i.forEach((function(t){s.has(t)||a.push(t)})),this.gu.dh(o,a).then((function(){n.pu=r}))},t.prototype.ku=function(t){this.pu.get(t.clientId)&&this.Oc(t.onlineState)},t.prototype.Lu=function(t){var e=cf();return t.forEach((function(t,n){e=e.Ot(n.activeTargetIds)})),e},t}(),Gy=function(){function t(){this.wh=new Hy,this.Th={},this.Oc=null,this.Xi=null}return t.prototype.qu=function(t){},t.prototype.Qu=function(t,e,n){},t.prototype.Wu=function(t){return this.wh.Au(t),this.Th[t]||"not-current"},t.prototype.Ju=function(t,e,n){this.Th[t]=e},t.prototype.Gu=function(t){this.wh.Ru(t)},t.prototype.zu=function(t){return this.wh.activeTargetIds.has(t)},t.prototype.Hu=function(t){delete this.Th[t]},t.prototype.$u=function(){return this.wh.activeTargetIds},t.prototype.Bu=function(t){return this.wh.activeTargetIds.has(t)},t.prototype.start=function(){return this.wh=new Hy,Promise.resolve()},t.prototype.Xu=function(t,e,n){},t.prototype.Zu=function(t){},t.prototype.pa=function(){},t.prototype.er=function(t){},t.prototype.eh=function(){},t}(),$y=function(t){this.key=t},Wy=function(t){this.key=t},Ky=function(){function t(t,e){this.query=t,this.Eh=e,this.Ih=null,this.Zt=!1,this.mh=af(),this.Qt=af(),this.Ah=wg(t),this.Rh=new lf(this.Ah)}return Object.defineProperty(t.prototype,"Ph",{get:function(){return this.Eh},enumerable:!1,configurable:!0}),t.prototype.gh=function(t,e){var n=this,r=e?e.Vh:new hf,i=e?e.Rh:this.Rh,s=e?e.Qt:this.Qt,o=i,a=!1,u=ag(this.query)&&i.size===this.query.limit?i.last():null,c=ug(this.query)&&i.size===this.query.limit?i.first():null;if(t.ut((function(t,e){var l=i.get(t),h=e instanceof eg?e:null;h&&(h=_g(n.query,h)?h:null);var d=!!l&&n.Qt.has(l.key),f=!!h&&(h.Je||n.Qt.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?d!==f&&(r.track({type:3,doc:h}),p=!0):n.yh(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.Ah(h,u)>0||c&&n.Ah(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(o=o.add(h),s=f?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))})),ag(this.query)||ug(this.query))for(;o.size>this.query.limit;){var l=ag(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{Rh:o,Vh:r,ph:a,Qt:s}},t.prototype.yh=function(t,e){return t.Je&&e.hasCommittedMutations&&!e.Je},t.prototype.bi=function(t,e,n){var r=this,i=this.Rh;this.Rh=t.Rh,this.Qt=t.Qt;var s=t.Vh.qt();s.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dd()}};return n(t)-n(e)}(t.type,e.type)||r.Ah(t.doc,e.doc)})),this.bh(n);var o=e?this.Sh():[],a=0===this.mh.size&&this.Zt?1:0,u=a!==this.Ih;return this.Ih=a,0!==s.length||u?{snapshot:new df(this.query,t.Rh,i,s,t.Qt,0===a,u,!1),Dh:o}:{Dh:o}},t.prototype.Bs=function(t){return this.Zt&&"Offline"===t?(this.Zt=!1,this.bi({Rh:this.Rh,Vh:new hf,Qt:this.Qt,ph:!1},!1)):{Dh:[]}},t.prototype.Ch=function(t){return!this.Eh.has(t)&&!!this.Rh.has(t)&&!this.Rh.get(t).Je},t.prototype.bh=function(t){var e=this;t&&(t.te.forEach((function(t){return e.Eh=e.Eh.add(t)})),t.ee.forEach((function(t){})),t.ne.forEach((function(t){return e.Eh=e.Eh.delete(t)})),this.Zt=t.Zt)},t.prototype.Sh=function(){var t=this;if(!this.Zt)return[];var e=this.mh;this.mh=af(),this.Rh.forEach((function(e){t.Ch(e.key)&&(t.mh=t.mh.add(e.key))}));var n=[];return e.forEach((function(e){t.mh.has(e)||n.push(new Wy(e))})),this.mh.forEach((function(t){e.has(t)||n.push(new $y(t))})),n},t.prototype.Nh=function(t){this.Eh=t.Xa,this.mh=af();var e=this.gh(t.documents);return this.bi(e,!0)},t.prototype.xh=function(){return df.jt(this.query,this.Rh,this.Qt,0===this.Ih)},t}(),Qy=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Jy=function(t){this.key=t,this.Fh=!1},Xy=function(){function t(t,e,n,r,i,s){this.Kc=t,this.Oh=e,this.Mh=n,this.kh=r,this.currentUser=i,this.$h=s,this.Lh={},this.Bh=new Cd((function(t){return yg(t)}),bg),this.qh=new Map,this.Uh=[],this.Qh=new Kd(Ad.V),this.Kh=new Map,this.Wh=new Ry,this.jh={},this.Gh=new Map,this.zh=Nb.vo(),this.onlineState="Unknown",this.Hh=void 0}return Object.defineProperty(t.prototype,"Jh",{get:function(){return!0===this.Hh},enumerable:!1,configurable:!0}),t}();function Zy(t,e){return Object(nu.b)(this,void 0,void 0,(function(){var n,r,i,s,o;return Object(nu.d)(this,(function(a){switch(a.label){case 0:return n=xv(t),(i=n.Bh.get(e))?(n.kh.Wu(i.targetId),r=i.view.xh(),[3,4]):[3,1];case 1:return[4,Jb(n.Kc,fg(e))];case 2:return s=a.sent(),o=n.kh.Wu(s.targetId),[4,Yy(n,e,s.targetId,"current"===o)];case 3:r=a.sent(),n.Jh&&hy(n.Oh,s),a.label=4;case 4:return[2,r]}}))}))}function Yy(t,e,n,r){return Object(nu.b)(this,void 0,void 0,(function(){var i,s,o,a,u,c;return Object(nu.d)(this,(function(l){switch(l.label){case 0:return t.Yh=function(e,n,r){return function(t,e,n,r){return Object(nu.b)(this,void 0,void 0,(function(){var i,s,o;return Object(nu.d)(this,(function(a){switch(a.label){case 0:return(i=e.view.gh(n)).ph?[4,Zb(t.Kc,e.query,!1).then((function(t){return e.view.gh(t.documents,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return s=r&&r.Gt.get(e.targetId),o=e.view.bi(i,t.Jh,s),[2,(dv(t,e.targetId,o.Dh),o.snapshot)]}}))}))}(t,e,n,r)},[4,Zb(t.Kc,e,!0)];case 1:return i=l.sent(),s=new Ky(e,i.Xa),o=s.gh(i.documents),a=pf.Xt(n,r&&"Offline"!==t.onlineState),u=s.bi(o,t.Jh,a),dv(t,n,u.Dh),c=new Qy(e,n,s),[2,(t.Bh.set(e,c),t.qh.has(n)?t.qh.get(n).push(e):t.qh.set(n,[e]),u.snapshot)]}}))}))}function tv(t,e){return Object(nu.b)(this,void 0,void 0,(function(){var n,r,i;return Object(nu.d)(this,(function(s){switch(s.label){case 0:return n=pd(t),r=n.Bh.get(e),(i=n.qh.get(r.targetId)).length>1?[2,(n.qh.set(r.targetId,i.filter((function(t){return!bg(t,e)}))),void n.Bh.delete(e))]:n.Jh?(n.kh.Gu(r.targetId),n.kh.Bu(r.targetId)?[3,2]:[4,Xb(n.Kc,r.targetId,!1).then((function(){n.kh.Hu(r.targetId),dy(n.Oh,r.targetId),lv(n,r.targetId)})).catch(ny)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return lv(n,r.targetId),[4,Xb(n.Kc,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}}))}))}function ev(t,e,n){return Object(nu.b)(this,void 0,void 0,(function(){var r,i,s,o;return Object(nu.d)(this,(function(a){switch(a.label){case 0:r=kv(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=pd(t),i=Td.now(),s=e.reduce((function(t,e){return t.add(e.key)}),af());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Ga.Li(t,s).next((function(s){n=s;for(var o=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Up(c,n.get(c.key));null!=l&&o.push(new zp(c.key,l,Yp(l.proto.mapValue),Mp.exists(!0)))}return r.xi.Qr(t,i,o,e)}))})).then((function(t){var e=t.wi(n);return{batchId:t.batchId,Ii:e}}))}(r.Kc,e)];case 2:return i=a.sent(),r.kh.qu(i.batchId),function(t,e,n){var r=t.jh[t.currentUser.Ys()];r||(r=new Kd(bd)),r=r.rt(e,n),t.jh[t.currentUser.Ys()]=r}(r,i.batchId,n),[4,gv(r,i.Ii)];case 3:return a.sent(),[4,Sy(r.Oh)];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),o=tm(s,"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}}))}))}function nv(t,e){return Object(nu.b)(this,void 0,void 0,(function(){var n,r;return Object(nu.d)(this,(function(i){switch(i.label){case 0:n=pd(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Kb(n.Kc,e)];case 2:return r=i.sent(),e.Gt.forEach((function(t,e){var r=n.Kh.get(e);r&&(fd(t.te.size+t.ee.size+t.ne.size<=1),t.te.size>0?r.Fh=!0:t.ee.size>0?fd(r.Fh):t.ne.size>0&&(fd(r.Fh),r.Fh=!1))})),[4,gv(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,ny(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function rv(t,e,n){var r=pd(t);if(r.Jh&&0===n||!r.Jh&&1===n){var i=[];r.Bh.forEach((function(t,n){var r=n.view.Bs(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=pd(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,s=n.listeners;i<s.length;i++)s[i].Bs(e)&&(r=!0)})),r&&am(n)}(r.Mh,e),i.length&&r.Lh.Rc(i),r.onlineState=e,r.Jh&&r.kh.Zu(e)}}function iv(t,e,n){return Object(nu.b)(this,void 0,void 0,(function(){var r,i,s,o,a,u;return Object(nu.d)(this,(function(c){switch(c.label){case 0:return(r=pd(t)).kh.Ju(e,"rejected",n),i=r.Kh.get(e),(s=i&&i.key)?(o=(o=new Kd(Ad.V)).rt(s,new ng(s,xd.min())),a=af().add(s),u=new ff(xd.min(),new Map,new Xd(bd),o,a),[4,nv(r,u)]):[3,2];case 1:return c.sent(),r.Qh=r.Qh.remove(s),r.Kh.delete(e),pv(r),[3,4];case 2:return[4,Xb(r.Kc,e,!1).then((function(){return lv(r,e,n)})).catch(ny)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function sv(t,e){return Object(nu.b)(this,void 0,void 0,(function(){var n,r,i;return Object(nu.d)(this,(function(s){switch(s.label){case 0:n=pd(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,$b(n.Kc,e)];case 2:return i=s.sent(),cv(n,r,null),uv(n,r),n.kh.Qu(r,"acknowledged"),[4,gv(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,ny(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}}))}))}function ov(t,e,n){return Object(nu.b)(this,void 0,void 0,(function(){var r,i;return Object(nu.d)(this,(function(s){switch(s.label){case 0:r=pd(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(t,e){var n=pd(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.xi.Wr(t,e).next((function(e){return fd(null!==e),r=e.keys(),n.xi.Yr(t,e)})).next((function(){return n.xi.no(t)})).next((function(){return n.Ga.Li(t,r)}))}))}(r.Kc,e)];case 2:return i=s.sent(),cv(r,e,n),uv(r,e),r.kh.Qu(e,"rejected",n),[4,gv(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,ny(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}}))}))}function av(t,e){return Object(nu.b)(this,void 0,void 0,(function(){var n,r,i,s,o;return Object(nu.d)(this,(function(a){switch(a.label){case 0:by((n=pd(t)).Oh)||ud("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=pd(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.xi.zr(t)}))}(n.Kc)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Gh.get(r)||[]).push(e),n.Gh.set(r,i),[3,4]);case 3:return s=a.sent(),o=tm(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}}))}))}function uv(t,e){(t.Gh.get(e)||[]).forEach((function(t){t.resolve()})),t.Gh.delete(e)}function cv(t,e,n){var r=pd(t),i=r.jh[r.currentUser.Ys()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.jh[r.currentUser.Ys()]=i}}function lv(t,e,n){void 0===n&&(n=null),t.kh.Gu(e);for(var r=0,i=t.qh.get(e);r<i.length;r++){var s=i[r];t.Bh.delete(s),n&&t.Lh.Xh(s,n)}t.qh.delete(e),t.Jh&&t.Wh.du(e).forEach((function(e){t.Wh.so(e)||hv(t,e)}))}function hv(t,e){var n=t.Qh.get(e);null!==n&&(dy(t.Oh,n),t.Qh=t.Qh.remove(e),t.Kh.delete(n),pv(t))}function dv(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof $y?(t.Wh.Qo(s.key,e),fv(t,s)):s instanceof Wy?(ud("SyncEngine","Document no longer in limbo: "+s.key),t.Wh.Wo(s.key,e),t.Wh.so(s.key)||hv(t,s.key)):dd()}}function fv(t,e){var n=e.key;t.Qh.get(n)||(ud("SyncEngine","New document in limbo: "+n),t.Uh.push(n),pv(t))}function pv(t){for(;t.Uh.length>0&&t.Qh.size<t.$h;){var e=t.Uh.shift(),n=t.zh.next();t.Kh.set(n,new Jy(e)),t.Qh=t.Qh.rt(e,n),hy(t.Oh,new zd(fg(og(e.path)),n,2,Sm.nr))}}function gv(t,e,n){return Object(nu.b)(this,void 0,void 0,(function(){var r,i,s,o;return Object(nu.d)(this,(function(a){switch(a.label){case 0:return r=pd(t),i=[],s=[],o=[],r.Bh.T()?[3,3]:(r.Bh.forEach((function(t,a){o.push(r.Yh(a,e,n).then((function(t){if(t){r.Jh&&r.kh.Ju(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Cm.Yi(a.targetId,t);s.push(e)}})))})),[4,Promise.all(o)]);case 1:return a.sent(),r.Lh.Rc(i),[4,function(t,e){return Object(nu.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a,u,c;return Object(nu.d)(this,(function(l){switch(l.label){case 0:n=pd(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return Ug.forEach(e,(function(e){return Ug.forEach(e.Hi,(function(r){return n.persistence.Lr.Qo(t,e.targetId,r)})).next((function(){return Ug.forEach(e.Ji,(function(r){return n.persistence.Lr.Wo(t,e.targetId,r)}))}))}))}))];case 2:return l.sent(),[3,4];case 3:if(!zg(r=l.sent()))throw r;return ud("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,s=e;i<s.length;i++)a=(o=s[i]).targetId,o.fromCache||(u=n.Qa.get(a),c=u.it(u.et),n.Qa=n.Qa.rt(a,c));return[2]}}))}))}(r.Kc,s)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function mv(t,e){return Object(nu.b)(this,void 0,void 0,(function(){var n,r;return Object(nu.d)(this,(function(i){switch(i.label){case 0:return(n=pd(t)).currentUser.isEqual(e)?[3,3]:(ud("SyncEngine","User change. New user:",e.Ys()),[4,Gb(n.Kc,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Gh.forEach((function(t){t.forEach((function(t){t.reject(new Ed(Sd.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Gh.clear()}(n),n.kh.Xu(e,r.Ja,r.Ya),[4,gv(n,r.Ha)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function bv(t,e){var n=pd(t),r=n.Kh.get(e);if(r&&r.Fh)return af().add(r.key);var i=af(),s=n.qh.get(e);if(!s)return i;for(var o=0,a=s;o<a.length;o++){var u=n.Bh.get(a[o]);i=i.Ot(u.view.Ph)}return i}function yv(t,e){return Object(nu.b)(this,void 0,void 0,(function(){var n,r,i;return Object(nu.d)(this,(function(s){switch(s.label){case 0:return[4,Zb((n=pd(t)).Kc,e.query,!0)];case 1:return r=s.sent(),i=e.view.Nh(r),[2,(n.Jh&&dv(n,e.targetId,i.Dh),i)]}}))}))}function vv(t){return Object(nu.b)(this,void 0,void 0,(function(){var e;return Object(nu.d)(this,(function(n){return[2,ty((e=pd(t)).Kc).then((function(t){return gv(e,t)}))]}))}))}function _v(t,e,n,r){return Object(nu.b)(this,void 0,void 0,(function(){var i,s;return Object(nu.d)(this,(function(o){switch(o.label){case 0:return[4,function(t,e){var n=pd(t),r=pd(n.xi);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.jr(t,e).next((function(e){return e?n.Ga.Li(t,e):Ug.resolve(null)}))}))}((i=pd(t)).Kc,e)];case 1:return null===(s=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,Sy(i.Oh)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(cv(i,e,r||null),uv(i,e),function(t,e){pd(pd(t).xi).Zr(e)}(i.Kc,e)):dd(),o.label=4;case 4:return[4,gv(i,s)];case 5:return o.sent(),[3,7];case 6:ud("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}}))}))}function wv(t,e){return Object(nu.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a,u;return Object(nu.d)(this,(function(c){switch(c.label){case 0:return xv(n=pd(t)),kv(n),!0!==e||!0===n.Hh?[3,3]:(r=n.kh.$u(),[4,Ov(n,r.O())]);case 1:return i=c.sent(),n.Hh=!0,[4,Py(n.Oh,!0)];case 2:for(c.sent(),s=0,o=i;s<o.length;s++)hy(n.Oh,o[s]);return[3,7];case 3:return!1!==e||!1===n.Hh?[3,7]:(a=[],u=Promise.resolve(),n.qh.forEach((function(t,e){n.kh.zu(e)?a.push(e):u=u.then((function(){return lv(n,e),Xb(n.Kc,e,!0)})),dy(n.Oh,e)})),[4,u]);case 4:return c.sent(),[4,Ov(n,a)];case 5:return c.sent(),function(t){var e=pd(t);e.Kh.forEach((function(t,n){dy(e.Oh,n)})),e.Wh.wu(),e.Kh=new Map,e.Qh=new Kd(Ad.V)}(n),n.Hh=!1,[4,Py(n.Oh,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}}))}))}function Ov(t,e,n){return Object(nu.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a,u,c,l,h,d,f,p;return Object(nu.d)(this,(function(g){switch(g.label){case 0:n=pd(t),r=[],i=[],s=0,o=e,g.label=1;case 1:return s<o.length?(u=void 0,(c=n.qh.get(a=o[s]))&&0!==c.length?[4,Jb(n.Kc,fg(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(d=n.Bh.get(h[l]),[4,yv(n,d)]):[3,6];case 4:(f=g.sent()).snapshot&&i.push(f.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Yb(n.Kc,a)];case 8:return p=g.sent(),[4,Jb(n.Kc,p)];case 9:return u=g.sent(),[4,Yy(n,Cv(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return s++,[3,1];case 13:return[2,(n.Lh.Rc(i),r)]}}))}))}function Cv(t){return sg(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Sv(t){var e=pd(t);return pd(pd(e.Kc).persistence).Ca()}function Ev(t,e,n,r){return Object(nu.b)(this,void 0,void 0,(function(){var i,s,o;return Object(nu.d)(this,(function(a){switch(a.label){case 0:return(i=pd(t)).Hh?(ud("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.qh.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,ty(i.Kc)];case 3:return s=a.sent(),o=ff.Yt(e,"current"===n),[4,gv(i,s,o)];case 4:return a.sent(),[3,8];case 5:return[4,Xb(i.Kc,e,!0)];case 6:return a.sent(),lv(i,e,r),[3,8];case 7:dd(),a.label=8;case 8:return[2]}}))}))}function Tv(t,e,n){return Object(nu.b)(this,void 0,void 0,(function(){var r,i,s,o,a,u,c,l,h;return Object(nu.d)(this,(function(d){switch(d.label){case 0:if(!(r=xv(t)).Hh)return[3,10];i=0,s=e,d.label=1;case 1:return i<s.length?r.qh.has(o=s[i])?(ud("SyncEngine","Adding an already active target "+o),[3,5]):[4,Yb(r.Kc,o)]:[3,6];case 2:return a=d.sent(),[4,Jb(r.Kc,a)];case 3:return u=d.sent(),[4,Yy(r,Cv(a),u.targetId,!1)];case 4:d.sent(),hy(r.Oh,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(nu.d)(this,(function(e){switch(e.label){case 0:return r.qh.has(t)?[4,Xb(r.Kc,t,!1).then((function(){dy(r.Oh,t),lv(r,t)})).catch(ny)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,h=n,d.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function xv(t){var e=pd(t);return e.Oh.jc.nu=nv.bind(null,e),e.Oh.jc.Be=bv.bind(null,e),e.Oh.jc.eu=iv.bind(null,e),e.Lh.Rc=sm.bind(null,e.Mh),e.Lh.Xh=om.bind(null,e.Mh),e}function kv(t){var e=pd(t);return e.Oh.jc.su=sv.bind(null,e),e.Oh.jc.iu=ov.bind(null,e),e}var Iv=function(){function t(){}return t.prototype.za=function(t){this.Zh=t},t.prototype.Ui=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.rn.length||1===t.rn.length&&t.rn[0].field.B())}(e)||n.isEqual(xd.min())?this.tl(t,e):this.Zh.Li(t,r).next((function(s){var o=i.el(e,s);return(ag(e)||ug(e))&&i.ph(e.limitType,o,r,n)?i.tl(t,e):(ad()<=iu.a.DEBUG&&ud("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),vg(e)),i.Zh.Ui(t,e,n).next((function(t){return o.forEach((function(e){t=t.rt(e.key,e)})),t})))}))},t.prototype.el=function(t,e){var n=new Xd(wg(t));return e.forEach((function(e,r){r instanceof eg&&_g(t,r)&&(n=n.add(r))})),n},t.prototype.ph=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.A(r)>0)},t.prototype.tl=function(t,e){return ad()<=iu.a.DEBUG&&ud("IndexFreeQueryEngine","Using full collection scan to execute query:",vg(e)),this.Zh.Ui(t,e,xd.min())},t}(),Nv=function(){function t(t,e){this.Fi=t,this.Lr=e,this.xi=[],this.nl=1,this.sl=new Xd(My.cu)}return t.prototype.Ur=function(t){return Ug.resolve(0===this.xi.length)},t.prototype.Qr=function(t,e,n,r){var i=this.nl;this.nl++;var s=new gm(i,e,n,r);this.xi.push(s);for(var o=0,a=r;o<a.length;o++){var u=a[o];this.sl=this.sl.add(new My(u.key,i)),this.Fi.Kr(t,u.key.path.S())}return Ug.resolve(s)},t.prototype.Wr=function(t,e){return Ug.resolve(this.il(e))},t.prototype.Gr=function(t,e){var n=this.rl(e+1),r=n<0?0:n;return Ug.resolve(this.xi.length>r?this.xi[r]:null)},t.prototype.zr=function(){return Ug.resolve(0===this.xi.length?-1:this.nl-1)},t.prototype.Hr=function(t){return Ug.resolve(this.xi.slice())},t.prototype.Mi=function(t,e){var n=this,r=new My(e,0),i=new My(e,Number.POSITIVE_INFINITY),s=[];return this.sl.Nt([r,i],(function(t){var e=n.il(t.Eu);s.push(e)})),Ug.resolve(s)},t.prototype.qi=function(t,e){var n=this,r=new Xd(bd);return e.forEach((function(t){var e=new My(t,0),i=new My(t,Number.POSITIVE_INFINITY);n.sl.Nt([e,i],(function(t){r=r.add(t.Eu)}))})),Ug.resolve(this.ol(r))},t.prototype.Gi=function(t,e){var n=e.path,r=n.length+1,i=n;Ad.G(i)||(i=i.child(""));var s=new My(new Ad(i),0),o=new Xd(bd);return this.sl.xt((function(t){var e=t.key.path;return!!n.N(e)&&(e.length===r&&(o=o.add(t.Eu)),!0)}),s),Ug.resolve(this.ol(o))},t.prototype.ol=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.il(t);null!==r&&n.push(r)})),n},t.prototype.Yr=function(t,e){var n=this;fd(0===this.al(e.batchId,"removed")),this.xi.shift();var r=this.sl;return Ug.forEach(e.mutations,(function(i){var s=new My(i.key,e.batchId);return r=r.delete(s),n.Lr.eo(t,i.key)})).next((function(){n.sl=r}))},t.prototype.Zr=function(t){},t.prototype.so=function(t,e){var n=new My(e,0),r=this.sl.Ft(n);return Ug.resolve(e.isEqual(r&&r.key))},t.prototype.no=function(t){return Ug.resolve()},t.prototype.al=function(t,e){return this.rl(t)},t.prototype.rl=function(t){return 0===this.xi.length?0:t-this.xi[0].batchId},t.prototype.il=function(t){var e=this.rl(t);return e<0||e>=this.xi.length?null:this.xi[e]},t}(),Pv=function(){function t(t,e){this.Fi=t,this.cl=e,this.docs=new Kd(Ad.V),this.size=0}return t.prototype.Ri=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.cl(e);return this.docs=this.docs.rt(r,{gi:e,size:o,readTime:n}),this.size+=o-s,this.Fi.Kr(t,r.path.S())},t.prototype.Vi=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.yi=function(t,e){var n=this.docs.get(e);return Ug.resolve(n?n.gi:null)},t.prototype.getEntries=function(t,e){var n=this,r=ef();return e.forEach((function(t){var e=n.docs.get(t);r=r.rt(t,e?e.gi:null)})),Ug.resolve(r)},t.prototype.Ui=function(t,e,n){for(var r=rf(),i=new Ad(e.path.child("")),s=this.docs._t(i);s.It();){var o=s.Et(),a=o.value,u=a.gi,c=a.readTime;if(!e.path.N(o.key.path))break;c.A(n)<=0||u instanceof eg&&_g(e,u)&&(r=r.rt(u.key,u))}return Ug.resolve(r)},t.prototype.ul=function(t,e){return Ug.forEach(this.docs,(function(t){return e(t)}))},t.prototype._o=function(t){return new Av(this)},t.prototype.wo=function(t){return Ug.resolve(this.size)},t}(),Av=function(t){function e(e){var n=this;return(n=t.call(this)||this).To=e,n}return Object(nu.c)(e,t),e.prototype.bi=function(t){var e=this,n=[];return this.Ii.forEach((function(r,i){i&&i.gi?n.push(e.To.Ri(t,i.gi,e.Ai(r))):e.To.Vi(r)})),Ug.xn(n)},e.prototype.pi=function(t,e){return this.To.yi(t,e)},e.prototype.vi=function(t,e){return this.To.getEntries(t,e)},e}(bm),jv=function(){function t(t){this.persistence=t,this.hl=new Cd((function(t){return Fd(t)}),Vd),this.lastRemoteSnapshotVersion=xd.min(),this.highestTargetId=0,this.ll=0,this._l=new Ry,this.targetCount=0,this.fl=Nb.po()}return t.prototype.De=function(t,e){return this.hl.forEach((function(t,n){return e(n)})),Ug.resolve()},t.prototype.Co=function(t){return Ug.resolve(this.lastRemoteSnapshotVersion)},t.prototype.No=function(t){return Ug.resolve(this.ll)},t.prototype.bo=function(t){return this.highestTargetId=this.fl.next(),Ug.resolve(this.highestTargetId)},t.prototype.xo=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ll&&(this.ll=e),Ug.resolve()},t.prototype.Oo=function(t){this.hl.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.fl=new Nb(e),this.highestTargetId=e),t.sequenceNumber>this.ll&&(this.ll=t.sequenceNumber)},t.prototype.Fo=function(t,e){return this.Oo(e),this.targetCount+=1,Ug.resolve()},t.prototype.ko=function(t,e){return this.Oo(e),Ug.resolve()},t.prototype.$o=function(t,e){return this.hl.delete(e.target),this._l.du(e.targetId),this.targetCount-=1,Ug.resolve()},t.prototype.Nr=function(t,e,n){var r=this,i=0,s=[];return this.hl.forEach((function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.hl.delete(o),s.push(r.Lo(t,a.targetId)),i++)})),Ug.xn(s).next((function(){return i}))},t.prototype.Bo=function(t){return Ug.resolve(this.targetCount)},t.prototype.qo=function(t,e){var n=this.hl.get(e)||null;return Ug.resolve(n)},t.prototype.Uo=function(t,e,n){return this._l.lu(e,n),Ug.resolve()},t.prototype.Ko=function(t,e,n){this._l.fu(e,n);var r=this.persistence.Lr,i=[];return r&&e.forEach((function(e){i.push(r.eo(t,e))})),Ug.xn(i)},t.prototype.Lo=function(t,e){return this._l.du(e),Ug.resolve()},t.prototype.jo=function(t,e){var n=this._l.Tu(e);return Ug.resolve(n)},t.prototype.so=function(t,e){return Ug.resolve(this._l.so(e))},t}(),Rv=function(){function t(t){this.serializer=t,this.dl=new Map,this.wl=new Map}return t.prototype.mo=function(t,e){return Ug.resolve(this.dl.get(e))},t.prototype.Ao=function(t,e){var n;return this.dl.set(e.id,{id:(n=e).id,version:n.version,createTime:Qf(n.createTime)}),Ug.resolve()},t.prototype.Ro=function(t,e){return Ug.resolve(this.wl.get(e))},t.prototype.Po=function(t,e){var n;return this.wl.set(e.name,{name:(n=e).name,query:Gm(n.bundledQuery),readTime:Qf(n.readTime)}),Ug.resolve()},t}(),Mv=function(){function t(t,e){var n=this;this.Tl={},this.Jo=new Sm(0),this.Yo=!1,this.Yo=!0,this.Lr=t(this),this.ra=new jv(this),this.Fi=new ib,this.Ni=function(t,e){return new Pv(t,(function(t){return n.Lr.El(t)}))}(this.Fi),this.serializer=new Mm(e),this.oa=new Rv(this.serializer)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.pa=function(){return this.Yo=!1,Promise.resolve()},Object.defineProperty(t.prototype,"yr",{get:function(){return this.Yo},enumerable:!1,configurable:!0}),t.prototype.fa=function(){},t.prototype.da=function(){},t.prototype.Oa=function(){return this.Fi},t.prototype.Na=function(t){var e=this.Tl[t.Ys()];return e||(e=new Nv(this.Fi,this.Lr),this.Tl[t.Ys()]=e),e},t.prototype.xa=function(){return this.ra},t.prototype.Fa=function(){return this.Ni},t.prototype.Ma=function(){return this.oa},t.prototype.runTransaction=function(t,e,n){var r=this;ud("MemoryPersistence","Starting transaction:",t);var i=new Dv(this.Jo.next());return this.Lr.Il(),n(i).next((function(t){return r.Lr.ml(i).next((function(){return t}))})).Cn().then((function(t){return i.Ci(),t}))},t.prototype.Al=function(t,e){return Ug.Fn(Object.values(this.Tl).map((function(n){return function(){return n.so(t,e)}})))},t}(),Dv=function(t){function e(e){var n=this;return(n=t.call(this)||this).Go=e,n}return Object(nu.c)(e,t),e}(wm),Lv=function(){function t(t){this.persistence=t,this.Rl=new Ry,this.Pl=null}return t.gl=function(e){return new t(e)},Object.defineProperty(t.prototype,"Vl",{get:function(){if(this.Pl)return this.Pl;throw dd()},enumerable:!1,configurable:!0}),t.prototype.Qo=function(t,e,n){return this.Rl.Qo(n,e),this.Vl.delete(n.toString()),Ug.resolve()},t.prototype.Wo=function(t,e,n){return this.Rl.Wo(n,e),this.Vl.add(n.toString()),Ug.resolve()},t.prototype.eo=function(t,e){return this.Vl.add(e.toString()),Ug.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.Rl.du(e.targetId).forEach((function(t){return n.Vl.add(t.toString())}));var r=this.persistence.xa();return r.jo(t,e.targetId).next((function(t){t.forEach((function(t){return n.Vl.add(t.toString())}))})).next((function(){return r.$o(t,e)}))},t.prototype.Il=function(){this.Pl=new Set},t.prototype.ml=function(t){var e=this,n=this.persistence.Fa()._o();return Ug.forEach(this.Vl,(function(r){var i=Ad.K(r);return e.yl(t,i).next((function(t){t||n.Vi(i)}))})).next((function(){return e.Pl=null,n.apply(t)}))},t.prototype.qa=function(t,e){var n=this;return this.yl(t,e).next((function(t){t?n.Vl.delete(e.toString()):n.Vl.add(e.toString())}))},t.prototype.El=function(t){return 0},t.prototype.yl=function(t,e){var n=this;return Ug.Fn([function(){return Ug.resolve(n.Rl.so(e))},function(){return n.persistence.xa().so(t,e)},function(){return n.persistence.Al(t,e)}])},t}(),Fv=function(){function t(t){this.pl=t.pl,this.vl=t.vl}return t.prototype.mc=function(t){this.bl=t},t.prototype.dc=function(t){this.Sl=t},t.prototype.onMessage=function(t){this.Dl=t},t.prototype.close=function(){this.vl()},t.prototype.send=function(t){this.pl(t)},t.prototype.Cl=function(){this.bl()},t.prototype.Nl=function(t){this.Sl(t)},t.prototype.xl=function(t){this.Dl(t)},t}(),Vv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Uv=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.i=e.i,n}return Object(nu.c)(e,t),e.prototype.Ll=function(t,e,n,r){return new Promise((function(i,s){var o=new nd;o.listenOnce(td.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Yh.NO_ERROR:var e=o.getResponseJson();ud("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Yh.TIMEOUT:ud("Connection",'RPC "'+t+'" timed out'),s(new Ed(Sd.DEADLINE_EXCEEDED,"Request time out"));break;case Yh.HTTP_ERROR:var n=o.getStatus();if(ud("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace("_","-");return Object.values(Sd).indexOf(e)>=0?e:Sd.UNKNOWN}(r.status);s(new Ed(a,r.message))}else s(new Ed(Sd.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Ed(Sd.UNAVAILABLE,"Connection failed."));break;default:dd()}}finally{ud("Connection",'RPC "'+t+'" completed.')}}));var a=JSON.stringify(r);o.send(e,"POST",a,n,15)}))},e.prototype.Ac=function(t,e){var n=[this.Ol,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Kh,i={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.$l(i.initMessageHeaders,e),Object(su.m)()||Object(su.o)()||Object(su.k)()||Object(su.l)()||Object(su.p)()||Object(su.j)()||(i.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");ud("Connection","Creating WebChannel: "+s,i);var o=r.createWebChannel(s,i),a=!1,u=!1,c=new Fv({pl:function(t){u?ud("Connection","Not sending because WebChannel is closed:",t):(a||(ud("Connection","Opening WebChannel transport."),o.open(),a=!0),ud("Connection","WebChannel sending:",t),o.send(t))},vl:function(){return o.close()}}),l=function(t,e){o.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return l(ed.EventType.OPEN,(function(){u||ud("Connection","WebChannel transport opened.")})),l(ed.EventType.CLOSE,(function(){u||(u=!0,ud("Connection","WebChannel transport closed"),c.Nl())})),l(ed.EventType.ERROR,(function(t){u||(u=!0,ld("Connection","WebChannel transport errored:",t),c.Nl(new Ed(Sd.UNAVAILABLE,"The operation could not be completed")))})),l(ed.EventType.MESSAGE,(function(t){var e;if(!u){var n=t.data[0];fd(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){ud("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=Bd[t];if(void 0!==e)return Wd(e)}(i),a=r.message;void 0===s&&(s=Sd.INTERNAL,a="Unknown error status: "+i+" with message "+r.message),u=!0,c.Nl(new Ed(s,a)),o.close()}else ud("Connection","WebChannel received:",n),c.xl(n)}})),setTimeout((function(){c.Cl()}),0),c},e}(function(){function t(t){this.Fl=t,this.t=t.t,this.Ol=(t.ssl?"https":"http")+"://"+t.host,this.Ml="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return t.prototype.xc=function(t,e,n,r){var i=this.kl(t,e);ud("RestConnection","Sending: ",i,n);var s={};return this.$l(s,r),this.Ll(t,i,s,n).then((function(t){return ud("RestConnection","Received: ",t),t}),(function(e){throw ld("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Fc=function(t,e,n,r){return this.xc(t,e,n,r)},t.prototype.$l=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.0.2",t["Content-Type"]="text/plain",e)for(var n in e.ti)e.ti.hasOwnProperty(n)&&(t[n]=e.ti[n])},t.prototype.kl=function(t,e){return this.Ol+"/v1/"+e+":"+Vv[t]},t}()),qv=function(){function t(){var t=this;this.Bl=function(){return t.ql()},this.Ul=function(){return t.Ql()},this.Kl=[],this.Wl()}return t.prototype.Xc=function(t){this.Kl.push(t)},t.prototype.pa=function(){window.removeEventListener("online",this.Bl),window.removeEventListener("offline",this.Ul)},t.prototype.Wl=function(){window.addEventListener("online",this.Bl),window.addEventListener("offline",this.Ul)},t.prototype.ql=function(){ud("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Kl;t<e.length;t++)(0,e[t])(0)},t.prototype.Ql=function(){ud("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Kl;t<e.length;t++)(0,e[t])(1)},t.kn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Bv=function(){function t(){}return t.prototype.Xc=function(t){},t.prototype.pa=function(){},t}(),Hv=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(nu.b)(this,void 0,void 0,(function(){return Object(nu.d)(this,(function(e){switch(e.label){case 0:return this.serializer=ym(t.Fl.t),this.kh=this.jl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Kc=this.Jl(t),[2]}}))}))},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return zb(this.persistence,new Iv,t.Yl,this.serializer)},t.prototype.Gl=function(t){return new Mv(Lv.gl,this.serializer)},t.prototype.jl=function(t){return new Gy},t.prototype.terminate=function(){return Object(nu.b)(this,void 0,void 0,(function(){return Object(nu.d)(this,(function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.kh.pa()];case 1:return t.sent(),[4,this.persistence.pa()];case 2:return t.sent(),[2]}}))}))},t}(),zv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(nu.c)(e,t),e.prototype.initialize=function(e){return Object(nu.b)(this,void 0,void 0,(function(){return Object(nu.d)(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,ey(this.Kc)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,kv(this.Xl.gu)];case 4:return n.sent(),[4,Sy(this.Xl.Oh)];case 5:return n.sent(),[2]}}))}))},e.prototype.Jl=function(t){return zb(this.persistence,new Iv,t.Yl,this.serializer)},e.prototype.Hl=function(t){return new Im(this.persistence.Lr.Rr,t.rs)},e.prototype.Gl=function(t){var e=Bb(t.Fl.t,t.Fl.persistenceKey),n=void 0!==this.cacheSizeBytes?km.Tr(this.cacheSizeBytes):km.mr;return new Lb(this.synchronizeTabs,e,t.clientId,n,t.rs,Jg(),Xg(),this.serializer,this.kh,!!this.forceOwnership)},e.prototype.jl=function(t){return new Gy},e}(Hv),Gv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(nu.c)(e,t),e.prototype.initialize=function(e){return Object(nu.b)(this,void 0,void 0,(function(){var n,r=this;return Object(nu.d)(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.gu,this.kh instanceof zy?(this.kh.gu={_h:_v.bind(null,n),fh:Ev.bind(null,n),dh:Tv.bind(null,n),Ca:Sv.bind(null,n),lh:vv.bind(null,n)},[4,this.kh.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence._a((function(t){return Object(nu.b)(r,void 0,void 0,(function(){return Object(nu.d)(this,(function(e){switch(e.label){case 0:return[4,wv(this.Xl.gu,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.yr?this.zl.start(this.Kc):t||this.zl.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.jl=function(t){var e=Jg();if(!zy.kn(e))throw new Ed(Sd.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Bb(t.Fl.t,t.Fl.persistenceKey);return new zy(e,t.rs,n,t.clientId,t.Yl)},e}(zv),$v=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(nu.b)(this,void 0,void 0,(function(){var n=this;return Object(nu.d)(this,(function(r){switch(r.label){case 0:return this.Kc?[3,2]:(this.Kc=t.Kc,this.kh=t.kh,this.Wc=this.Zl(e),this.Oh=this.t_(e),this.Mh=this.e_(e),this.gu=this.n_(e,!t.synchronizeTabs),this.kh.Oc=function(t){return rv(n.gu,t,1)},this.Oh.jc.s_=mv.bind(null,this.gu),[4,Py(this.Oh,this.gu.Jh)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.e_=function(t){return new nm},t.prototype.Zl=function(t){var e=ym(t.Fl.t),n=new Uv(t.Fl);return function(t,e,n){return new oy(t,e,n)}(t.credentials,n,e)},t.prototype.t_=function(t){var e,n,r,i,s,o=this;return e=this.Kc,n=this.Wc,r=t.rs,i=function(t){return rv(o.gu,t,0)},s=qv.kn()?new qv:new Bv,new uy(e,n,r,i,s)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,s,o){var a=new Xy(t,e,n,r,i,s);return o&&(a.Hh=!0),a}(this.Kc,this.Oh,this.Mh,this.kh,t.Yl,t.$h,e)},t.prototype.terminate=function(){return function(t){return Object(nu.b)(this,void 0,void 0,(function(){var e;return Object(nu.d)(this,(function(n){switch(n.label){case 0:return e=pd(t),ud("RemoteStore","RemoteStore shutting down."),e.Hc.add(5),[4,ly(e)];case 1:return n.sent(),e.Yc.pa(),e.Zc.set("Unknown"),[2]}}))}))}(this.Oh)},t}(),Wv=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),Kv=function(t){this.o_=t};function Qv(t,e,n){if(!n)throw new Ed(Sd.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Jv(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ed(Sd.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Xv(t,e,n,r){if(!0===e&&!0===r)throw new Ed(Sd.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Zv(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":dd()}function Yv(t,e){if(t instanceof Kv&&(t=t.o_),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ed(Sd.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Zv(t);throw new Ed(Sd.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function t_(t,e){if(e<=0)throw new Ed(Sd.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var e_=function(t){this.a_=t},n_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(nu.c)(e,t),e.prototype.c_=function(t){if(2!==t.u_)throw t.h_(1===t.u_?this.a_+"() can only appear at the top level of your update data":this.a_+"() cannot be used with set() unless you pass {merge:true}");return t.Qe.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(e_);function r_(t,e,n){return new I_({u_:3,l_:e.settings.l_,methodName:t.a_,__:n},e.t,e.serializer,e.ignoreUndefinedProperties)}var i_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(nu.c)(e,t),e.prototype.c_=function(t){return new jp(t.path,new Sp)},e.prototype.isEqual=function(t){return t instanceof e},e}(e_),s_=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).f_=n,r}return Object(nu.c)(e,t),e.prototype.c_=function(t){var e=r_(this,t,!0),n=this.f_.map((function(t){return M_(t,e)})),r=new Ep(n);return new jp(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(e_),o_=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).f_=n,r}return Object(nu.c)(e,t),e.prototype.c_=function(t){var e=r_(this,t,!0),n=this.f_.map((function(t){return M_(t,e)})),r=new xp(n);return new jp(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(e_),a_=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).d_=n,r}return Object(nu.c)(e,t),e.prototype.c_=function(t){var e=new Ip(t.serializer,Gf(t.serializer,this.d_));return new jp(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(e_),u_=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ed(Sd.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ed(Sd.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.w_=t,this.T_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.w_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.T_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.w_===t.w_&&this.T_===t.T_},t.prototype.toJSON=function(){return{latitude:this.w_,longitude:this.T_}},t.prototype.I=function(t){return bd(this.w_,t.w_)||bd(this.T_,t.T_)},t}(),c_=function(){function t(t){this.E_=t}return t.fromBase64String=function(e){try{return new t(qd.fromBase64String(e))}catch(e){throw new Ed(Sd.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(qd.fromUint8Array(e))},t.prototype.toBase64=function(){return this.E_.toBase64()},t.prototype.toUint8Array=function(){return this.E_.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.E_.isEqual(t.E_)},t}(),l_=new Map,h_=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Ed(Sd.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ed(Sd.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Xv("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}();function d_(){if("undefined"==typeof Uint8Array)throw new Ed(Sd.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function f_(){if("undefined"==typeof atob)throw new Ed(Sd.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var p_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(nu.c)(e,t),e.fromBase64String=function(t){f_();try{return new e(qd.fromBase64String(t))}catch(t){throw new Ed(Sd.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},e.fromUint8Array=function(t){return d_(),new e(qd.fromUint8Array(t))},e.prototype.toBase64=function(){return f_(),t.prototype.toBase64.call(this)},e.prototype.toUint8Array=function(){return d_(),t.prototype.toUint8Array.call(this)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(c_),g_=function(){function t(){}return t.prototype.I_=function(t,e){switch(void 0===e&&(e="none"),Ef(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Af(t.integerValue||t.doubleValue);case 3:return this.m_(t.timestampValue);case 4:return this.A_(t,e);case 5:return t.stringValue;case 6:return this.R_(jf(t.bytesValue));case 7:return this.P_(t.referenceValue);case 8:return this.g_(t.geoPointValue);case 9:return this.V_(t.arrayValue,e);case 10:return this.y_(t.mapValue,e);default:throw dd()}},t.prototype.y_=function(t,e){var n=this,r={};return wd(t.fields||{},(function(t,i){r[t]=n.I_(i,e)})),r},t.prototype.g_=function(t){return new u_(Af(t.latitude),Af(t.longitude))},t.prototype.V_=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.I_(t,e)}))},t.prototype.A_=function(t,e){switch(e){case"previous":var n=function t(e){var n=e.mapValue.fields.__previous_value__;return Of(n)?t(n):n}(t);return null==n?null:this.I_(n,e);case"estimate":return this.m_(Cf(t));default:return null}},t.prototype.m_=function(t){var e=Pf(t);return new Td(e.seconds,e.nanos)},t.prototype.p_=function(t,e){var n=Id.k(t);fd(vp(n));var r=new sd(n.get(1),n.get(3)),i=new Ad(n.v(5));return r.isEqual(e)||cd("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),m_=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(nu.c)(e,t),e.prototype.R_=function(t){return new p_(t)},e.prototype.P_=function(t){var e=this.p_(t,this.firestore.v_);return Cw.b_(e,this.firestore,null)},e}(g_),b_=function(){function t(t,e,n,r,i){this.S_=t,this.D_=e,this.C_=n,this.N_=r,this.x_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.C_.path.C()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new w_(this.S_,this.x_,this.C_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.N_},t.prototype.data=function(){if(this.N_){if(this.x_){var t=new y_(this.S_,this.D_,this.C_,this.N_,null);return this.x_.fromFirestore(t)}return this.D_.I_(this.N_.sn())}},t.prototype.get=function(t){if(this.N_){var e=this.N_.data().field(v_("DocumentSnapshot.get",t));if(null!==e)return this.D_.I_(e)}},t}(),y_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(nu.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(b_);function v_(t,e){return"string"==typeof e?q_(t,e):e instanceof Kv?e.o_.F_:e.F_}var __=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Ed(Sd.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.F_=new Pd(t)}return t.prototype.isEqual=function(t){return this.F_.isEqual(t.F_)},t}(),w_=function(){function t(t,e,n){this.x_=e,this.C_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"O_",{get:function(){return this.C_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.C_.path.C()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.C_.path.M()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new C_(this.firestore,this.x_,this.C_.path.S())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),O_=function(){function t(t,e,n){this.x_=e,this.M_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.M_)},t}(),C_=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,og(r))||this).firestore=e,i.O_=r,i.type="collection",i}return Object(nu.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.M_.path.C()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.M_.path.M()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.O_.S();return t.T()?null:new w_(this.firestore,null,new Ad(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.O_)},e}(O_);function S_(t){var e=t.k_(),n=ym(t.v_);return new N_(t.v_,!!e.ignoreUndefinedProperties,n)}var E_=/^__.*__$/,T_=function(){function t(t,e,n){this.data=t,this.Qe=e,this.fieldTransforms=n}return t.prototype.L_=function(t,e){var n=[];return n.push(null!==this.Qe?new zp(t,this.data,this.Qe,e):new Hp(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new $p(t,this.fieldTransforms)),n},t}(),x_=function(){function t(t,e,n){this.data=t,this.Qe=e,this.fieldTransforms=n}return t.prototype.L_=function(t,e){var n=[new zp(t,this.data,this.Qe,e)];return this.fieldTransforms.length>0&&n.push(new $p(t,this.fieldTransforms)),n},t}();function k_(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dd()}}var I_=function(){function t(t,e,n,r,i,s){this.settings=t,this.t=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.B_(),this.fieldTransforms=i||[],this.Qe=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"u_",{get:function(){return this.settings.u_},enumerable:!1,configurable:!0}),t.prototype.q_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.t,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.Qe)},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.q_({path:n,__:!1});return r.Q_(t),r},t.prototype.K_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.q_({path:n,__:!1});return r.B_(),r},t.prototype.W_=function(t){return this.q_({path:void 0,__:!0})},t.prototype.h_=function(t){return B_(t,this.settings.methodName,this.settings.j_||!1,this.path,this.settings.l_)},t.prototype.contains=function(t){return void 0!==this.Qe.find((function(e){return t.N(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.N(e.field)}))},t.prototype.B_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Q_(this.path.get(t))},t.prototype.Q_=function(t){if(0===t.length)throw this.h_("Document fields must not be empty");if(k_(this.u_)&&E_.test(t))throw this.h_('Document fields cannot begin and end with "__"')},t}(),N_=function(){function t(t,e,n){this.t=t,this.ignoreUndefinedProperties=e,this.serializer=n||ym(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new I_({u_:t,methodName:e,l_:n,path:Pd.$(),__:!1,j_:r},this.t,this.serializer,this.ignoreUndefinedProperties)},t}();function P_(t,e,n,r,i,s){void 0===s&&(s={});var o=t.G_(s.merge||s.mergeFields?2:0,e,n,i);F_("Data must be an object, but it was:",o,r);var a,u,c=D_(r,o);if(s.merge)a=new Ap(o.Qe),u=o.fieldTransforms;else if(s.mergeFields){for(var l=[],h=0,d=s.mergeFields;h<d.length;h++){var f=V_(e,d[h],n);if(!o.contains(f))throw new Ed(Sd.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");H_(l,f)||l.push(f)}a=new Ap(l),u=o.fieldTransforms.filter((function(t){return a.He(t.field)}))}else a=null,u=o.fieldTransforms;return new T_(new Xp(c),a,u)}function A_(t,e,n,r){var i=t.G_(1,e,n);F_("Data must be an object, but it was:",i,r);var s=[],o=new Zp;wd(r,(function(t,r){var a=q_(e,t,n);r instanceof Kv&&(r=r.o_);var u=i.K_(a);if(r instanceof n_)s.push(a);else{var c=M_(r,u);null!=c&&(s.push(a),o.set(a,c))}}));var a=new Ap(s);return new x_(o.Ye(),a,i.fieldTransforms)}function j_(t,e,n,r,i,s){var o=t.G_(1,e,n),a=[V_(e,r,n)],u=[i];if(s.length%2!=0)throw new Ed(Sd.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<s.length;c+=2)a.push(V_(e,s[c])),u.push(s[c+1]);for(var l=[],h=new Zp,d=a.length-1;d>=0;--d)if(!H_(l,a[d])){var f=a[d],p=u[d];p instanceof Kv&&(p=p.o_);var g=o.K_(f);if(p instanceof n_)l.push(f);else{var m=M_(p,g);null!=m&&(l.push(f),h.set(f,m))}}var b=new Ap(l);return new x_(h.Ye(),b,o.fieldTransforms)}function R_(t,e,n,r){return void 0===r&&(r=!1),M_(n,t.G_(r?4:3,e))}function M_(t,e){if(t instanceof Kv&&(t=t.o_),L_(t))return F_("Unsupported field value:",e,t),D_(t,e);if(t instanceof e_)return function(t,e){if(!k_(e.u_))throw e.h_(t.a_+"() can only be used with update() and set()");if(!e.path)throw e.h_(t.a_+"() is not currently supported inside arrays");var n=t.c_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.Qe.push(e.path),t instanceof Array){if(e.settings.__&&4!==e.u_)throw e.h_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=M_(s[i],e.W_(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof Kv&&(t=t.o_),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Gf(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Td.fromDate(t);return{timestampValue:$f(e.serializer,n)}}if(t instanceof Td){var r=new Td(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:$f(e.serializer,r)}}if(t instanceof u_)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof c_)return{bytesValue:Wf(e.serializer,t.E_)};if(t instanceof w_){var i=e.t,s=t.firestore.v_;if(!s.isEqual(i))throw e.h_("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:Jf(t.firestore.v_||e.t,t.C_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.h_("Unsupported field value: "+Zv(t))}(t,e)}function D_(t,e){var n={};return Od(t)?e.path&&e.path.length>0&&e.Qe.push(e.path):wd(t,(function(t,r){var i=M_(r,e.U_(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function L_(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Td||t instanceof u_||t instanceof c_||t instanceof w_||t instanceof e_)}function F_(t,e,n){if(!L_(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Zv(n);throw e.h_("an object"===r?t+" a custom object":t+" "+r)}}function V_(t,e,n){if(e instanceof Kv&&(e=e.o_),e instanceof __)return e.F_;if("string"==typeof e)return q_(t,e);throw B_("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var U_=new RegExp("[~\\*/\\[\\]]");function q_(t,e,n){if(e.search(U_)>=0)throw B_("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(__.bind.apply(__,Object(nu.g)([void 0],e.split("."))))).F_}catch(r){throw B_("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function B_(t,e,n,r,i){var s=r&&!r.T(),o=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(s||o)&&(u+=" (found",s&&(u+=" in field "+r),o&&(u+=" in document "+i),u+=")"),new Ed(Sd.INVALID_ARGUMENT,(a+=". ")+t+u)}function H_(t,e){return t.some((function(t){return t.isEqual(e)}))}var z_=function(){function t(t){this.Wc=t,this.z_=new Map,this.mutations=[],this.H_=!1,this.J_=null,this.Y_=new Set}return t.prototype.X_=function(t){return Object(nu.b)(this,void 0,void 0,(function(){var e,n=this;return Object(nu.d)(this,(function(r){switch(r.label){case 0:if(this.Z_(),this.mutations.length>0)throw new Ed(Sd.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(nu.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a;return Object(nu.d)(this,(function(u){switch(u.label){case 0:return n=pd(t),r=np(n.serializer)+"/documents",i={documents:e.map((function(t){return Zf(n.serializer,t)}))},[4,n.Fc("BatchGetDocuments",r,i)];case 1:return s=u.sent(),o=new Map,s.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){fd(!!e.found);var n=Yf(t,e.found.name),r=Qf(e.found.updateTime),i=new Xp({mapValue:{fields:e.found.fields}});return new eg(n,r,i,{})}(t,e):"missing"in e?function(t,e){fd(!!e.missing),fd(!!e.readTime);var n=Yf(t,e.missing),r=Qf(e.readTime);return new ng(n,r)}(t,e):dd()}(n.serializer,t);o.set(e.key.toString(),e)})),a=[],[2,(e.forEach((function(t){var e=o.get(t.toString());fd(!!e),a.push(e)})),a)]}}))}))}(this.Wc,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof ng||t instanceof eg?n.tf(t):dd()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.L_(t,this.je(t))),this.Y_.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.L_(t,this.ef(t)))}catch(t){this.J_=t}this.Y_.add(t.toString())},t.prototype.delete=function(t){this.write([new Qp(t,this.je(t))]),this.Y_.add(t.toString())},t.prototype.commit=function(){return Object(nu.b)(this,void 0,void 0,(function(){var t,e=this;return Object(nu.d)(this,(function(n){switch(n.label){case 0:if(this.Z_(),this.J_)throw this.J_;return t=this.z_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=Ad.K(n);e.mutations.push(new Jp(r,e.je(r)))})),[4,function(t,e){return Object(nu.b)(this,void 0,void 0,(function(){var n,r,i;return Object(nu.d)(this,(function(s){switch(s.label){case 0:return n=pd(t),r=np(n.serializer)+"/documents",i={writes:e.map((function(t){return sp(n.serializer,t)}))},[4,n.xc("Commit",r,i)];case 1:return s.sent(),[2]}}))}))}(this.Wc,this.mutations)];case 1:return n.sent(),this.H_=!0,[2]}}))}))},t.prototype.tf=function(t){var e;if(t instanceof eg)e=t.version;else{if(!(t instanceof ng))throw dd();e=xd.min()}var n=this.z_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Ed(Sd.ABORTED,"Document version changed between two reads.")}else this.z_.set(t.key.toString(),e)},t.prototype.je=function(t){var e=this.z_.get(t.toString());return!this.Y_.has(t.toString())&&e?Mp.updateTime(e):Mp.Ge()},t.prototype.ef=function(t){var e=this.z_.get(t.toString());if(!this.Y_.has(t.toString())&&e){if(e.isEqual(xd.min()))throw new Ed(Sd.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Mp.updateTime(e)}return Mp.exists(!0)},t.prototype.write=function(t){this.Z_(),this.mutations=this.mutations.concat(t)},t.prototype.Z_=function(){},t}(),G_=function(){function t(t,e,n,r){this.rs=t,this.Wc=e,this.updateFunction=n,this.us=r,this.nf=5,this.Ps=new Vg(this.rs,"transaction_retry")}return t.prototype.run=function(){this.sf()},t.prototype.sf=function(){var t=this;this.Ps.An((function(){return Object(nu.b)(t,void 0,void 0,(function(){var t,e,n=this;return Object(nu.d)(this,(function(r){return t=new z_(this.Wc),(e=this.rf(t))&&e.then((function(e){n.rs.fs((function(){return t.commit().then((function(){n.us.resolve(e)})).catch((function(t){n.af(t)}))}))})).catch((function(t){n.af(t)})),[2]}))}))}))},t.prototype.rf=function(t){try{var e=this.updateFunction(t);return!jd(e)&&e.catch&&e.then?e:(this.us.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.us.reject(t),null}},t.prototype.af=function(t){var e=this;this.nf>0&&this.cf(t)?(this.nf-=1,this.rs.fs((function(){return e.sf(),Promise.resolve()}))):this.us.reject(t)},t.prototype.cf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!$d(e)}return!1},t}(),$_=function(){function t(t,e,n){var r=this;this.credentials=t,this.rs=e,this.Fl=n,this.user=cm.UNAUTHENTICATED,this.clientId=md.u(),this.uf=function(){},this.oi=new Fg,this.credentials.si((function(t){ud("FirestoreClient","Received user=",t.uid),r.user.isEqual(t)||(r.user=t,r.uf(t)),r.oi.resolve()}))}return t.prototype.getConfiguration=function(){return Object(nu.b)(this,void 0,void 0,(function(){return Object(nu.d)(this,(function(t){switch(t.label){case 0:return[4,this.oi.promise];case 1:return[2,(t.sent(),{rs:this.rs,Fl:this.Fl,clientId:this.clientId,credentials:this.credentials,Yl:this.user,$h:100})]}}))}))},t.prototype.hf=function(t){var e=this;this.uf=t,this.oi.promise.then((function(){return e.uf(e.user)}))},t.prototype.lf=function(){if(this.rs.Vs)throw new Ed(Sd.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.rs.bs();var e=new Fg;return this.rs.ys((function(){return Object(nu.b)(t,void 0,void 0,(function(){var t,n;return Object(nu.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this._f?[4,this._f.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.ff?[4,this.ff.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.ii(),e.resolve(),[3,6];case 5:return t=r.sent(),n=tm(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function W_(t,e){return Object(nu.b)(this,void 0,void 0,(function(){var n,r=this;return Object(nu.d)(this,(function(i){switch(i.label){case 0:return t.rs.Ns(),ud("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=i.sent(),[4,e.initialize(n)];case 2:return i.sent(),t.hf((function(n){return t.rs.Ss((function(){return Object(nu.b)(r,void 0,void 0,(function(){return Object(nu.d)(this,(function(t){switch(t.label){case 0:return[4,Gb(e.Kc,n)];case 1:return t.sent(),[2]}}))}))}))})),e.persistence.fa((function(){return t.terminate()})),t.ff=e,[2]}}))}))}function K_(t,e){return Object(nu.b)(this,void 0,void 0,(function(){var n,r;return Object(nu.d)(this,(function(i){switch(i.label){case 0:return t.rs.Ns(),[4,Q_(t)];case 1:return n=i.sent(),ud("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.hf((function(n){return t.rs.Ss((function(){return function(t,e){return Object(nu.b)(this,void 0,void 0,(function(){var n,r;return Object(nu.d)(this,(function(i){switch(i.label){case 0:return(n=pd(t)).rs.Ns(),ud("RemoteStore","RemoteStore received new credentials"),r=by(n),n.Hc.add(3),[4,ly(n)];case 1:return i.sent(),r&&n.Zc.set("Unknown"),[4,n.jc.s_(e)];case 2:return i.sent(),n.Hc.delete(3),[4,cy(n)];case 3:return i.sent(),[2]}}))}))}(e.Oh,n)}))})),t._f=e,[2]}}))}))}function Q_(t){return Object(nu.b)(this,void 0,void 0,(function(){return Object(nu.d)(this,(function(e){switch(e.label){case 0:return t.ff?[3,2]:(ud("FirestoreClient","Using default OfflineComponentProvider"),[4,W_(t,new Hv)]);case 1:e.sent(),e.label=2;case 2:return[2,t.ff]}}))}))}function J_(t){return Object(nu.b)(this,void 0,void 0,(function(){return Object(nu.d)(this,(function(e){switch(e.label){case 0:return t._f?[3,2]:(ud("FirestoreClient","Using default OnlineComponentProvider"),[4,K_(t,new $v)]);case 1:e.sent(),e.label=2;case 2:return[2,t._f]}}))}))}function X_(t){return Q_(t).then((function(t){return t.persistence}))}function Z_(t){return Q_(t).then((function(t){return t.Kc}))}function Y_(t){return J_(t).then((function(t){return t.Oh}))}function tw(t){return J_(t).then((function(t){return t.gu}))}function ew(t){return Object(nu.b)(this,void 0,void 0,(function(){var e,n;return Object(nu.d)(this,(function(r){switch(r.label){case 0:return[4,J_(t)];case 1:return e=r.sent(),[2,((n=e.Mh).Ls=Zy.bind(null,e.gu),n.Us=tv.bind(null,e.gu),n)]}}))}))}function nw(t,e){var n=this,r=new Fg;return t.rs.fs((function(){return Object(nu.b)(n,void 0,void 0,(function(){var n;return Object(nu.d)(this,(function(i){switch(i.label){case 0:return n=ev,[4,tw(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}function rw(t,e,n){return Object(nu.b)(this,void 0,void 0,(function(){var r,i,s;return Object(nu.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=pd(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Ga.Oi(t,e)}))}(t,e)];case 1:return(r=o.sent())instanceof eg?n.resolve(r):r instanceof ng?n.resolve(null):n.reject(new Ed(Sd.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return i=o.sent(),s=tm(i,"Failed to get document '"+e+" from cache"),n.reject(s),[3,3];case 3:return[2]}}))}))}function iw(t,e,n,r,i){var s=new Wv({next:function(s){e.fs((function(){return im(t,o)}));var a=s.docs.has(n);!a&&s.fromCache?i.reject(new Ed(Sd.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new Ed(Sd.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:function(t){return i.reject(t)}}),o=new um(og(n.path),s,{includeMetadataChanges:!0,Hs:!0});return rm(t,o)}var sw=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).yf=new Yg,r.df="name"in e?e.name:"[DEFAULT]",r}return Object(nu.c)(e,t),e.prototype.Vf=function(){return this.pf||_w(this),this.pf.terminate()},e}(function(){function t(t,e){this.df="(lite)",this.wf=new h_({}),this.Tf=!1,t instanceof sd?(this.v_=t,this.Ef=new hm):(this.If=t,this.v_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Ed(Sd.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sd(t.options.projectId)}(t),this.Ef=new dm(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.If)throw new Ed(Sd.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.If},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mf",{get:function(){return this.Tf},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Af",{get:function(){return void 0!==this.Rf},enumerable:!1,configurable:!0}),t.prototype.Pf=function(t){if(this.Tf)throw new Ed(Sd.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.wf=new h_(t),void 0!==t.credentials&&(this.Ef=function(t){if(!t)return new hm;switch(t.type){case"gapi":var e=t.client;return fd(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new pm(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new Ed(Sd.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.gf=function(){return this.wf},t.prototype.k_=function(){return this.Tf=!0,this.wf},t.prototype._delete=function(){return this.Rf||(this.Rf=this.Vf()),this.Rf},t.prototype.Vf=function(){return function(t){var e=l_.get(t);e&&(ud("ComponentProvider","Removing Datastore"),l_.delete(t),e.terminate())}(this),Promise.resolve()},t}());function ow(t,e,n){var r=this,i=new Fg;return t.rs.enqueue((function(){return Object(nu.b)(r,void 0,void 0,(function(){var r;return Object(nu.d)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,W_(t,n)];case 1:return s.sent(),[4,K_(t,e)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Sd.FAILED_PRECONDITION||t.code===Sd.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=s.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function aw(t){if(t.mf||t.Af)throw new Ed(Sd.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var uw=function(t){function e(e,n,r,i,s,o){var a=this;return(a=t.call(this,e,n,r,i,o)||this).S_=e,a.vf=e,a.metadata=s,a}return Object(nu.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.N_){if(this.x_){var e=new cw(this.S_,this.D_,this.C_,this.N_,this.metadata,null);return this.x_.fromFirestore(e,t)}return this.D_.I_(this.N_.sn(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.N_){var n=this.N_.data().field(v_("DocumentSnapshot.get",t));if(null!==n)return this.D_.I_(n,e.serverTimestamps)}},e}(b_),cw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(nu.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(uw),lw=function(){function t(t,e,n,r){this.S_=t,this.D_=e,this.bf=r,this.metadata=new Ew(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.bf.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.bf.docs.forEach((function(r){t.call(e,new cw(n.S_,n.D_,r.key,r,new Ew(n.bf.Qt.has(r.key),n.bf.fromCache),n.query.x_))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.bf.Wt)throw new Ed(Sd.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Sf&&this.Df===e||(this.Sf=function(t,e){if(t.bf.Ut.T()){var n=0;return t.bf.docChanges.map((function(e){return{type:"added",doc:new cw(t.S_,t.D_,e.doc.key,e.doc,new Ew(t.bf.Qt.has(e.doc.key),t.bf.fromCache),t.query.x_),oldIndex:-1,newIndex:n++}}))}var r=t.bf.Ut;return t.bf.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new cw(t.S_,t.D_,e.doc.key,e.doc,new Ew(t.bf.Qt.has(e.doc.key),t.bf.fromCache),t.query.x_),i=-1,s=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(s=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:hw(e.type),doc:n,oldIndex:i,newIndex:s}}))}(this,e),this.Df=e),this.Sf},t}();function hw(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dd()}}function dw(t,e){return t instanceof uw&&e instanceof uw?t.S_===e.S_&&t.C_.isEqual(e.C_)&&(null===t.N_?null===e.N_:t.N_.isEqual(e.N_))&&t.x_===e.x_:t instanceof lw&&e instanceof lw&&t.S_===e.S_&&function(t,e){return t instanceof O_&&e instanceof O_&&t.firestore===e.firestore&&bg(t.M_,e.M_)&&t.x_===e.x_}(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.bf.isEqual(e.bf)}var fw=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(nu.c)(e,t),e.prototype.R_=function(t){return new c_(t)},e.prototype.P_=function(t){var e=this.p_(t,this.firestore.v_);return new w_(this.firestore,null,e)},e}(g_);function pw(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s=Yv(t.firestore,sw),o=S_(s);return e instanceof Kv&&(e=e.o_),gw(s,("string"==typeof e||e instanceof __?j_(o,"updateDoc",t.C_,e,n,r):A_(o,"updateDoc",t.C_,e)).L_(t.C_,Mp.exists(!0)))}function gw(t,e){return nw(vw(t),e)}function mw(t,e,n){var r=n.docs.get(e.C_),i=new fw(t);return new uw(t,i,e.C_,r,new Ew(n.hasPendingWrites,n.fromCache),e.x_)}var bw=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){aw(t);var n=vw(t),r=t.k_(),i=new $v;return ow(n,i,new zv(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t.o_,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){aw(t);var e=vw(t),n=t.k_(),r=new $v;return ow(e,r,new Gv(r,n.cacheSizeBytes))}(t.o_)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.mf&&!t.Af)throw new Ed(Sd.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Fg;return t.yf.ys((function(){return Object(nu.b)(e,void 0,void 0,(function(){var e;return Object(nu.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(nu.b)(this,void 0,void 0,(function(){return Object(nu.d)(this,(function(e){switch(e.label){case 0:return qg.kn()?[4,qg.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(Bb(t.v_,t.df))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t.o_)},t}(),yw=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Cf=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof sd||(i.Nf=e),i}return Object(nu.c)(e,t),Object.defineProperty(e.prototype,"v_",{get:function(){return this.o_.v_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.o_.gf()),t)).merge,this.o_.Pf(t)},e.prototype.useEmulator=function(t,e){"firestore.googleapis.com"!==this.o_.gf().host&&ld("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:t+":"+e,ssl:!1,merge:!0})},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.rs.enqueue((function(){return Object(nu.b)(e,void 0,void 0,(function(){var e,n;return Object(nu.d)(this,(function(r){switch(r.label){case 0:return[4,X_(t)];case 1:return e=r.sent(),[4,Y_(t)];case 2:return n=r.sent(),[2,(e.da(!0),function(t){var e=pd(t);return e.Hc.delete(0),cy(e)}(n))]}}))}))}))}(vw(this.o_))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.rs.enqueue((function(){return Object(nu.b)(e,void 0,void 0,(function(){var e,n;return Object(nu.d)(this,(function(r){switch(r.label){case 0:return[4,X_(t)];case 1:return e=r.sent(),[4,Y_(t)];case 2:return n=r.sent(),[2,(e.da(!1),function(t){return Object(nu.b)(this,void 0,void 0,(function(){var e;return Object(nu.d)(this,(function(n){switch(n.label){case 0:return(e=pd(t)).Hc.add(0),[4,ly(e)];case 1:return n.sent(),e.Zc.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(vw(this.o_))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Xv("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Cf.enableMultiTabIndexedDbPersistence(this):this.Cf.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Cf.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this.o_._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Fg;return t.rs.fs((function(){return Object(nu.b)(e,void 0,void 0,(function(){var e;return Object(nu.d)(this,(function(r){switch(r.label){case 0:return e=av,[4,tw(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(vw(this.o_))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){var n=this,r=vw(t),i=vm(e)?e:{next:e},s=new Wv(i);return t.yf.fs((function(){return Object(nu.b)(n,void 0,void 0,(function(){var t;return Object(nu.d)(this,(function(e){switch(e.label){case 0:return t=function(t,e){pd(t).$s.add(e),e.next()},[4,ew(r)];case 1:return t.apply(void 0,[e.sent(),s]),[2]}}))}))})),function(){s.r_(),t.yf.fs((function(){return Object(nu.b)(n,void 0,void 0,(function(){var t;return Object(nu.d)(this,(function(e){switch(e.label){case 0:return t=function(t,e){pd(t).$s.delete(e)},[4,ew(r)];case 1:return t.apply(void 0,[e.sent(),s]),[2]}}))}))}))}}(this.o_,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Nf)throw new Ed(Sd.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Nf},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){return Qv("Firestore.collection","path",t),vw(this.o_),new Mw(Id.k(t),this,null)},e.prototype.doc=function(t){return Qv("Firestore.doc","path",t),vw(this.o_),Cw.xf(Id.k(t),this,null)},e.prototype.collectionGroup=function(t){if(Qv("Firestore.collectionGroup","collectionId",t),t.indexOf("/")>=0)throw new Ed(Sd.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return vw(this.o_),new Aw(function(t){return new ig(Id.$(),t)}(t),this,null)},e.prototype.runTransaction=function(t){var e=this;return function(t,e){var n=this,r=new Fg;return t.rs.fs((function(){return Object(nu.b)(n,void 0,void 0,(function(){var n;return Object(nu.d)(this,(function(i){switch(i.label){case 0:return[4,function(t){return J_(t).then((function(t){return t.Wc}))}(t)];case 1:return n=i.sent(),new G_(t.rs,n,e,r).run(),[2]}}))}))})),r.promise}(vw(this.o_),(function(n){return t(new ww(e,n))}))},e.prototype.batch=function(){return vw(this.o_),new Ow(this)},e}(Kv);function vw(t){return t.pf||_w(t),t.pf.lf(),t.pf}function _w(t){var e=t.k_(),n=function(t,e,n){return new id(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.v_,t.df,e);t.pf=new $_(t.Ef,t.yf,n)}var ww=function(){function t(t,e){this.S_=t,this.Ff=e,this.Of=S_(this.S_.o_)}return t.prototype.get=function(t){var e=this,n=Dw(0,t,this.S_),r=new m_(this.S_);return this.Ff.X_([n.C_]).then((function(t){if(!t||1!==t.length)return dd();var i=t[0];if(i instanceof ng)return new Tw(e.S_,new uw(e.S_.o_,r,n.C_,null,new Ew(!1,!1),n.x_));if(i instanceof eg)return new Tw(e.S_,new uw(e.S_.o_,r,n.C_,i,new Ew(!1,!1),n.x_));throw dd()}))},t.prototype.set=function(t,e,n){var r=Dw(0,t,this.S_);n=Jv("Transaction.set",n);var i=Lw(r.x_,e,n),s=P_(this.Of,"Transaction.set",r.C_,i,null!==r.x_,n);return this.Ff.set(r.C_,s),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s,o=Dw(0,t,this.S_);return e instanceof Kv&&(e=e.o_),s="string"==typeof e||e instanceof __?j_(this.Of,"Transaction.update",o.C_,e,n,r):A_(this.Of,"Transaction.update",o.C_,e),this.Ff.update(o.C_,s),this},t.prototype.delete=function(t){var e=Dw(0,t,this.S_);return this.Ff.delete(e.C_),this},t}(),Ow=function(){function t(t){this.S_=t,this.Mf=[],this.kf=!1,this.Of=S_(this.S_.o_)}return t.prototype.set=function(t,e,n){this.$f();var r=Dw(0,t,this.S_);n=Jv("WriteBatch.set",n);var i=Lw(r.x_,e,n),s=P_(this.Of,"WriteBatch.set",r.C_,i,null!==r.x_,n);return this.Mf=this.Mf.concat(s.L_(r.C_,Mp.Ge())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.$f();var s,o=Dw(0,t,this.S_);return e instanceof Kv&&(e=e.o_),s="string"==typeof e||e instanceof __?j_(this.Of,"WriteBatch.update",o.C_,e,n,r):A_(this.Of,"WriteBatch.update",o.C_,e),this.Mf=this.Mf.concat(s.L_(o.C_,Mp.exists(!0))),this},t.prototype.delete=function(t){this.$f();var e=Dw(0,t,this.S_);return this.Mf=this.Mf.concat(new Qp(e.C_,Mp.Ge())),this},t.prototype.commit=function(){return this.$f(),this.kf=!0,this.Mf.length>0?nw(vw(this.S_.o_),this.Mf):Promise.resolve()},t.prototype.$f=function(){if(this.kf)throw new Ed(Sd.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),Cw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.D_=new m_(e),r}return Object(nu.c)(e,t),e.xf=function(t,n,r){if(t.length%2!=0)throw new Ed(Sd.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.M()+" has "+t.length);return new e(n,new w_(n.o_,r,new Ad(t)))},e.b_=function(t,n,r){return new e(n,new w_(n.o_,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Mw(this.o_.O_.S(),this.firestore,this.o_.x_)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.o_.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){if(Qv("DocumentReference.collection","path",t),!t)throw new Ed(Sd.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=Id.k(t);return new Mw(this.o_.O_.child(e),this.firestore,null)},e.prototype.isEqual=function(t){return t instanceof Kv&&(t=t.o_),t instanceof w_&&(n=t,((e=this.o_)instanceof w_||e instanceof C_)&&(n instanceof w_||n instanceof C_)&&e.firestore===n.firestore&&e.path===n.path&&e.x_===n.x_);var e,n},e.prototype.set=function(t,e){e=Jv("DocumentReference.set",e);try{return function(t,e,n){var r=Yv(t.firestore,sw),i=Lw(t.x_,e,n);return gw(r,P_(S_(r),"setDoc",t.C_,i,null!==t.x_,n).L_(t.C_,Mp.Ge()))}(this.o_,t,e)}catch(t){throw Sw(t,"setDoc","DocumentReference.set")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?pw(this.o_,t):pw.apply(void 0,Object(nu.g)([this.o_,t,e],n))}catch(t){throw Sw(t,"updateDoc","DocumentReference.update")}},e.prototype.delete=function(){return gw(Yv((t=this.o_).firestore,sw),[new Qp(t.C_,Mp.Ge())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!vm(r))return r}return{}}(e),i=function(e,n){var r,i,s;return{next:function(e){s.next&&s.next(function(e){return new Tw(t.firestore,new uw(t.firestore.o_,t.D_,e.C_,e.N_,e.metadata,t.o_.x_))}(e))},error:null===(r=(s=vm(e[0])?e[0]:vm(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===r?void 0:r.bind(s),complete:null===(i=s.complete)||void 0===i?void 0:i.bind(s)}}(e);return function(t){for(var e,n,r,i=this,s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];var a={includeMetadataChanges:!1},u=0;"object"!=typeof s[u]||vm(s[u])||(a=s[u],u++);var c,l,h,d={includeMetadataChanges:a.includeMetadataChanges};if(vm(s[u])){var f=s[u];s[u]=null===(e=f.next)||void 0===e?void 0:e.bind(f),s[u+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),s[u+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof w_)l=Yv(t.firestore,sw),h=og(t.C_.path),c={next:function(e){s[u]&&s[u](mw(l,t,e))},error:s[u+1],complete:s[u+2]};else{l=Yv(t.firestore,sw),h=t.M_;var p=new fw(l);c={next:function(e){s[u]&&s[u](new lw(l,p,t,e))},error:s[u+1],complete:s[u+2]},Pw(t.M_)}var g=vw(l),m=new Wv(c),b=new um(h,m,d);return l.yf.fs((function(){return Object(nu.b)(i,void 0,void 0,(function(){var t;return Object(nu.d)(this,(function(e){switch(e.label){case 0:return t=rm,[4,ew(g)];case 1:return[2,t.apply(void 0,[e.sent(),b])]}}))}))})),function(){m.r_(),l.yf.fs((function(){return Object(nu.b)(i,void 0,void 0,(function(){var t;return Object(nu.d)(this,(function(e){switch(e.label){case 0:return t=im,[4,ew(g)];case 1:return[2,t.apply(void 0,[e.sent(),b])]}}))}))}))}}(this.o_,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){var e=this,n=Yv(t.firestore,sw),r=vw(n),i=new fw(n),s=new Fg;return n.yf.fs((function(){return Object(nu.b)(e,void 0,void 0,(function(){return Object(nu.d)(this,(function(e){switch(e.label){case 0:return[4,Z_(r)];case 1:return[4,rw(e.sent(),t.C_,s)];case 2:return e.sent(),[2]}}))}))})),s.promise.then((function(e){return new uw(n,i,t.C_,e,new Ew(e instanceof eg&&e.Je,!0),t.x_)}))}(this.o_):"server"===(null==t?void 0:t.source)?function(t){var e=this,n=Yv(t.firestore,sw),r=vw(n),i=new Fg;return n.yf.fs((function(){return Object(nu.b)(e,void 0,void 0,(function(){return Object(nu.d)(this,(function(e){switch(e.label){case 0:return[4,ew(r)];case 1:return[4,iw(e.sent(),n.yf,t.C_,{source:"server"},i)];case 2:return e.sent(),[2]}}))}))})),i.promise.then((function(e){return mw(n,t,e)}))}(this.o_):function(t){var e=this,n=Yv(t.firestore,sw),r=vw(n),i=new Fg;return n.yf.fs((function(){return Object(nu.b)(e,void 0,void 0,(function(){return Object(nu.d)(this,(function(e){switch(e.label){case 0:return[4,ew(r)];case 1:return[4,iw(e.sent(),n.yf,t.C_,{source:"default"},i)];case 2:return e.sent(),[2]}}))}))})),i.promise.then((function(e){return mw(n,t,e)}))}(this.o_)).then((function(t){return new Tw(e.firestore,new uw(e.firestore.o_,e.D_,t.C_,t.N_,t.metadata,e.o_.x_))}))},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(Kv);function Sw(t,e,n){return t.message=t.message.replace(e+"()",n+"()"),t}var Ew=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Tw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).S_=e,r}return Object(nu.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new Cw(this.S_,this.o_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this.o_.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this.o_.data(t)},e.prototype.get=function(t,e){return this.o_.get(t,e)},e.prototype.isEqual=function(t){return dw(this.o_,t.o_)},e}(Kv),xw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(nu.c)(e,t),e.prototype.data=function(t){return this.o_.data(t)},e}(Tw);function kw(t,e,n){if(n instanceof Kv&&(n=n.o_),"string"==typeof n){if(""===n)throw new Ed(Sd.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!hg(e)&&-1!==n.indexOf("/"))throw new Ed(Sd.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Id.k(n));if(!Ad.G(r))throw new Ed(Sd.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Rf(t,new Ad(r))}if(n instanceof w_)return Rf(t,n.C_);throw new Ed(Sd.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Zv(n)+".")}function Iw(t,e){if(!Array.isArray(t)||0===t.length)throw new Ed(Sd.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Ed(Sd.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Nw(t,e,n){if(!n.isEqual(e))throw new Ed(Sd.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function Pw(t){if(ug(t)&&0===t.rn.length)throw new Ed(Sd.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Aw=function(){function t(t,e,n){this.M_=t,this.firestore=e,this.x_=n,this.Lf=S_(e.o_),this.D_=new m_(e)}return t.prototype.where=function(e,n,r){var i=V_("Query.where",e),s=function(t,e,n,r,i,s,o){var a;if(i.B()){if("array-contains"===s||"array-contains-any"===s)throw new Ed(Sd.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){Iw(o,s);for(var u=[],c=0,l=o;c<l.length;c++)u.push(kw(r,t,l[c]));a={arrayValue:{values:u}}}else a=kw(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Iw(o,s),a=R_(n,"Query.where",o,"in"===s||"not-in"===s);var h=Og.create(i,s,a);return function(t,e){if(e.cn()){var n=lg(t);if(null!==n&&!n.isEqual(e.field))throw new Ed(Sd.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=cg(t);null!==r&&Nw(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Ed(Sd.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(this.M_,0,this.Lf,this.firestore.v_,i,n,r);return new t(function(t,e){var n=t.filters.concat([e]);return new ig(t.path,t.collectionGroup,t.rn.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(this.M_,s),this.firestore,this.x_)},t.prototype.orderBy=function(e,n){var r;if(void 0===n||"asc"===n)r="asc";else{if("desc"!==n)throw new Ed(Sd.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r="desc"}var i=V_("Query.orderBy",e),s=function(t,e,n){if(null!==t.startAt)throw new Ed(Sd.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Ed(Sd.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Mg(e,n);return function(t,e){if(null===cg(t)){var n=lg(t);null!==n&&Nw(0,n,e.field)}}(t,r),r}(this.M_,i,r);return new t(function(t,e){var n=t.rn.concat([e]);return new ig(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(this.M_,s),this.firestore,this.x_)},t.prototype.limit=function(e){return t_("Query.limit",e),new t(pg(this.M_,e,"F"),this.firestore,this.x_)},t.prototype.limitToLast=function(e){return t_("Query.limitToLast",e),new t(pg(this.M_,e,"L"),this.firestore,this.x_)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.Bf("Query.startAt",e,n,!0);return new t(gg(this.M_,i),this.firestore,this.x_)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.Bf("Query.startAfter",e,n,!1);return new t(gg(this.M_,i),this.firestore,this.x_)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.Bf("Query.endBefore",e,n,!0);return new t(mg(this.M_,i),this.firestore,this.x_)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.Bf("Query.endAt",e,n,!1);return new t(mg(this.M_,i),this.firestore,this.x_)},t.prototype.isEqual=function(e){return e instanceof t&&this.firestore===e.firestore&&bg(this.M_,e.M_)&&this.x_===e.x_},t.prototype.withConverter=function(e){return new t(this.M_,this.firestore,e)},t.prototype.Bf=function(t,e,n,r){if(e instanceof Tw)return function(t,e,n,r,i){if(!r)throw new Ed(Sd.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=dg(t);o<a.length;o++){var u=a[o];if(u.field.B())s.push(Rf(e,r.key));else{var c=r.field(u.field);if(Of(c))throw new Ed(Sd.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.M();throw new Ed(Sd.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}s.push(c)}}return new Pg(s,i)}(this.M_,this.firestore.v_,t,e.o_.N_,r);var i=[e].concat(n);return function(t,e,n,r,i,s){var o=t.rn;if(i.length>o.length)throw new Ed(Sd.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.B()){if("string"!=typeof c)throw new Ed(Sd.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!hg(t)&&-1!==c.indexOf("/"))throw new Ed(Sd.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Id.k(c));if(!Ad.G(l))throw new Ed(Sd.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Ad(l);a.push(Rf(e,h))}else{var d=R_(n,r,c);a.push(d)}}return new Pg(a,s)}(this.M_,this.firestore.v_,this.Lf,t,i,r)},t.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var o={},a=0;if("object"!=typeof i[a]||vm(i[a])||(o=i[a],a++),vm(i[a])){var u=i[a];i[a]=null===(t=u.next)||void 0===t?void 0:t.bind(u),i[a+1]=null===(e=u.error)||void 0===e?void 0:e.bind(u),i[a+2]=null===(n=u.complete)||void 0===n?void 0:n.bind(u)}var c={next:function(t){i[a]&&i[a](new Rw(r.firestore,new lw(r.firestore.o_,r.D_,new O_(r.firestore.o_,r.x_,r.M_),t)))},error:i[a+1],complete:i[a+2]};return Pw(this.M_),function(t,e,n,r){var i=this,s=new Wv(r),o=new um(e,s,n);return t.rs.fs((function(){return Object(nu.b)(i,void 0,void 0,(function(){var e;return Object(nu.d)(this,(function(n){switch(n.label){case 0:return e=rm,[4,ew(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}}))}))})),function(){s.r_(),t.rs.fs((function(){return Object(nu.b)(i,void 0,void 0,(function(){var e;return Object(nu.d)(this,(function(n){switch(n.label){case 0:return e=im,[4,ew(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}}))}))}))}}(vw(this.firestore.o_),this.M_,o,c)},t.prototype.get=function(t){var e=this;Pw(this.M_);var n=vw(this.firestore.o_);return(t&&"cache"===t.source?function(t,e){var n=this,r=new Fg;return t.rs.fs((function(){return Object(nu.b)(n,void 0,void 0,(function(){var n;return Object(nu.d)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(nu.b)(this,void 0,void 0,(function(){var r,i,s,o,a,u;return Object(nu.d)(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,Zb(t,e,!0)];case 1:return r=c.sent(),i=new Ky(e,r.Xa),s=i.gh(r.documents),o=i.bi(s,!1),n.resolve(o.snapshot),[3,3];case 2:return a=c.sent(),u=tm(a,"Failed to execute query '"+e+" against cache"),n.reject(u),[3,3];case 3:return[2]}}))}))},[4,Z_(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,this.M_):function(t,e,n){var r=this;void 0===n&&(n={});var i=new Fg;return t.rs.fs((function(){return Object(nu.b)(r,void 0,void 0,(function(){var r;return Object(nu.d)(this,(function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new Wv({next:function(n){e.fs((function(){return im(t,o)})),n.fromCache&&"server"===r.source?i.reject(new Ed(Sd.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),o=new um(n,s,{includeMetadataChanges:!0,Hs:!0});return rm(t,o)},[4,ew(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.rs,e,n,i])]}}))}))})),i.promise}(n,this.M_,t)).then((function(t){return new Rw(e.firestore,new lw(e.firestore.o_,e.D_,new O_(e.firestore.o_,e.x_,e.M_),t))}))},t}(),jw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).S_=e,r}return Object(nu.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.o_.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new xw(this.S_,this.o_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this.o_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this.o_.oldIndex},enumerable:!1,configurable:!0}),e}(Kv),Rw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).S_=e,r}return Object(nu.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new Aw(this.o_.query.M_,this.S_,this.o_.query.x_)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.o_.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.o_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this.o_.docs.map((function(e){return new xw(t.S_,e)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this.o_.docChanges(t).map((function(t){return new jw(e.S_,t)}))},e.prototype.forEach=function(t,e){var n=this;this.o_.forEach((function(r){t.call(e,new xw(n.S_,r))}))},e.prototype.isEqual=function(t){return dw(this.o_,t.o_)},e}(Kv),Mw=function(t){function e(e,n,r){var i=this;if((i=t.call(this,og(e),n,r)||this).O_=e,e.length%2!=1)throw new Ed(Sd.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.M()+" has "+e.length);return i}return Object(nu.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.M_.path.C()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.M_.path.S();return t.T()?null:Cw.xf(t,this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.M_.path.M()},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){0===arguments.length&&(t=md.u()),Qv("CollectionReference.doc","path",t);var e=Id.k(t);return Cw.xf(this.M_.path.child(e),this.firestore,this.x_)},e.prototype.add=function(t){var e=this.x_?this.x_.toFirestore(t):t,n=this.doc();return Cw.b_(n.o_.C_,this.firestore,null).set(e).then((function(){return n}))},e.prototype.withConverter=function(t){return new e(this.O_,this.firestore,t)},e}(Aw);function Dw(t,e,n){var r=Yv(e,w_);if(r.firestore!==n.o_)throw new Ed(Sd.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function Lw(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Fw,Vw=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(__.bind.apply(__,Object(nu.g)([void 0],e))))||this}return Object(nu.c)(e,t),e.documentId=function(){return new e(Pd.q().M())},e.prototype.isEqual=function(t){return t instanceof Kv&&(t=t.o_),t instanceof __&&this.o_.F_.isEqual(t.F_)},e}(Kv),Uw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(nu.c)(e,t),e.serverTimestamp=function(){var t=new i_("serverTimestamp");return t.a_="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new n_("deleteField");return t.a_="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new s_("arrayUnion",t)}).apply(void 0,t);return r.a_="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new o_("arrayRemove",t)}).apply(void 0,t);return r.a_="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new a_("increment",t)}(t);return n.a_="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.o_.isEqual(t.o_)},e}(Kv),qw={Firestore:yw,GeoPoint:u_,Timestamp:Td,Blob:p_,Transaction:ww,WriteBatch:Ow,DocumentReference:Cw,DocumentSnapshot:Tw,Query:Aw,QueryDocumentSnapshot:xw,QuerySnapshot:Rw,CollectionReference:Mw,FieldPath:Vw,FieldValue:Uw,setLogLevel:function(t){od.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new rd.a("firestore",(function(t){return function(t,e){return new yw(t,new sw(t,e),new bw)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},qw)))})(Fw=ru.a),Fw.registerVersion("@firebase/firestore","2.0.2");var Bw=n("Jgta"),Hw=n("qgXg"),zw=n("Ylt2");class Gw extends pr.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new $w(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new bi.a;if(this.isStopped||this.hasError?s=as.a.EMPTY:(this.observers.push(t),s=new zw.a(this,t)),r&&t.add(t=new tu.a(t,r)),e)for(let o=0;o<i&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<i&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||Hw.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(t-r[s].time<n);)s++;return i>e&&(s=Math.max(s,i-e)),s>0&&r.splice(0,s),r}}class $w{constructor(t,e){this.time=t,this.value=e}}function Ww(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,u=!1;return function(c){let l;o++,!i||a?(a=!1,i=new Gw(t,e,r),l=i.subscribe(this),s=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,s=void 0,i.complete()}})):l=i.subscribe(this),this.add(()=>{o--,l.unsubscribe(),s&&!u&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}const Kw=new r.q("angularfire2.auth.use-emulator"),Qw=new r.q("angularfire2.auth.settings"),Jw=new r.q("angularfire2.auth.tenant-id"),Xw=new r.q("angularfire2.auth.langugage-code"),Zw=new r.q("angularfire2.auth.use-device-language"),Yw=new r.q("angularfire.auth.persistence");let tO=(()=>{class t{constructor(t,e,r,i,s,o,a,u,c,l){const h=new eu.d(i),d=Object(eu.h)(h),f=new pr.a,p=Object(Zt.a)(void 0).pipe(Object(tu.b)(h.outsideAngular),$i(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(oe.a)(()=>Object(eu.g)(t,i,e)),Object(oe.a)(t=>i.runOutsideAngular(()=>{const e=s,n=o;return Object(eu.f)(t.name+".auth","AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator("http://"+e.join(":")),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),Ww({bufferSize:1,refCount:!1}));return bt(r)?this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(Zt.a)(null):(p.pipe(ss()).subscribe(),this.authState=p.pipe($i(t=>t.getRedirectResult().then(()=>t,()=>t)),$i(t=>i.runOutsideAngular(()=>new Yt.a(t.onAuthStateChanged.bind(t)))),d,Ww(1)),this.user=p.pipe($i(t=>t.getRedirectResult().then(()=>t,()=>t)),$i(t=>i.runOutsideAngular(()=>new Yt.a(t.onIdTokenChanged.bind(t)))),d,Ww(1)),this.idToken=this.user.pipe($i(t=>t?Object(qe.a)(t.getIdToken()):Object(Zt.a)(null))),this.idTokenResult=this.user.pipe($i(t=>t?Object(qe.a)(t.getIdTokenResult()):Object(Zt.a)(null))),this.credential=p.pipe($i(t=>Object(gr.a)(t.getRedirectResult().then(t=>t,()=>null),f,this.authState.pipe(re(t=>!t)))),Object(oe.a)(t=>(null==t?void 0:t.user)?t:null),d,Ww(1))),Object(eu.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>f.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(eu.c),r.Sb(eu.b,8),r.Sb(r.B),r.Sb(r.z),r.Sb(Kw,8),r.Sb(Qw,8),r.Sb(Jw,8),r.Sb(Xw,8),r.Sb(Zw,8),r.Sb(Yw,8))},t.\u0275prov=Object(r.Fb)({factory:function(){return new t(Object(r.Sb)(eu.c),Object(r.Sb)(eu.b,8),Object(r.Sb)(r.B),Object(r.Sb)(r.z),Object(r.Sb)(Kw,8),Object(r.Sb)(Qw,8),Object(r.Sb)(Jw,8),Object(r.Sb)(Xw,8),Object(r.Sb)(Zw,8),Object(r.Sb)(Yw,8))},token:t,providedIn:"any"}),t})(),eO=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[tO]}),t})();function nO(t,e){return function(t,e=Ya.a){return new Yt.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function rO(t,e){return nO(t,e).pipe(Object(oe.a)(t=>({payload:t,type:"query"})))}function iO(t,e){return rO(t,e).pipe(Object(oe.a)(t=>t.payload.docChanges().map(t=>({type:t.type,payload:t}))))}function sO(t,e,n){return rO(t,n).pipe(Object(oe.a)(t=>t.payload.docChanges()),Yi((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)||t.splice(e.newIndex,0,e);break;case"modified":(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))&&(e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e));break;case"removed":t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref)&&t.splice(e.oldIndex,1)}return t}(t,e))}),t}(t,n,e),[]),Object(oe.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function oO(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class aO{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){return t&&0!==t.length?iO(this.query,this.afs.schedulers.outsideAngular).pipe(Object(oe.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),re(t=>t.length>0),this.afs.keepUnstableUntilFirst):iO(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Yi((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=oO(t);return sO(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return rO(this.query,this.afs.schedulers.outsideAngular).pipe(Object(oe.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(qe.a)(this.query.get(t)).pipe(Object(tu.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new uO(this.ref.doc(t),this.afs)}}class uO{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=pO(n,e);return new aO(r,i,this.afs)}snapshotChanges(){return nO(this.ref,this.afs.schedulers.outsideAngular).pipe(Object(oe.a)(t=>({payload:t,type:"value"}))).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(oe.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(qe.a)(this.ref.get(t)).pipe(Object(tu.b)(this.afs.schedulers.insideAngular))}}class cO{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?iO(this.query,this.afs.schedulers.outsideAngular).pipe(Object(oe.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),re(t=>t.length>0),this.afs.keepUnstableUntilFirst):iO(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Yi((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=oO(t);return sO(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return rO(this.query,this.afs.schedulers.outsideAngular).pipe(Object(oe.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(qe.a)(this.query.get(t)).pipe(Object(tu.b)(this.afs.schedulers.insideAngular))}}const lO=new r.q("angularfire2.enableFirestorePersistence"),hO=new r.q("angularfire2.firestore.persistenceSettings"),dO=new r.q("angularfire2.firestore.settings"),fO=new r.q("angularfire2.firestore.use-emulator");function pO(t,e=(t=>t)){return{query:e(t),ref:t}}let gO=(()=>{class t{constructor(t,e,n,r,i,s,o,a,u){this.schedulers=new eu.d(s),this.keepUnstableUntilFirst=Object(eu.h)(this.schedulers);const c=Object(eu.g)(t,s,e);!Bw.a.auth&&u&&Object(eu.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(eu.f)(c.name+".firestore","AngularFirestore",c,()=>{const t=s.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!bt(i)){const e=()=>{try{return Object(qe.a)(t.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(e){return"undefined"!=typeof console&&console.warn(e),Object(Zt.a)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,Object(Zt.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=pO(n,e),s=this.schedulers.ngZone.run(()=>r);return new aO(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new cO(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new uO(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(eu.c),r.Sb(eu.b,8),r.Sb(lO,8),r.Sb(dO,8),r.Sb(r.B),r.Sb(r.z),r.Sb(hO,8),r.Sb(fO,8),r.Sb(Kw,8))},t.\u0275prov=Object(r.Fb)({factory:function(){return new t(Object(r.Sb)(eu.c),Object(r.Sb)(eu.b,8),Object(r.Sb)(lO,8),Object(r.Sb)(dO,8),Object(r.Sb)(r.B),Object(r.Sb)(r.z),Object(r.Sb)(hO,8),Object(r.Sb)(fO,8),Object(r.Sb)(Kw,8))},token:t,providedIn:"any"}),t})(),mO=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:lO,useValue:!0},{provide:hO,useValue:e}]}}}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[gO]}),t})(),bO=(()=>{class t{constructor(t){this.db=t,this.dbPath="/products",this.productsRef=null,this.productsRef=this.db.collection(this.dbPath)}getCategoryProducts(t){return this.db.collection(this.dbPath,e=>e.where("category.name","==",t))}getProduct(t){return this.productsRef.doc(t).get()}getAll(){return this.productsRef}create(t){return this.productsRef.add(Object.assign({},t))}update(t,e){return this.productsRef.doc(t).update(Object.assign({},e))}delete(t){return this.productsRef.doc(t).delete()}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(gO))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),yO=(()=>{class t{constructor(){this.basket=new pr.a}addBasket(t){let e=[];if(localStorage.getItem("basket"))if(e=JSON.parse(localStorage.getItem("basket")),e.some(e=>e.id===t.id)){const n=e.findIndex(e=>e.id===t.id);e[n].count+=t.count}else e.push(t);else e.push(t);localStorage.setItem("basket",JSON.stringify(e)),this.basket.next(e)}getTotal(t){return t.reduce((t,e)=>t+e.price*e.count,0)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const vO=function(t,e){return["/menu",t,e]};function _O(t,e){if(1&t){const t=r.Pb();r.Ob(0,"div",9),r.Ob(1,"div",10),r.Kb(2,"a",11),r.Ob(3,"div",12),r.Ob(4,"div",13),r.Ob(5,"div",14),r.Ob(6,"a",15),r.sc(7),r.Nb(),r.Nb(),r.Ob(8,"p"),r.sc(9),r.Nb(),r.Nb(),r.Ob(10,"div",16),r.Ob(11,"div",17),r.Ob(12,"span"),r.sc(13),r.Nb(),r.Ob(14,"i"),r.sc(15,"\u0433\u0440\u043d"),r.Nb(),r.Nb(),r.Ob(16,"div",18),r.Ob(17,"span",19),r.Vb("click",(function(){r.kc(t);const n=e.$implicit;return r.Xb().productCount(n,!1)})),r.Nb(),r.Kb(18,"input",20),r.Ob(19,"span",21),r.Vb("click",(function(){r.kc(t);const n=e.$implicit;return r.Xb().productCount(n,!0)})),r.Nb(),r.Nb(),r.Ob(20,"div",22),r.Vb("click",(function(){r.kc(t);const n=e.$implicit;return r.Xb().addToBasket(n)})),r.sc(21,"\u0417\u0430\u043c\u043e\u0432\u0438\u0442\u0438"),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb()}if(2&t){const t=e.$implicit;r.yb(2),r.oc("background-image","url("+t.image+")"),r.dc("routerLink",r.gc(8,vO,t.category.name,t.id)),r.yb(4),r.dc("routerLink",r.gc(11,vO,t.category.name,t.id)),r.yb(1),r.tc(t.name),r.yb(2),r.tc(t.description),r.yb(4),r.tc(t.price*t.count),r.yb(5),r.dc("value",t.count)}}let wO=(()=>{class t{constructor(t,e,n,r){this.prodService=t,this.router=e,this.activatedRoute=n,this.orderService=r,this.products=[],this.router.events.subscribe(t=>{if(t instanceof ds){const t=this.activatedRoute.snapshot.paramMap.get("category");this.categoryTitle=t,this.getProducts(t)}})}ngOnInit(){}getProducts(t){this.prodService.getCategoryProducts(t).snapshotChanges().pipe(Object(oe.a)(t=>t.map(t=>Object.assign({id:t.payload.doc.id},t.payload.doc.data())))).subscribe(t=>{this.products=t})}productCount(t,e){e?t.count++:t.count>1&&t.count--}addToBasket(t){this.orderService.addBasket(t),t.count=1}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(bO),r.Jb(ka),r.Jb(fo),r.Jb(yO))},t.\u0275cmp=r.Db({type:t,selectors:[["app-products"]],decls:10,vars:2,consts:[[1,"container"],[1,"row"],[1,"col-md-12","mt-2"],[1,"sectionTitle","fadeInTop","hidden-xs"],[1,"h1","as"],[1,"emptySpace20","emptySpace-lt40","emptySpace-md30"],[1,"row","clear-md-3","clear-lg-3","clear-sm-2"],["class","col-sm-6 col-md-4",4,"ngFor","ngForOf"],[1,"emptySpace20","emptySpace-xs0"],[1,"col-sm-6","col-md-4"],[1,"productThumbnail","productItemAnimate","animated"],[1,"productImage","preview","preloaded",3,"routerLink"],[1,"productInfoWrapp"],[1,"productDescription","normall"],[1,"h5","as"],[1,"card-title",3,"routerLink"],[1,"productOrder"],[1,"productPrice"],[1,"productCountWrapper"],[1,"productCount","lessProduct",3,"click"],["type","text","maxlength","3",3,"value"],[1,"productCount","moreProduct",3,"click"],[1,"button","add-to-cart-product",3,"click"]],template:function(t,e){1&t&&(r.Ob(0,"div",0),r.Ob(1,"div",1),r.Ob(2,"div",2),r.Ob(3,"div",3),r.Ob(4,"h1",4),r.sc(5),r.Nb(),r.Kb(6,"div",5),r.Nb(),r.Nb(),r.Nb(),r.Ob(7,"div",6),r.qc(8,_O,22,14,"div",7),r.Nb(),r.Kb(9,"div",8),r.Nb()),2&t&&(r.yb(5),r.tc(e.categoryTitle),r.yb(3),r.dc("ngForOf",e.products))},directives:[rt,Na],styles:[".dark-mode-text[_ngcontent-%COMP%]{color:#343a40}.dark-mode[_ngcontent-%COMP%]{background-color:#343a40;color:#fefefe}a.card-title[_ngcontent-%COMP%]{min-width:40px}a[_ngcontent-%COMP%]:hover, i[_ngcontent-%COMP%]{color:#c80000}@media screen and (max-width:560px) and (min-width:300px){.productDescription[_ngcontent-%COMP%]{padding:0 45px}}"]}),t})(),OO=(()=>{class t{constructor(t){this.db=t,this.dbPath="/blogs",this.blogsRef=null,this.blogsRef=this.db.collection(this.dbPath)}getBlog(t){return this.blogsRef.doc(t).get()}getAll(){return this.blogsRef}create(t){return this.blogsRef.add(Object.assign({},t))}update(t,e){return this.blogsRef.doc(t).update(Object.assign({},e))}delete(t){return this.blogsRef.doc(t).delete()}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(gO))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),CO=(()=>{class t{transform(t,e){if(void 0===t)return t;if(t.length<=e)return t;let n=t.slice(0,e+50);for(;n.length>e-"...".length;){let t=n.lastIndexOf(" ");if(-1===t)break;n=n.slice(0,t).replace(/[!,.?;:]$/,"")}return n+"..."}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Ib({name:"truncateText",type:t,pure:!0}),t})();const SO=function(t){return["/blog",t]};function EO(t,e){if(1&t&&(r.Ob(0,"div",3),r.Ob(1,"div",4),r.Ob(2,"a",5),r.Kb(3,"img",6),r.Nb(),r.Ob(4,"div",7),r.Ob(5,"div"),r.Ob(6,"p"),r.sc(7),r.Yb(8,"uppercase"),r.Yb(9,"date"),r.Nb(),r.Ob(10,"p"),r.sc(11),r.Yb(12,"uppercase"),r.Nb(),r.Nb(),r.Ob(13,"a",5),r.sc(14),r.Nb(),r.Ob(15,"p",8),r.sc(16),r.Yb(17,"truncateText"),r.Nb(),r.Nb(),r.Nb(),r.Nb()),2&t){const t=e.$implicit;r.yb(2),r.dc("routerLink",r.fc(17,SO,t.id)),r.yb(1),r.dc("src",t.image,r.mc),r.yb(4),r.tc(r.Zb(8,7,r.ac(9,9,t.date.toDate(),"MMM d, yyyy"))),r.yb(4),r.tc(r.Zb(12,12,t.author)),r.yb(2),r.dc("routerLink",r.fc(19,SO,t.id)),r.yb(1),r.tc(t.title),r.yb(2),r.tc(r.ac(17,14,t.text,150))}}let TO=(()=>{class t{constructor(t){this.blogService=t,this.userBlogs=[]}ngOnInit(){this.getBlog()}getBlog(){this.blogService.getAll().snapshotChanges().pipe(Object(oe.a)(t=>t.map(t=>Object.assign({id:t.payload.doc.id},t.payload.doc.data())))).subscribe(t=>{this.userBlogs=t})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(OO))},t.\u0275cmp=r.Db({type:t,selectors:[["app-blog"]],decls:3,vars:1,consts:[[1,"box"],[1,"row"],["class","col-lg-4",4,"ngFor","ngForOf"],[1,"col-lg-4"],[1,"card"],[1,"card-title",3,"routerLink"],["alt","...",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-text"]],template:function(t,e){1&t&&(r.Ob(0,"div",0),r.Ob(1,"div",1),r.qc(2,EO,18,21,"div",2),r.Nb(),r.Nb()),2&t&&(r.yb(2),r.dc("ngForOf",e.userBlogs))},directives:[rt,Na],pipes:[pt,gt,CO],styles:[".box[_ngcontent-%COMP%]{width:100%;padding:10px}.box[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{width:100%;margin:0}.box[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin-bottom:10px;border:none;border-radius:0}.box[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:60vh;background-size:cover}.box[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between}.box[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:#188cda;display:flex;flex-direction:row}.box[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active, .box[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited{color:#278bce}.box[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-right:5px}.box[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active, .box[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited{color:#000}.box[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#c80000}.box[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:25px}@media screen and (max-width:1000px) and (min-width:550px){.box[_ngcontent-%COMP%]{margin:0 auto;width:80%}}"]}),t})(),xO=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Db({type:t,selectors:[["app-about"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Ob(0,"p"),r.sc(1,"about works!"),r.Nb())},styles:[""]}),t})();const kO=function(){return["category"]},IO=function(){return["products"]},NO=function(){return["blogs"]};let PO=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Db({type:t,selectors:[["app-admin"]],decls:13,vars:6,consts:[[1,"container-fluid","mt-3"],[1,"row"],[1,"col-2"],[1,"nav","flex-column","nav-pills"],["routerLinkActive","dark-mode",1,"nav-link","dark-mode-text",3,"routerLink"],[1,"col-10"],[1,"tab-content"]],template:function(t,e){1&t&&(r.Ob(0,"section",0),r.Ob(1,"div",1),r.Ob(2,"div",2),r.Ob(3,"div",3),r.Ob(4,"a",4),r.sc(5,"Category"),r.Nb(),r.Ob(6,"a",4),r.sc(7,"Products"),r.Nb(),r.Ob(8,"a",4),r.sc(9,"Blogs"),r.Nb(),r.Nb(),r.Nb(),r.Ob(10,"div",5),r.Ob(11,"div",6),r.Kb(12,"router-outlet"),r.Nb(),r.Nb(),r.Nb(),r.Nb()),2&t&&(r.yb(4),r.dc("routerLink",r.ec(3,kO)),r.yb(2),r.dc("routerLink",r.ec(4,IO)),r.yb(2),r.dc("routerLink",r.ec(5,NO)))},directives:[Na,Aa,ja],styles:[".dark-mode-text[_ngcontent-%COMP%]{color:#343a40}.dark-mode[_ngcontent-%COMP%]{background-color:#343a40;color:#fefefe}"]}),t})();class AO{constructor(t,e){this.id=t,this.name=e}}let jO=(()=>{class t{constructor(t){this.db=t,this.dbPath="/categories",this.categoriesRef=null,this.categoriesRef=this.db.collection(this.dbPath)}getAll(){return this.categoriesRef}create(t){return this.categoriesRef.add(Object.assign({},t))}update(t,e){return this.categoriesRef.doc(t).update(Object.assign({},e))}delete(t){return this.categoriesRef.doc(t).delete()}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(gO))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class RO{}const MO="*";function DO(t,e){return{type:7,name:t,definitions:e,options:{}}}function LO(t,e=null){return{type:4,styles:e,timings:t}}function FO(t,e=null){return{type:2,steps:t,options:e}}function VO(t){return{type:6,styles:t,offset:null}}function UO(t,e,n){return{type:0,name:t,styles:e,options:n}}function qO(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function BO(t){Promise.resolve(null).then(t)}class HO{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){BO(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class zO{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?BO(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}const GO=["toast-component",""];function $O(t,e){if(1&t){const t=r.Pb();r.Ob(0,"button",5),r.Vb("click",(function(){return r.kc(t),r.Xb().remove()})),r.Ob(1,"span",6),r.sc(2,"\xd7"),r.Nb(),r.Nb()}}function WO(t,e){if(1&t&&(r.Mb(0),r.sc(1),r.Lb()),2&t){const t=r.Xb(2);r.yb(1),r.uc("[",t.duplicatesCount+1,"]")}}function KO(t,e){if(1&t&&(r.Ob(0,"div"),r.sc(1),r.qc(2,WO,2,1,"ng-container",4),r.Nb()),2&t){const t=r.Xb();r.Ab(t.options.titleClass),r.zb("aria-label",t.title),r.yb(1),r.uc(" ",t.title," "),r.yb(1),r.dc("ngIf",t.duplicatesCount)}}function QO(t,e){if(1&t&&r.Kb(0,"div",7),2&t){const t=r.Xb();r.Ab(t.options.messageClass),r.dc("innerHTML",t.message,r.lc)}}function JO(t,e){if(1&t&&(r.Ob(0,"div",8),r.sc(1),r.Nb()),2&t){const t=r.Xb();r.Ab(t.options.messageClass),r.zb("aria-label",t.message),r.yb(1),r.uc(" ",t.message," ")}}function XO(t,e){if(1&t&&(r.Ob(0,"div"),r.Kb(1,"div",9),r.Nb()),2&t){const t=r.Xb();r.yb(1),r.oc("width",t.width+"%")}}class ZO{constructor(t,e,n,r,i,s){this.toastId=t,this.config=e,this.message=n,this.title=r,this.toastType=i,this.toastRef=s,this._onTap=new pr.a,this._onAction=new pr.a,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}}const YO={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},tC=new r.q("ToastConfig");class eC{constructor(t,e){this.component=t,this.injector=e}attach(t,e){return this._attachedHost=t,t.attach(this,e)}detach(){const t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class nC extends class{attach(t,e){return this._attachedPortal=t,this.attachComponentPortal(t,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}}{constructor(t,e,n){super(),this._hostDomElement=t,this._componentFactoryResolver=e,this._appRef=n}attachComponentPortal(t,e){const n=this._componentFactoryResolver.resolveComponentFactory(t.component);let r;return r=n.create(t.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let rC=(()=>{class t{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),this._document.body.appendChild(t),this._containerElement=t}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a))},t.\u0275prov=Object(r.Fb)({factory:function(){return new t(Object(r.Sb)(a))},token:t,providedIn:"root"}),t})();class iC{constructor(t){this._portalHost=t}attach(t,e=!0){return this._portalHost.attach(t,e)}detach(){return this._portalHost.detach()}}let sC=(()=>{class t{constructor(t,e,n,r){this._overlayContainer=t,this._componentFactoryResolver=e,this._appRef=n,this._document=r,this._paneElements=new Map}create(t,e){return this._createOverlayRef(this.getPaneElement(t,e))}getPaneElement(t="",e){return this._paneElements.get(e)||this._paneElements.set(e,{}),this._paneElements.get(e)[t]||(this._paneElements.get(e)[t]=this._createPaneElement(t,e)),this._paneElements.get(e)[t]}_createPaneElement(t,e){const n=this._document.createElement("div");return n.id="toast-container",n.classList.add(t),n.classList.add("toast-container"),e?e.getContainerElement().appendChild(n):this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalHost(t){return new nC(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new iC(this._createPortalHost(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(rC),r.Sb(r.j),r.Sb(r.g),r.Sb(a))},t.\u0275prov=Object(r.Fb)({factory:function(){return new t(Object(r.Sb)(rC),Object(r.Sb)(r.j),Object(r.Sb)(r.g),Object(r.Sb)(a))},token:t,providedIn:"root"}),t})();class oC{constructor(t){this._overlayRef=t,this.duplicatesCount=0,this._afterClosed=new pr.a,this._activate=new pr.a,this._manualClose=new pr.a,this._resetTimeout=new pr.a,this._countDuplicate=new pr.a}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,e){t&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}}class aC{constructor(t,e){this._toastPackage=t,this._parentInjector=e}get(t,e,n){return t===ZO?this._toastPackage:this._parentInjector.get(t,e,n)}}let uC=(()=>{class t{constructor(t,e,n,r,i){this.overlay=e,this._injector=n,this.sanitizer=r,this.ngZone=i,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},t.default.iconClasses),t.config.iconClasses))}show(t,e,n={},r=""){return this._preBuildNotification(r,t,e,this.applyConfig(n))}success(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,e,this.applyConfig(n))}error(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,e,this.applyConfig(n))}info(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,e,this.applyConfig(n))}warning(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,e,this.applyConfig(n))}clear(t){for(const e of this.toasts)if(void 0!==t){if(e.toastId===t)return void e.toastRef.manualClose()}else e.toastRef.manualClose()}remove(t){const e=this._findToast(t);if(!e)return!1;if(e.activeToast.toastRef.close(),this.toasts.splice(e.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length)return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const t=this.toasts[this.currentlyActive].toastRef;t.isInactive()||(this.currentlyActive=this.currentlyActive+1,t.activate())}return!0}findDuplicate(t="",e="",n,r){const{includeTitleDuplicates:i}=this.toastrConfig;for(const s of this.toasts){const o=i&&s.title===t;if((!i||o)&&s.message===e)return s.toastRef.onDuplicate(n,r),s}return null}applyConfig(t={}){return Object.assign(Object.assign({},this.toastrConfig),t)}_findToast(t){for(let e=0;e<this.toasts.length;e++)if(this.toasts[e].toastId===t)return{index:e,activeToast:this.toasts[e]};return null}_preBuildNotification(t,e,n,r){return r.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,e,n,r)):this._buildNotification(t,e,n,r)}_buildNotification(t,e,n,i){if(!i.toastComponent)throw new Error("toastComponent required");const s=this.findDuplicate(n,e,this.toastrConfig.resetTimeoutOnDuplicate&&i.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&n||e)&&this.toastrConfig.preventDuplicates&&null!==s)return s;this.previousToastMessage=e;let o=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(o=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const a=this.overlay.create(i.positionClass,this.overlayContainer);this.index=this.index+1;let u=e;e&&i.enableHtml&&(u=this.sanitizer.sanitize(r.H.HTML,e));const c=new oC(a),l=new ZO(this.index,i,u,n,t,c),h=new aC(l,this._injector),d=new eC(i.toastComponent,h),f=a.attach(d,this.toastrConfig.newestOnTop);c.componentInstance=f.instance;const p={toastId:this.index,title:n||"",message:e||"",toastRef:c,onShown:c.afterActivate(),onHidden:c.afterClosed(),onTap:l.onTap(),onAction:l.onAction(),portal:f};return o||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{p.toastRef.activate()})),this.toasts.push(p),p}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(tC),r.Sb(sC),r.Sb(r.r),r.Sb($t),r.Sb(r.z))},t.\u0275prov=Object(r.Fb)({factory:function(){return new t(Object(r.Sb)(tC),Object(r.Sb)(sC),Object(r.Sb)(r.o),Object(r.Sb)($t),Object(r.Sb)(r.z))},token:t,providedIn:"root"}),t})(),cC=(()=>{class t{constructor(t,e,n){this.toastrService=t,this.toastPackage=e,this.ngZone=n,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=e.message,this.title=e.title,this.options=e.config,this.originalTimeout=e.config.timeOut,this.toastClasses=`${e.toastType} ${e.config.toastClass}`,this.sub=e.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=e.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=e.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=e.toastRef.countDuplicate().subscribe(t=>{this.duplicatesCount=t})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0!==this.options.disableTimeOut&&"extendedTimeOut"!==this.options.disableTimeOut&&0!==this.options.extendedTimeOut&&"removed"!==this.state.value&&(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,e){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),e)):this.timeout=setTimeout(()=>t(),e)}outsideInterval(t,e){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),e)):this.intervalId=setInterval(()=>t(),e)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(uC),r.Jb(ZO),r.Jb(r.z))},t.\u0275cmp=r.Db({type:t,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,e){1&t&&r.Vb("click",(function(){return e.tapToast()}))("mouseenter",(function(){return e.stickAround()}))("mouseleave",(function(){return e.delayedHideToast()})),2&t&&(r.pc("@flyInOut",e.state),r.Ab(e.toastClasses),r.oc("display",e.displayStyle))},attrs:GO,decls:5,vars:5,consts:[["class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(t,e){1&t&&(r.qc(0,$O,3,0,"button",0),r.qc(1,KO,3,5,"div",1),r.qc(2,QO,1,3,"div",2),r.qc(3,JO,2,4,"div",3),r.qc(4,XO,2,2,"div",4)),2&t&&(r.dc("ngIf",e.options.closeButton),r.yb(1),r.dc("ngIf",e.title),r.yb(1),r.dc("ngIf",e.message&&e.options.enableHtml),r.yb(1),r.dc("ngIf",e.message&&!e.options.enableHtml),r.yb(1),r.dc("ngIf",e.options.progressBar))},directives:[st],encapsulation:2,data:{animation:[DO("flyInOut",[UO("inactive",VO({opacity:0})),UO("active",VO({opacity:1})),UO("removed",VO({opacity:0})),qO("inactive => active",LO("{{ easeTime }}ms {{ easing }}")),qO("active => removed",LO("{{ easeTime }}ms {{ easing }}"))])]}}),t})();const lC=Object.assign(Object.assign({},YO),{toastComponent:cC});let hC=(()=>{class t{static forRoot(e={}){return{ngModule:t,providers:[{provide:tC,useValue:{default:lC,config:e}}]}}}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},imports:[[mt]]}),t})(),dC=(()=>{class t{transform(t,e){return e?t?t.filter(t=>t.name.toLowerCase().includes(e.toLowerCase())):[]:t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Ib({name:"search",type:t,pure:!0}),t})();function fC(t,e){if(1&t){const t=r.Pb();r.Ob(0,"tr"),r.Ob(1,"td"),r.sc(2),r.Nb(),r.Ob(3,"td",13),r.sc(4),r.Nb(),r.Ob(5,"td"),r.Ob(6,"button",14),r.Vb("click",(function(){r.kc(t);const n=e.$implicit;return r.Xb().editCategory(n)}))("click",(function(){r.kc(t);const e=r.Xb(),n=r.ic(25);return e.openModal(n,e.modalCenter)})),r.sc(7,"edit"),r.Nb(),r.Nb(),r.Ob(8,"td"),r.Ob(9,"button",14),r.Vb("click",(function(){r.kc(t);const e=r.Xb(),n=r.ic(27);return e.openModal(n,e.modalSM)}))("click",(function(){r.kc(t);const n=e.$implicit;return r.Xb().getCategory(n)})),r.sc(10,"delete"),r.Nb(),r.Nb(),r.Nb()}if(2&t){const t=e.$implicit,n=e.index;r.yb(2),r.tc(n+1),r.yb(2),r.tc(t.name)}}function pC(t,e){if(1&t){const t=r.Pb();r.Ob(0,"button",1),r.Vb("click",(function(){return r.kc(t),r.Xb(2).addCategory()})),r.sc(1,"Add"),r.Nb()}}function gC(t,e){if(1&t){const t=r.Pb();r.Ob(0,"button",1),r.Vb("click",(function(){return r.kc(t),r.Xb(2).updateCategory()})),r.sc(1,"Save edit"),r.Nb()}}function mC(t,e){if(1&t){const t=r.Pb();r.Ob(0,"div",15),r.Ob(1,"h4",16),r.sc(2,"Modal title"),r.Nb(),r.Ob(3,"button",17),r.Vb("click",(function(){return r.kc(t),r.Xb().modalRef.hide()}))("click",(function(){return r.kc(t),r.Xb().resetForm()})),r.Ob(4,"span",18),r.sc(5,"\xd7"),r.Nb(),r.Nb(),r.Nb(),r.Ob(6,"div",19),r.Ob(7,"input",20),r.Vb("ngModelChange",(function(e){return r.kc(t),r.Xb().categoryName=e})),r.Nb(),r.Nb(),r.Ob(8,"div",21),r.Ob(9,"button",22),r.Vb("click",(function(){return r.kc(t),r.Xb().modalRef.hide()}))("click",(function(){return r.kc(t),r.Xb().resetForm()})),r.sc(10,"Close"),r.Nb(),r.qc(11,pC,2,0,"button",23),r.qc(12,gC,2,0,"button",23),r.Nb()}if(2&t){const t=r.Xb();r.yb(7),r.dc("ngModel",t.categoryName),r.yb(4),r.dc("ngIf",!t.isEdited),r.yb(1),r.dc("ngIf",t.isEdited)}}function bC(t,e){if(1&t){const t=r.Pb();r.Ob(0,"div",24),r.Ob(1,"button",1),r.Vb("click",(function(){return r.kc(t),r.Xb().modalRef.hide()})),r.sc(2,"Dismiss"),r.Nb(),r.Ob(3,"button",25),r.Vb("click",(function(){r.kc(t);const e=r.Xb();return e.deleteCategory(e.category)})),r.sc(4,"Delete"),r.Nb(),r.Nb()}}let yC=(()=>{class t{constructor(t,e,n){this.catService=t,this.modalService=e,this.toastr=n,this.isEdited=!1,this.isChecked=!1,this.modalSM="modal-sm modal-dialog-centered",this.modalCenter="modal-dialog-centered",this.checkModel={left:!1,middle:!0,right:!1}}ngOnInit(){this.getCategories()}getCategories(){this.catService.getAll().snapshotChanges().pipe(Object(oe.a)(t=>t.map(t=>Object.assign({id:t.payload.doc.id},t.payload.doc.data())))).subscribe(t=>{this.categories=t})}checkCategory(){""==this.categoryName?this.isChecked=!0:this.categories.forEach(t=>{if(t.name==this.categoryName)return this.isChecked=!0})}addCategory(){if(this.checkCategory(),0==this.isChecked||0==this.categories.length){const t=new AO(1,this.categoryName);delete t.id,this.catService.create(t).then(()=>{console.log("Created new item successfully!")}),this.modalRef.hide(),this.resetForm()}this.isChecked=!1}getCategory(t){this.category=t}deleteCategory(t){this.catService.delete(t.id.toString()).then(()=>{this.toastr.success("The blog was deleted successfully!")}).catch(t=>console.log(t)),this.getCategories(),this.modalRef.hide()}editCategory(t){this.categoryID=t.id,this.categoryName=t.name,this.isEdited=!0}updateCategory(){if(this.checkCategory(),!this.isChecked){const t=new AO(this.categoryID,this.categoryName);this.catService.update(t.id.toString(),t).then(()=>this.toastr.success("The blog was updated successfully!")).catch(t=>console.log(t)),this.getCategories(),this.modalRef.hide(),this.resetForm(),this.isEdited=!1}this.isChecked=!1}openModal(t,e){this.modalRef=this.modalService.show(t,{class:""+e})}resetForm(){this.categoryName="",this.isEdited&&(this.isEdited=!this.isEdited)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(jO),r.Jb(pi),r.Jb(uC))},t.\u0275cmp=r.Db({type:t,selectors:[["app-admin-category"]],decls:28,vars:5,consts:[[1,"container","cnt1"],["type","button",1,"btn","btn-dark",3,"click"],[1,"container","cnt2"],[1,"form-group"],["type","text","placeholder","filter category..","name","searchName",1,"form-control",3,"ngModel","ngModelChange"],[1,"table","table-bordered"],[1,"thead-light"],["scope","col",2,"width","3%"],["scope","col","colspan","2",2,"width","83%"],["scope","col",2,"width","7%"],[4,"ngFor","ngForOf"],["open",""],["delete",""],["colspan","2"],[1,"btn","btn-dark",3,"click"],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body"],["type","text","name","categoryName","placeholder","name here...",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button","class","btn btn-dark",3,"click",4,"ngIf"],[1,"modal-body","deleteModal"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(t,e){if(1&t){const t=r.Pb();r.Ob(0,"div",0),r.Ob(1,"p"),r.sc(2,"Category"),r.Nb(),r.Ob(3,"button",1),r.Vb("click",(function(){r.kc(t);const n=r.ic(25);return e.openModal(n,e.modalCenter)})),r.sc(4,"Add"),r.Nb(),r.Nb(),r.Ob(5,"div",2),r.Ob(6,"form"),r.Ob(7,"div",3),r.Ob(8,"input",4),r.Vb("ngModelChange",(function(t){return e.searchName=t})),r.Nb(),r.Nb(),r.Nb(),r.Kb(9,"hr"),r.Ob(10,"table",5),r.Ob(11,"thead",6),r.Ob(12,"tr"),r.Ob(13,"th",7),r.sc(14,"#"),r.Nb(),r.Ob(15,"th",8),r.sc(16,"Name"),r.Nb(),r.Ob(17,"th",9),r.sc(18,"Edit"),r.Nb(),r.Ob(19,"th",9),r.sc(20,"Delete"),r.Nb(),r.Nb(),r.Nb(),r.Ob(21,"tbody"),r.qc(22,fC,11,2,"tr",10),r.Yb(23,"search"),r.Nb(),r.Nb(),r.Nb(),r.qc(24,mC,13,3,"ng-template",null,11,r.rc),r.qc(26,bC,5,0,"ng-template",null,12,r.rc)}2&t&&(r.yb(8),r.dc("ngModel",e.searchName),r.yb(14),r.dc("ngForOf",r.ac(23,2,e.categories,e.searchName)))},directives:[Yn,en,Qn,Ke,tn,Zn,rt,st],pipes:[dC],styles:[".cnt1[_ngcontent-%COMP%]{padding:15px 20px;display:flex;flex-direction:row;justify-content:space-between;border:1px solid #d3d3d3;border-top-left-radius:5px;border-top-right-radius:5px;background-color:#ebe8e8}.cnt1[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;line-height:40px;margin:0}.cnt1[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:150px;height:40px}.cnt2[_ngcontent-%COMP%]{padding:15px;border:1px solid #d3d3d3;border-bottom-left-radius:5px;border-bottom-right-radius:5px}.btnAdd[_ngcontent-%COMP%]{color:#fff;background-color:#d3d3d3}.deleteModal[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.deleteModal[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:5px;width:130px;height:50px}"]}),t})();class vC{constructor(t,e,n,r,i,s=1,o){this.id=t,this.category=e,this.name=n,this.description=r,this.price=i,this.count=s,this.image=o}}var _C="firebasestorage.googleapis.com",wC=function(t){function e(n,r){var i=t.call(this,EC(n),"Firebase Storage: "+r+" ("+EC(n)+")")||this;return i.customData={serverResponse:null},Object.setPrototypeOf(i,e.prototype),i}return Object(nu.c)(e,t),e.prototype.codeEquals=function(t){return EC(t)===this.code},Object.defineProperty(e.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+"\n"+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t},enumerable:!1,configurable:!0}),e}(su.c),OC="canceled",CC="invalid-argument",SC="unsupported-environment";function EC(t){return"storage/"+t}function TC(){return new wC("unknown","An unknown error occurred, please check the error payload for server response.")}function xC(){return new wC(OC,"User canceled the upload/download.")}function kC(){return new wC("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function IC(t){return new wC(CC,t)}function NC(){return new wC("app-deleted","The Firebase app was deleted.")}function PC(t){return new wC("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function AC(t,e){return new wC("invalid-format","String does not match format '"+t+"': "+e)}function jC(t){throw new wC("internal-error","Internal error: "+t)}var RC={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},MC=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function DC(t,e){switch(t){case RC.RAW:return new MC(LC(e));case RC.BASE64:case RC.BASE64URL:return new MC(FC(t,e));case RC.DATA_URL:return new MC((n=new VC(e)).base64?FC(RC.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(n){throw AC(RC.DATA_URL,"Malformed data URL.")}return LC(e)}(n.rest),new VC(e).contentType)}var n;throw TC()}function LC(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,s=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&s)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function FC(t,e){switch(t){case RC.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw AC(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case RC.BASE64URL:var i=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(i||s)throw AC(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(e)}catch(c){throw AC(t,"Invalid character found")}for(var a=new Uint8Array(o.length),u=0;u<o.length;u++)a[u]=o.charCodeAt(u);return a}var VC=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw AC(RC.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r,i=e[1]||null;null!=i&&(this.base64=(n=i).length>=(r=";base64").length&&n.substring(n.length-r.length)===r,this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=t.substring(t.indexOf(",")+1)}}(),UC="running",qC="pausing",BC="paused",HC="success",zC="canceling",GC="canceled",$C="error",WC={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function KC(t){switch(t){case UC:case qC:case zC:return WC.RUNNING;case BC:return WC.PAUSED;case HC:return WC.SUCCESS;case GC:return WC.CANCELED;case $C:default:return WC.ERROR}}var QC=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),JC=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=QC.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=QC.ABORT,e(t)})),t.xhr_.addEventListener("error",(function(){t.errorCode_=QC.NETWORK_ERROR,e(t)})),t.xhr_.addEventListener("load",(function(){e(t)}))}))}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw jC("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw jC("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw jC("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw jC("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),XC=function(){function t(){}return t.prototype.createXhrIo=function(){return new JC},t}();function ZC(t){return"string"==typeof t||t instanceof String}function YC(t){return tS()&&t instanceof Blob}function tS(){return"undefined"!=typeof Blob}function eS(t,e,n,r){if(r<e)throw new wC(CC,"Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw new wC(CC,"Invalid value for '"+t+"'. Expected "+n+" or less.")}function nS(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function rS(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=nS();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(tS())return new Blob(t);throw new wC(SC,"This browser doesn't seem to support creating Blobs")}var iS=function(){function t(t,e){var n=0,r="";YC(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(YC(this.data_)){var r=(s=e,o=n,(i=this.data_).webkitSlice?i.webkitSlice(s,o):i.mozSlice?i.mozSlice(s,o):i.slice?i.slice(s,o):null);return null===r?null:new t(r)}var i,s,o;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(tS()){var r=e.map((function(e){return e instanceof t?e.data_:e}));return new t(rS.apply(null,r))}var i=e.map((function(t){return ZC(t)?DC(RC.RAW,t).data:t.data_})),s=0;i.forEach((function(t){s+=t.byteLength}));var o=new Uint8Array(s),a=0;return i.forEach((function(t){for(var e=0;e<t.length;e++)o[a++]=t[e]})),new t(o,!0)},t.prototype.uploadData=function(){return this.data_},t}(),sS=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(r){return new t(e,"")}if(""===n.path)return n;throw new wC("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){var n=null,r="([A-Za-z0-9.\\-_]+)",i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(t){t.path_=decodeURIComponent(t.path)}for(var o=_C.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+o+"/v[A-Za-z0-9_]+/b/"+r+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/"+r+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:s}],u=0;u<a.length;u++){var c=a[u],l=c.regex.exec(e);if(l){var h=l[c.indices.path];h||(h=""),n=new t(l[c.indices.bucket],h),c.postModify(n);break}}if(null==n)throw function(t){return new wC("invalid-url","Invalid URL '"+t+"'.")}(e);return n},t}();function oS(t){var e,n;try{e=JSON.parse(t)}catch(r){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function aS(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function uS(t){return"https://"+_C+"/v0"+t}function cS(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}function lS(t,e){return e}var hS=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||lS}}(),dS=null;function fS(){if(dS)return dS;var t=[];t.push(new hS("bucket")),t.push(new hS("generation")),t.push(new hS("metageneration")),t.push(new hS("name","fullPath",!0));var e=new hS("name");e.xform=function(t,e){return function(t){return!ZC(t)||t.length<2?t:aS(t)}(e)},t.push(e);var n=new hS("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new hS("timeCreated")),t.push(new hS("updated")),t.push(new hS("md5Hash",null,!0)),t.push(new hS("cacheControl",null,!0)),t.push(new hS("contentDisposition",null,!0)),t.push(new hS("contentEncoding",null,!0)),t.push(new hS("contentLanguage",null,!0)),t.push(new hS("contentType",null,!0)),t.push(new hS("metadata","customMetadata",!0)),dS=t}function pS(t,e,n){var r=oS(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,s=0;s<i;s++){var o=n[s];r[o.local]=o.xform(r,e[o.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new sS(t.bucket,t.fullPath);return e.makeStorageReference(n)}})}(r,t),r}(t,r,n)}function gS(t,e){for(var n={},r=e.length,i=0;i<r;i++){var s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}var mS=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function bS(t){if(!t)throw TC()}function yS(t,e){return function(n,r){var i=pS(t,r,e);return bS(null!==i),i}}function vS(t){return function(e,n){var r;return(r=401===e.getStatus()?new wC("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new wC("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new wC("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,r}}function _S(t){var e=vS(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new wC("object-not-found","Object '"+t.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function wS(t,e,n){var r=uS(e.fullServerUrl()),i=t.maxOperationRetryTime,s=new mS(r,"GET",yS(t,n),i);return s.errorHandler=_S(e),s}function OS(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var CS=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function SS(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(r){bS(!1)}return bS(!!n&&-1!==(e||["active"]).indexOf(n)),n}var ES=262144,TS=function(){return function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}}}(),xS=function(){return function(t,e,n,r,i,s){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=s}}();function kS(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}var IS=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=fS(),this._resumable=this._shouldDoResumable(this._blob),this._state=UC,this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t.codeEquals(OC)?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition($C))},this._metadataErrorHandler=function(t){r._request=void 0,t.codeEquals(OC)?r.completeTransitions_():(r._error=t,r._transition($C))},this._promise=new Promise((function(t,e){r._resolve=t,r._reject=e,r._start()})),this._promise.then(null,(function(){}))}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){this._state===UC&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;this._ref.storage.getAuthToken().then((function(n){switch(e._state){case UC:t(n);break;case zC:e._transition(GC);break;case qC:e._transition(BC)}}))},t.prototype._createResumable=function(){var t=this;this._resolveToken((function(e){var n=function(t,e,n,r,i){var s=e.bucketOnlyServerUrl(),o=OS(e,r,i),a={name:o.fullPath},u=uS(s),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=gS(o,n),h=new mS(u,"POST",(function(t){var e;SS(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(n){bS(!1)}return bS(ZC(e)),e}),t.maxUploadRetryTime);return h.urlParams=a,h.headers=c,h.body=l,h.errorHandler=vS(e),h}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then((function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()}),t._errorHandler)}))},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken((function(n){var r=function(t,e,n,r){var i=new mS(n,"POST",(function(t){var e=SS(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(s){bS(!1)}n||bS(!1);var i=Number(n);return bS(!isNaN(i)),new CS(i,r.size(),"final"===e)}),t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=vS(e),i}(t._ref.storage,t._ref._location,e,t._blob),i=t._ref.storage.makeRequest(r,n);t._request=i,i.getPromise().then((function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()}),t._errorHandler)}))},t.prototype._continueUpload=function(){var t=this,e=ES*this._chunkMultiplier,n=new CS(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i){var s;try{s=function(t,e,n,r,i,s,o,a){var u=new CS(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new wC("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},f=r.slice(h,h+l);if(null===f)throw kC();var p=new mS(n,"POST",(function(t,n){var i,o=SS(t,["active","final"]),a=u.current+l,c=r.size();return i="final"===o?yS(e,s)(t,n):null,new CS(a,c,"final"===o,i)}),e.maxUploadRetryTime);return p.headers=d,p.body=f.uploadData(),p.progressCallback=a||null,p.errorHandler=vS(t),p}(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(a){return t._error=a,void t._transition($C)}var o=t._ref.storage.makeRequest(s,i);t._request=o,o.getPromise().then((function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition(HC)):t.completeTransitions_()}),t._errorHandler)}))},t.prototype._increaseMultiplier=function(){ES*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken((function(e){var n=wS(t._ref.storage,t._ref._location,t._mappings),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._transition(HC)}),t._metadataErrorHandler)}))},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken((function(e){var n=function(t,e,n,r,i){var s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();o["Content-Type"]="multipart/related; boundary="+a;var u=OS(e,r,i),c=gS(u,n),l=iS.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+a+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===l)throw kC();var h={name:u.fullPath},d=uS(s),f=t.maxUploadRetryTime,p=new mS(d,"POST",yS(t,n),f);return p.urlParams=h,p.headers=o,p.body=l.uploadData(),p.errorHandler=vS(e),p}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition(HC)}),t._errorHandler)}))},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case zC:case qC:this._state=t,void 0!==this._request&&this._request.cancel();break;case UC:var e=this._state===BC;this._state=t,e&&(this._notifyObservers(),this._start());break;case BC:this._state=t,this._notifyObservers();break;case GC:this._error=xC(),this._state=t,this._notifyObservers();break;case $C:case HC:this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case qC:this._transition(BC);break;case zC:this._transition(GC);break;case UC:this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=KC(this._state);return new xS(this._transferred,this._blob.size(),t,this._metadata,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,s=new TS(e,n,r);return this._addObserver(s),function(){i._removeObserver(s)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach((function(e){t._notifyObserver(e)}))},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(KC(this._state)){case WC.SUCCESS:kS(this._resolve.bind(null,this.snapshot))();break;case WC.CANCELED:case WC.ERROR:kS(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(KC(this._state)){case WC.RUNNING:case WC.PAUSED:t.next&&kS(t.next.bind(t,this.snapshot))();break;case WC.SUCCESS:t.complete&&kS(t.complete.bind(t))();break;case WC.CANCELED:case WC.ERROR:t.error&&kS(t.error.bind(t,this._error))();break;default:t.error&&kS(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t=this._state===BC||this._state===qC;return t&&this._transition(UC),t},t.prototype.pause=function(){var t=this._state===UC;return t&&this._transition(qC),t},t.prototype.cancel=function(){var t=this._state===UC||this._state===qC;return t&&this._transition(zC),t},t}(),NS=function(){function t(t,e){this._service=t,this._location=e instanceof sS?e:sS.makeFromUrl(e)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype.newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new sS(this._location.bucket,"");return this.newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return aS(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new sS(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw PC(t)},t}();function PS(t,e){return Object(nu.b)(this,void 0,void 0,(function(){var n,r,i;return Object(nu.d)(this,(function(s){switch(s.label){case 0:return null!=e&&"number"==typeof e.maxResults&&eS("options.maxResults",1,1e3,e.maxResults),[4,t.storage.getAuthToken()];case 1:return n=s.sent(),i=function(t,e,n,r,i){var s={};s.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);var o=uS(e.bucketOnlyServerUrl()),a=t.maxOperationRetryTime,u=new mS(o,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=oS(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,s=n.prefixes;i<s.length;i++){var o=s[i].replace(/\/$/,""),a=t.makeStorageReference(new sS(e,o));r.prefixes.push(a)}if(n.items)for(var u=0,c=n.items;u<c.length;u++)a=t.makeStorageReference(new sS(e,c[u].name)),r.items.push(a);return r}(t,e,r)}(t,e,r);return bS(null!==i),i}}(t,e.bucket),a);return u.urlParams=s,u.errorHandler=vS(e),u}(t.storage,t._location,"/",(r=e||{}).pageToken,r.maxResults),[2,t.storage.makeRequest(i,n).getPromise()]}}))}))}function AS(t,e){var n=function(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new sS(t._location.bucket,n);return new NS(t.storage,r)}var jS=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),RS=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate),this._snapshot=new jS(this._delegate.snapshot,this,this._ref)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return this._snapshot},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then((function(e){if(t)return t(new jS(e,n,n._ref))}),e)},t.prototype.on=function(t,e,n,r){var i=this,s=void 0;return e&&(s="function"==typeof e?function(t){return e(new jS(t,i,i._ref))}:{next:e.next?function(t){return e.next(new jS(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,s,n||void 0,r||void 0)},t}(),MS=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map((function(e){return new DS(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map((function(e){return new DS(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),DS=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(AS(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new RS(function(t,e,n){return void 0===n&&(n=null),t._throwIfRoot("uploadBytesResumable"),new IS(t,new iS(e),n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){return void 0===e&&(e=RC.RAW),this._throwIfRoot("putString"),new RS(function(t,e,n,r){void 0===n&&(n=RC.RAW),t._throwIfRoot("putString");var i=DC(n,e),s=Object(nu.a)({},r);return null==s.contentType&&null!=i.contentType&&(s.contentType=i.contentType),new IS(t,new iS(i.data,!0),s)}(this._delegate,t,e,n),this)},t.prototype.listAll=function(){var t,e,n=this;return(t=this._delegate,e={prefixes:[],items:[]},function t(e,n,r){return Object(nu.b)(this,void 0,void 0,(function(){var i,s,o;return Object(nu.d)(this,(function(a){switch(a.label){case 0:return[4,PS(e,{pageToken:r})];case 1:return i=a.sent(),(s=n.prefixes).push.apply(s,i.prefixes),(o=n.items).push.apply(o,i.items),null==i.nextPageToken?[3,3]:[4,t(e,n,i.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}(t,e).then((function(){return e}))).then((function(t){return new MS(t,n.storage)}))},t.prototype.list=function(t){var e=this;return PS(this._delegate,t).then((function(t){return new MS(t,e.storage)}))},t.prototype.getMetadata=function(){return function(t){return Object(nu.b)(this,void 0,void 0,(function(){var e,n;return Object(nu.d)(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("getMetadata"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=wS(t.storage,t._location,fS()),[2,t.storage.makeRequest(n,e).getPromise()]}}))}))}(this._delegate)},t.prototype.updateMetadata=function(t){return function(t,e){return Object(nu.b)(this,void 0,void 0,(function(){var n,r;return Object(nu.d)(this,(function(i){switch(i.label){case 0:return t._throwIfRoot("updateMetadata"),[4,t.storage.getAuthToken()];case 1:return n=i.sent(),r=function(t,e,n,r){var i=uS(e.fullServerUrl()),s=gS(n,r),o=t.maxOperationRetryTime,a=new mS(i,"PATCH",yS(t,r),o);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=s,a.errorHandler=_S(e),a}(t.storage,t._location,e,fS()),[2,t.storage.makeRequest(r,n).getPromise()]}}))}))}(this._delegate,t)},t.prototype.getDownloadURL=function(){return function(t){return Object(nu.b)(this,void 0,void 0,(function(){var e,n;return Object(nu.d)(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("getDownloadURL"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=function(t,e,n){var r=uS(e.fullServerUrl()),i=t.maxOperationRetryTime,s=new mS(r,"GET",function(t,e){return function(n,r){var i=pS(t,r,e);return bS(null!==i),function(t,e){var n=oS(e);if(null===n)return null;if(!ZC(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map((function(e){var n=t.fullPath;return uS("/b/"+i(t.bucket)+"/o/"+i(n))+cS({alt:"media",token:e})}))[0]}(i,r)}}(t,n),i);return s.errorHandler=_S(e),s}(t.storage,t._location,fS()),[2,t.storage.makeRequest(n,e).getPromise().then((function(t){if(null===t)throw new wC("no-download-url","The given file does not have any download URLs.");return t}))]}}))}))}(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),function(t){return Object(nu.b)(this,void 0,void 0,(function(){var e,n;return Object(nu.d)(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("deleteObject"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=function(t,e){var n=uS(e.fullServerUrl()),r=new mS(n,"DELETE",(function(t,e){}),t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=_S(e),r}(t.storage,t._location),[2,t.storage.makeRequest(n,e).getPromise()]}}))}))}(this._delegate)},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw PC(t)},t}(),LS=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}(),FS=function(){function t(t,e,n,r,i,s,o,a,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=s.slice(),this.callback_=o,this.errorCallback_=a,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(t,e){h.resolve_=t,h.reject_=e,h.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,s=t.reject_,o=n.xhr;if(n.wasSuccessCode)try{var a=t.callback_(o,o.getResponseText());void 0!==a?i(a):i()}catch(u){s(u)}else null!==o?((r=TC()).serverResponse=o.getResponseText(),s(t.errorCallback_?t.errorCallback_(o,r):r)):s(r=n.canceled?t.appDelete_?NC():xC():new wC("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new VS(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,s=null,o=!1,a=0;function u(){return 2===a}var c=!1;function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];c||(c=!0,n.apply(null,t))}function h(e){s=setTimeout((function(){s=null,function(e,n){if(n)e(!1,new VS(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===QC.NO_ERROR,s=n.getStatus();if(r&&!t.isRetryStatusCode_(s)){var o=-1!==t.successCodes_.indexOf(s);e(!0,new VS(o,n))}else{var a=n.getErrorCode()===QC.ABORT;e(!1,new VS(!1,null,a))}}))}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(d,u())}),e)}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!c)if(t)l.call.apply(l,Object(nu.g)([null,t],e));else{var r;u()||o?l.call.apply(l,Object(nu.g)([null,t],e)):(i<64&&(i*=2),1===a?(a=2,r=0):r=1e3*(i+Math.random()),h(r))}}var f=!1;function p(t){f||(f=!0,c||(null!==s?(t||(a=2),clearTimeout(s),h(0)):t||(a=1)))}return h(0),setTimeout((function(){o=!0,p(!0)}),r),p}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),VS=function(){return function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}}();function US(t){return/^[A-Za-z]+:\/\//.test(t)}function qS(t,e){if(e&&US(e)){if(t instanceof zS)return new NS(t,e);throw IC("To use ref(service, url), the first argument must be a Storage instance.")}return function t(e,n){if(e instanceof zS){var r=e;if(null==r._bucket)throw new wC("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var i=new NS(r,r._bucket);return null!=n?t(i,n):i}if(void 0!==n){if(n.includes(".."))throw IC('`path` param cannot contain ".."');return AS(e,n)}return e}(t,e)}var BS,HS,zS=function(){function t(t,e,n,r){var i,s;this.app=t,this._authProvider=e,this._pool=n,this._url=r,this._bucket=null,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?sS.makeFromBucketSpec(r):null==(s=null==(i=this.app.options)?void 0:i.storageBucket)?null:sS.makeFromBucketSpec(s)}return Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){eS("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){eS("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype.getAuthToken=function(){return Object(nu.b)(this,void 0,void 0,(function(){var t,e;return Object(nu.d)(this,(function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}}))}))},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach((function(t){return t.cancel()})),this._requests.clear(),Promise.resolve()},t.prototype.makeStorageReference=function(t){return new NS(this,t)},t.prototype.makeRequest=function(t,e){var n=this;if(this._deleted)return new LS(NC());var r=function(t,e,n,r){var i=cS(t.urlParams),s=t.url+i,o=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(o,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(o,n),function(t){t["X-Firebase-Storage-Version"]="webjs/"+(void 0!==ru.a?ru.a.SDK_VERSION:"AppManager")}(o),new FS(s,t.method,o,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}(t,this._appId,e,this._pool);return this._requests.add(r),r.getPromise().then((function(){return n._requests.delete(r)}),(function(){return n._requests.delete(r)})),r},t}(),GS=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(US(t))throw IC("ref() expected a child path but got a URL, use refFromURL instead.");return new DS(qS(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!US(t))throw IC("refFromURL() expected a full URL but got a child path, use ref() instead.");try{sS.makeFromUrl(t)}catch(e){throw IC("refFromUrl() expected a valid full URL but got an invalid one.")}return new DS(qS(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t}();function $S(t){const e=function(t){return new Yt.a(e=>{const n=t=>e.next(t);return t.on("state_changed",n,r=>{n(t.snapshot),(t=>{e.error(t)})(r)},()=>{n(t.snapshot),e.complete()}),()=>t.cancel()})}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(Object(oe.a)(t=>t.bytesTransferred/t.totalBytes*100))}}function WS(t,e,n){return{getDownloadURL:()=>Object(Zt.a)(void 0).pipe(Object(tu.b)(e.outsideAngular),$i(()=>t.getDownloadURL()),n),getMetadata:()=>Object(Zt.a)(void 0).pipe(Object(tu.b)(e.outsideAngular),$i(()=>t.getMetadata()),n),delete:()=>Object(qe.a)(t.delete()),child:r=>WS(t.child(r),e,n),updateMetadata:e=>Object(qe.a)(t.updateMetadata(e)),put:(e,n)=>$S(t.put(e,n)),putString:(e,n,r)=>$S(t.putString(e,n,r)),listAll:()=>Object(qe.a)(t.listAll())}}HS={TaskState:WC,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:RC,Storage:zS,Reference:DS},(BS=ru.a).INTERNAL.registerComponent(new rd.a("storage",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return new GS(n,new zS(n,r,new XC,e))}),"PUBLIC").setServiceProps(HS).setMultipleInstances(!0)),BS.registerVersion("@firebase/storage","0.4.2");const KS=new r.q("angularfire2.storageBucket"),QS=new r.q("angularfire2.storage.maxUploadRetryTime"),JS=new r.q("angularfire2.storage.maxOperationRetryTime");let XS=(()=>{class t{constructor(t,e,n,r,i,s,o){this.schedulers=new eu.d(i),this.keepUnstableUntilFirst=Object(eu.h)(this.schedulers);const a=Object(eu.g)(t,i,e);this.storage=Object(eu.f)(`${a.name}.storage.${n}`,"AngularFireStorage",a,()=>{const t=i.runOutsideAngular(()=>a.storage(n||void 0));return s&&t.setMaxUploadRetryTime(s),o&&t.setMaxOperationRetryTime(o),t},[s,o])}ref(t){return WS(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst)}refFromURL(t){return WS(this.storage.refFromURL(t),this.schedulers,this.keepUnstableUntilFirst)}upload(t,e,n){return WS(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst).put(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(eu.c),r.Sb(eu.b,8),r.Sb(KS,8),r.Sb(r.B),r.Sb(r.z),r.Sb(QS,8),r.Sb(JS,8))},t.\u0275prov=Object(r.Fb)({factory:function(){return new t(Object(r.Sb)(eu.c),Object(r.Sb)(eu.b,8),Object(r.Sb)(KS,8),Object(r.Sb)(r.B),Object(r.Sb)(r.z),Object(r.Sb)(QS,8),Object(r.Sb)(JS,8))},token:t,providedIn:"any"}),t})(),ZS=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)}}),t})(),YS=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[XS],imports:[ZS]}),t})(),tE=(()=>{class t{transform(t,e){return e?t?t.filter(t=>t.name.includes(e)||t.category.name.includes(e)):[]:t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Ib({name:"prodSearch",type:t,pure:!0}),t})();function eE(t,e){if(1&t){const t=r.Pb();r.Ob(0,"tr"),r.Ob(1,"td"),r.sc(2),r.Nb(),r.Ob(3,"td"),r.sc(4),r.Nb(),r.Ob(5,"td"),r.sc(6),r.Nb(),r.Ob(7,"td"),r.sc(8),r.Nb(),r.Ob(9,"td"),r.sc(10),r.Nb(),r.Ob(11,"td",13),r.Kb(12,"img"),r.Nb(),r.Ob(13,"td"),r.Ob(14,"button",14),r.Vb("click",(function(){r.kc(t);const n=e.$implicit;return r.Xb().editProduct(n)}))("click",(function(){r.kc(t);const e=r.Xb(),n=r.ic(33);return e.openModal(n,e.modalLG)})),r.sc(15,"edit"),r.Nb(),r.Nb(),r.Ob(16,"td"),r.Ob(17,"button",14),r.Vb("click",(function(){r.kc(t);const e=r.Xb(),n=r.ic(35);return e.openModal(n,e.modalSM)}))("click",(function(){r.kc(t);const n=e.$implicit;return r.Xb().getProduct(n)})),r.sc(18,"delete"),r.Nb(),r.Nb(),r.Nb()}if(2&t){const t=e.$implicit,n=e.index;r.yb(2),r.tc(n+1),r.yb(2),r.tc(t.category.name),r.yb(2),r.tc(t.name),r.yb(2),r.tc(t.description),r.yb(2),r.uc("",t.price,"\u0433\u0440\u043d"),r.yb(2),r.zb("src",t.image,r.mc)}}function nE(t,e){if(1&t&&(r.Ob(0,"option"),r.sc(1),r.Nb()),2&t){const t=e.$implicit;r.yb(1),r.uc(" ",t.name," ")}}function rE(t,e){1&t&&(r.Ob(0,"div",37),r.sc(1," File uploaded. Now you can add product. "),r.Nb())}function iE(t,e){if(1&t){const t=r.Pb();r.Ob(0,"button",1),r.Vb("click",(function(){return r.kc(t),r.Xb(2).addProduct()})),r.sc(1,"Add"),r.Nb()}}function sE(t,e){if(1&t){const t=r.Pb();r.Ob(0,"button",1),r.Vb("click",(function(){return r.kc(t),r.Xb(2).updateProduct()})),r.sc(1,"Save edit"),r.Nb()}}function oE(t,e){if(1&t){const t=r.Pb();r.Ob(0,"div",15),r.Ob(1,"h4",16),r.sc(2,"Modal title"),r.Nb(),r.Ob(3,"button",17),r.Vb("click",(function(){return r.kc(t),r.Xb().modalRef.hide()}))("click",(function(){return r.kc(t),r.Xb().resetForm()})),r.Ob(4,"span",18),r.sc(5,"\xd7"),r.Nb(),r.Nb(),r.Nb(),r.Ob(6,"div",19),r.Ob(7,"div",3),r.Ob(8,"label",20),r.sc(9,"Category: "),r.Nb(),r.Ob(10,"select",21),r.Vb("change",(function(){return r.kc(t),r.Xb().setCategory()}))("ngModelChange",(function(e){return r.kc(t),r.Xb().categoryName=e})),r.qc(11,nE,2,1,"option",10),r.Nb(),r.Nb(),r.Ob(12,"div",3),r.Ob(13,"label",22),r.sc(14,"Name:"),r.Nb(),r.Ob(15,"input",23),r.Vb("ngModelChange",(function(e){return r.kc(t),r.Xb().productName=e})),r.Nb(),r.Nb(),r.Ob(16,"div",3),r.Ob(17,"label",22),r.sc(18,"Description:"),r.Nb(),r.Ob(19,"textarea",24),r.Vb("ngModelChange",(function(e){return r.kc(t),r.Xb().productDescription=e})),r.Nb(),r.Nb(),r.Ob(20,"div",3),r.Ob(21,"label",25),r.sc(22,"Price: "),r.Nb(),r.Ob(23,"input",26),r.Vb("ngModelChange",(function(e){return r.kc(t),r.Xb().productPrice=e})),r.Nb(),r.Nb(),r.Ob(24,"div",27),r.Ob(25,"div",28),r.Ob(26,"input",29),r.Vb("change",(function(e){return r.kc(t),r.Xb().uploadFile(e)})),r.Nb(),r.Ob(27,"label",30),r.sc(28,"Choose file"),r.Nb(),r.Nb(),r.Nb(),r.Ob(29,"div",31),r.Kb(30,"div",32),r.Yb(31,"async"),r.Nb(),r.qc(32,rE,2,0,"div",33),r.Nb(),r.Ob(33,"div",34),r.Ob(34,"button",35),r.Vb("click",(function(){return r.kc(t),r.Xb().modalRef.hide()}))("click",(function(){return r.kc(t),r.Xb().resetForm()})),r.sc(35,"Close"),r.Nb(),r.qc(36,iE,2,0,"button",36),r.qc(37,sE,2,0,"button",36),r.Nb()}if(2&t){const t=r.Xb();r.yb(10),r.dc("ngModel",t.categoryName),r.yb(1),r.dc("ngForOf",t.categories),r.yb(4),r.dc("ngModel",t.productName),r.yb(4),r.dc("ngModel",t.productDescription),r.yb(4),r.dc("ngModel",t.productPrice),r.yb(7),r.oc("width",r.Zb(31,10,t.uploadPercent)+"%"),r.yb(2),r.dc("ngIf",t.isLoaded),r.yb(4),r.dc("ngIf",!t.isEdited),r.yb(1),r.dc("ngIf",t.isEdited)}}function aE(t,e){if(1&t){const t=r.Pb();r.Ob(0,"div",38),r.Ob(1,"button",1),r.Vb("click",(function(){return r.kc(t),r.Xb().modalRef.hide()})),r.sc(2,"Dismiss"),r.Nb(),r.Ob(3,"button",39),r.Vb("click",(function(){r.kc(t);const e=r.Xb();return e.deleteProduct(e.product)})),r.sc(4,"Delete"),r.Nb(),r.Nb()}}let uE=(()=>{class t{constructor(t,e,n,r,i){this.catService=t,this.prodService=e,this.modalService=n,this.storage=r,this.toastr=i,this.isEdited=!1,this.isChecked=!1,this.isLoaded=!1,this.modalLG="modal-lg modal-dialog-centered",this.modalSM="modal-sm modal-dialog-centered",this.checkModel={left:!1,middle:!0,right:!1}}ngOnInit(){this.getCategories(),this.getProducts()}getCategories(){this.catService.getAll().snapshotChanges().pipe(Object(oe.a)(t=>t.map(t=>Object.assign({id:t.payload.doc.id},t.payload.doc.data())))).subscribe(t=>{this.categories=t})}getProducts(){this.prodService.getAll().snapshotChanges().pipe(Object(oe.a)(t=>t.map(t=>Object.assign({id:t.payload.doc.id},t.payload.doc.data())))).subscribe(t=>{this.products=t})}setCategory(){this.currentCategory=this.categories.filter(t=>t.name===this.categoryName)[0]}checkProductFields(){""!=this.categoryName&&""!=this.productName&&""!=this.productDescription&&null!=this.productPrice&&""!=this.productImage||(this.isChecked=!0)}addProduct(){if(this.setCategory(),this.checkProductFields(),0==this.isChecked){const t=new vC(1,this.currentCategory,this.productName,this.productDescription,this.productPrice,1,this.productImage);delete t.id,this.prodService.create(t).then(()=>{this.toastr.success("Created new product successfully!")}),this.modalRef.hide(),this.resetForm()}}getProduct(t){this.product=t}editProduct(t){this.productID=t.id,this.currentCategory=t.category,this.categoryName=t.category.name,this.productName=t.name,this.productDescription=t.description,this.productPrice=t.price,this.productImage=t.image,this.isEdited=!0}updateProduct(){if(this.checkProductFields(),0==this.isChecked){const t=new vC(this.productID,this.currentCategory,this.productName,this.productDescription,this.productPrice,1,this.productImage);this.prodService.update(t.id.toString(),t).then(()=>this.toastr.success("The product was updated successfully!")).catch(t=>console.log(t)),this.getProducts(),this.modalRef.hide(),this.resetForm(),this.isEdited=!1,this.isChecked=!1}}deleteProduct(t){this.prodService.delete(t.id.toString()).then(()=>{this.toastr.success("The product was deleted successfully!")}).catch(t=>console.log(t)),this.getProducts(),this.modalRef.hide()}openModal(t,e){this.modalRef=this.modalService.show(t,{class:""+e})}uploadFile(t){const e=t.target.files[0],n=this.storage.ref("images/"+e.name).put(e);this.uploadPercent=n.percentageChanges(),n.then(t=>{this.storage.ref("images/"+t.metadata.name).getDownloadURL().subscribe(t=>{this.productImage=t,this.isLoaded=!0})})}resetForm(){this.categoryName="",this.productDescription="",this.productName="",this.productPrice=void 0,this.productImage="",this.isLoaded=!1}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(jO),r.Jb(bO),r.Jb(pi),r.Jb(XS),r.Jb(uC))},t.\u0275cmp=r.Db({type:t,selectors:[["app-admin-products"]],decls:36,vars:5,consts:[[1,"container","cnt1"],["type","button",1,"btn","btn-dark",3,"click"],[1,"container","cnt2"],[1,"form-group"],["type","text","placeholder","filter category..","name","searchProductName",1,"form-control","srchPrdNm",3,"ngModel","ngModelChange"],[1,"table","table-bordered"],[1,"thead-light"],["scope","col",2,"width","3%"],["scope","col"],["scope","col",2,"width","7%"],[4,"ngFor","ngForOf"],["open",""],["delete",""],[2,"text-align","center"],[1,"btn","btn-dark",3,"click"],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body"],["for","chooseCategory"],["name","categoryName","id","chooseCategory",1,"form-control",3,"ngModel","change","ngModelChange"],["for","productDescription"],["type","text","name","productName",1,"form-control",3,"ngModel","ngModelChange"],["name","productDescription","id","text",1,"form-control",3,"ngModel","ngModelChange"],["for","productPrice"],["name","productPrice","type","number","id","productPrice",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group","mb-3"],[1,"custom-file"],["type","file","id","productImage",1,"custom-file-input",3,"change"],["for","productImage",1,"custom-file-label"],[1,"progress","mb-3"],["role","progressbar","aria-valuenow","0","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","bg-dark"],["class","alert alert-dark","role","alert",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button","class","btn btn-dark",3,"click",4,"ngIf"],["role","alert",1,"alert","alert-dark"],[1,"modal-body","deleteModal"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(t,e){if(1&t){const t=r.Pb();r.Ob(0,"div",0),r.Ob(1,"p"),r.sc(2,"Products"),r.Nb(),r.Ob(3,"button",1),r.Vb("click",(function(){r.kc(t);const n=r.ic(33);return e.openModal(n,e.modalLG)})),r.sc(4,"Add"),r.Nb(),r.Nb(),r.Ob(5,"div",2),r.Ob(6,"form"),r.Ob(7,"div",3),r.Ob(8,"input",4),r.Vb("ngModelChange",(function(t){return e.searchProductName=t})),r.Nb(),r.Nb(),r.Nb(),r.Kb(9,"hr"),r.Ob(10,"table",5),r.Ob(11,"thead",6),r.Ob(12,"tr"),r.Ob(13,"th",7),r.sc(14,"#"),r.Nb(),r.Ob(15,"th",8),r.sc(16,"Category"),r.Nb(),r.Ob(17,"th",8),r.sc(18,"Name"),r.Nb(),r.Ob(19,"th",8),r.sc(20,"Description"),r.Nb(),r.Ob(21,"th",8),r.sc(22,"Price"),r.Nb(),r.Ob(23,"th",8),r.sc(24,"Image"),r.Nb(),r.Ob(25,"th",9),r.sc(26,"Edit"),r.Nb(),r.Ob(27,"th",9),r.sc(28,"Delete"),r.Nb(),r.Nb(),r.Nb(),r.Ob(29,"tbody"),r.qc(30,eE,19,6,"tr",10),r.Yb(31,"prodSearch"),r.Nb(),r.Nb(),r.Nb(),r.qc(32,oE,38,12,"ng-template",null,11,r.rc),r.qc(34,aE,5,0,"ng-template",null,12,r.rc)}2&t&&(r.yb(8),r.dc("ngModel",e.searchProductName),r.yb(22),r.dc("ngForOf",r.ac(31,2,e.products,e.searchProductName)))},directives:[Yn,en,Qn,Ke,tn,Zn,rt,Cn,gn,st,Sn,kn],pipes:[tE,ft],styles:[".cnt1[_ngcontent-%COMP%]{padding:15px 20px;display:flex;flex-direction:row;justify-content:space-between;border:1px solid #d3d3d3;border-top-left-radius:5px;border-top-right-radius:5px;background-color:#ebe8e8}.cnt1[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;line-height:40px;margin:0}.cnt1[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:150px;height:40px}.cnt2[_ngcontent-%COMP%]{padding:15px;border:1px solid #d3d3d3;border-bottom-left-radius:5px;border-bottom-right-radius:5px}.btnAdd[_ngcontent-%COMP%]{color:#fff;background-color:#d3d3d3}.deleteModal[_ngcontent-%COMP%]{width:300px;display:flex;flex-direction:row;justify-content:center}.deleteModal[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:5px;width:130px;height:50px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:not(.srchPrdNm){width:630px}table[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px}"]}),t})();class cE{constructor(t,e,n,r,i,s){this.id=t,this.title=e,this.text=n,this.date=r,this.author=i,this.image=s}}function lE(t,e){if(1&t){const t=r.Pb();r.Ob(0,"button",17),r.Vb("click",(function(){return r.kc(t),r.Xb().addAdminBlog()})),r.sc(1,"ADD"),r.Nb()}}function hE(t,e){if(1&t){const t=r.Pb();r.Ob(0,"button",18),r.Vb("click",(function(){return r.kc(t),r.Xb().saveEditAdminBlog()})),r.sc(1,"Save edit"),r.Nb()}}function dE(t,e){if(1&t){const t=r.Pb();r.Ob(0,"tr"),r.Ob(1,"td"),r.sc(2),r.Nb(),r.Ob(3,"td"),r.sc(4),r.Nb(),r.Ob(5,"td"),r.sc(6),r.Nb(),r.Ob(7,"td"),r.sc(8),r.Yb(9,"date"),r.Nb(),r.Ob(10,"td"),r.sc(11),r.Nb(),r.Ob(12,"td"),r.Ob(13,"button",19),r.Vb("click",(function(){r.kc(t);const n=e.$implicit;return r.Xb().editAdminBlog(n)})),r.sc(14,"edit"),r.Nb(),r.Nb(),r.Ob(15,"td"),r.Ob(16,"button",19),r.Vb("click",(function(){r.kc(t);const n=e.$implicit;return r.Xb().deleteAdminBlog(n)})),r.sc(17,"delete"),r.Nb(),r.Nb(),r.Nb()}if(2&t){const t=e.$implicit,n=e.index;r.yb(2),r.tc(n+1),r.yb(2),r.tc(t.title),r.yb(2),r.tc(t.text),r.yb(2),r.tc(r.ac(9,5,t.date.toDate(),"MMM d, yyyy")),r.yb(3),r.tc(t.author)}}let fE=(()=>{class t{constructor(t,e,n){this.blogService=t,this.storage=e,this.toastr=n,this.adminBlogs=[],this.blogDate=new Date,this.editStatus=!1}ngOnInit(){this.getAdminBlogs()}getAdminBlogs(){this.blogService.getAll().snapshotChanges().pipe(Object(oe.a)(t=>t.map(t=>Object.assign({id:t.payload.doc.id},t.payload.doc.data())))).subscribe(t=>{this.adminBlogs=t})}checkFormFields(){return""!=this.blogTitle&&""!=this.blogText&&""!=this.blogAuthor}addAdminBlog(){if(this.checkFormFields()){const t=new cE(1,this.blogTitle,this.blogText,this.blogDate,this.blogAuthor,this.blogImage);delete t.id,this.blogService.create(t).then(()=>{this.toastr.success("Created new blog successfully!")}),this.resetForm()}}deleteAdminBlog(t){this.blogService.delete(t.id.toString()).then(()=>{this.toastr.success("The blog was deleted successfully!")}).catch(t=>console.log(t)),this.getAdminBlogs()}editAdminBlog(t){this.blogID=t.id,this.blogTitle=t.title,this.blogText=t.text,this.blogAuthor=t.author,this.blogImage=t.image,this.editStatus=!0}saveEditAdminBlog(){if(this.checkFormFields()){const t=new cE(this.blogID,this.blogTitle,this.blogText,this.blogDate,this.blogAuthor,this.blogImage);this.blogService.update(t.id.toString(),t).then(()=>this.toastr.success("The blog was updated successfully!")).catch(t=>console.log(t)),this.getAdminBlogs(),this.resetForm(),this.editStatus=!1}}resetForm(){this.blogTitle="",this.blogText="",this.blogAuthor=""}uploadFile(t){const e=t.target.files[0],n="images/"+e.name;console.log(e,n);const r=this.storage.ref(n).put(e);this.uploadPercent=r.percentageChanges(),r.then(t=>{this.storage.ref("images/"+t.metadata.name).getDownloadURL().subscribe(t=>{this.blogImage=t})})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(OO),r.Jb(XS),r.Jb(uC))},t.\u0275cmp=r.Db({type:t,selectors:[["app-admin-blogs"]],decls:40,vars:10,consts:[[1,"form-group"],["name","blogTitle","type","text","placeholder","title here...",1,"form-control",3,"ngModel","ngModelChange"],["name","blogText","placeholder","text here...",1,"form-control",3,"ngModel","ngModelChange"],["name","blogAuthor","type","text","placeholder","author here...",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group","mb-3"],[1,"input-group-prepend"],["id","inputGroupFileAddon01",1,"input-group-text"],[1,"custom-file"],["type","file","id","inputGroupFile01","aria-describedby","inputGroupFileAddon01",1,"custom-file-input",3,"change"],["for","inputGroupFile01",1,"custom-file-label"],[1,"progress","mb-3"],["role","progressbar","aria-valuenow","0","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","bg-dark"],["type","button","class","btn btn-dark",3,"click",4,"ngIf"],["type","button","class","btn btn-light",3,"click",4,"ngIf"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-dark",3,"click"],["type","button",1,"btn","btn-light",3,"click"],[1,"btn","btn-dark",3,"click"]],template:function(t,e){1&t&&(r.Ob(0,"form"),r.Ob(1,"div",0),r.Ob(2,"input",1),r.Vb("ngModelChange",(function(t){return e.blogTitle=t})),r.Nb(),r.Nb(),r.Ob(3,"div",0),r.Ob(4,"textarea",2),r.Vb("ngModelChange",(function(t){return e.blogText=t})),r.Nb(),r.Nb(),r.Ob(5,"div",0),r.Ob(6,"input",3),r.Vb("ngModelChange",(function(t){return e.blogAuthor=t})),r.Nb(),r.Nb(),r.Ob(7,"div",4),r.Ob(8,"div",5),r.Ob(9,"span",6),r.sc(10,"Upload"),r.Nb(),r.Nb(),r.Ob(11,"div",7),r.Ob(12,"input",8),r.Vb("change",(function(t){return e.uploadFile(t)})),r.Nb(),r.Ob(13,"label",9),r.sc(14,"Choose file"),r.Nb(),r.Nb(),r.Nb(),r.Ob(15,"div",10),r.Kb(16,"div",11),r.Yb(17,"async"),r.Nb(),r.qc(18,lE,2,0,"button",12),r.qc(19,hE,2,0,"button",13),r.Nb(),r.Kb(20,"hr"),r.Ob(21,"table",14),r.Ob(22,"thead"),r.Ob(23,"tr"),r.Ob(24,"th",15),r.sc(25,"#"),r.Nb(),r.Ob(26,"th",15),r.sc(27,"Title"),r.Nb(),r.Ob(28,"th",15),r.sc(29,"Text"),r.Nb(),r.Ob(30,"th",15),r.sc(31,"Date"),r.Nb(),r.Ob(32,"th",15),r.sc(33,"Author"),r.Nb(),r.Ob(34,"th",15),r.sc(35,"Edit"),r.Nb(),r.Ob(36,"th",15),r.sc(37,"Delete"),r.Nb(),r.Nb(),r.Nb(),r.Ob(38,"tbody"),r.qc(39,dE,18,8,"tr",16),r.Nb(),r.Nb()),2&t&&(r.yb(2),r.dc("ngModel",e.blogTitle),r.yb(2),r.dc("ngModel",e.blogText),r.yb(2),r.dc("ngModel",e.blogAuthor),r.yb(10),r.oc("width",r.Zb(17,8,e.uploadPercent)+"%"),r.yb(2),r.dc("ngIf",!e.editStatus),r.yb(1),r.dc("ngIf",e.editStatus),r.yb(20),r.dc("ngForOf",e.adminBlogs))},directives:[Yn,en,Qn,Ke,tn,Zn,st,rt],pipes:[ft,gt],styles:["textarea[_ngcontent-%COMP%]{height:120px}"]}),t})(),pE=(()=>{class t{constructor(t,e,n){this.ActivatedRoute=t,this.blogService=e,this.location=n}ngOnInit(){this.getBlog()}getBlog(){const t=this.ActivatedRoute.snapshot.paramMap.get("id");this.blogService.getBlog(t).subscribe(t=>this.blog=t.data())}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(fo),r.Jb(OO),r.Jb(O))},t.\u0275cmp=r.Db({type:t,selectors:[["app-blog-details"]],decls:15,vars:12,consts:[[1,"col-12"],[1,"row"],[1,"image_box"],["alt",""],[1,"info"],[2,"color","#188cda"],[1,"blog-text",2,"white-space","pre-line"],[1,"uil","uil-arrow-circle-left",3,"click"]],template:function(t,e){1&t&&(r.Ob(0,"div",0),r.Ob(1,"div",1),r.Ob(2,"div",2),r.Kb(3,"img",3),r.Nb(),r.Ob(4,"div",4),r.Ob(5,"p",5),r.sc(6),r.Yb(7,"uppercase"),r.Yb(8,"date"),r.Yb(9,"uppercase"),r.Nb(),r.Ob(10,"h3"),r.sc(11),r.Nb(),r.Ob(12,"p",6),r.sc(13),r.Nb(),r.Nb(),r.Nb(),r.Ob(14,"i",7),r.Vb("click",(function(){return e.location.back()})),r.Nb(),r.Nb()),2&t&&(r.yb(3),r.zb("src",null==e.blog?null:e.blog.image,r.mc),r.yb(3),r.vc("",r.Zb(7,5,r.ac(8,7,null==e.blog?null:e.blog.date.toDate(),"MMM d, yyyy"))," ",r.Zb(9,10,null==e.blog?null:e.blog.author),""),r.yb(5),r.tc(null==e.blog?null:e.blog.title),r.yb(2),r.tc(null==e.blog?null:e.blog.text))},pipes:[pt,gt],styles:[".col-12[_ngcontent-%COMP%]{height:80vh;position:relative}.col-12[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.col-12[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .image_box[_ngcontent-%COMP%]{width:37%;height:60vh;margin-left:50px}.col-12[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .image_box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.info[_ngcontent-%COMP%]{margin-right:50px;margin-top:30px;width:50%;min-height:70%;font-size:18px}i[_ngcontent-%COMP%]{position:absolute;top:73%;left:28px;font-size:55px;color:#4c5055}i[_ngcontent-%COMP%]:hover{color:#000}@media screen and (max-width:1100px) and (min-width:860px){h3[_ngcontent-%COMP%]{font-size:30px}.image_box[_ngcontent-%COMP%]{width:33%;height:50vh;margin-left:50px}.image_box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}}@media screen and (max-width:870px) and (min-width:500px){.col-12[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{flex-direction:column}.col-12[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .image_box[_ngcontent-%COMP%]{width:75%;height:50vh;margin:0 auto 20px}.col-12[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{width:75%;min-height:30vh;margin:0 auto}.col-12[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:30px}.col-12[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}i[_ngcontent-%COMP%]{top:100%;left:0;font-size:45px}}@media screen and (max-width:570px) and (min-width:300px){.col-12[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .image_box[_ngcontent-%COMP%]{width:70%;height:40vh}.col-12[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{width:auto;margin-top:10px;margin-left:50px}.col-12[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:22px}.col-12[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:100%;margin-bottom:5px}.col-12[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .blog-text[_ngcontent-%COMP%]{font-size:16px}i[_ngcontent-%COMP%]{top:100%;left:0;font-size:45px}h4[_ngcontent-%COMP%]{font-size:25px}}"]}),t})();function gE(t,e){if(1&t){const t=r.Pb();r.Ob(0,"tr"),r.Ob(1,"td",7),r.Kb(2,"img"),r.Nb(),r.Ob(3,"td"),r.sc(4),r.Nb(),r.Ob(5,"td"),r.sc(6),r.Nb(),r.Ob(7,"td"),r.sc(8),r.Nb(),r.Ob(9,"td"),r.Ob(10,"div",8),r.Ob(11,"button",9),r.Vb("click",(function(){r.kc(t);const n=e.$implicit;return r.Xb().productCount(n,!1)})),r.sc(12,"-"),r.Nb(),r.Kb(13,"input",10),r.Ob(14,"button",9),r.Vb("click",(function(){r.kc(t);const n=e.$implicit;return r.Xb().productCount(n,!0)})),r.sc(15,"+"),r.Nb(),r.Nb(),r.Nb(),r.Ob(16,"td"),r.Ob(17,"i",11),r.Vb("click",(function(){r.kc(t);const e=r.Xb(),n=r.ic(22);return e.openModal(n,e.modalSM)}))("click",(function(){r.kc(t);const n=e.$implicit;return r.Xb().getProduct(n)})),r.Nb(),r.Nb(),r.Nb()}if(2&t){const t=e.$implicit;r.yb(2),r.zb("src",t.image,r.mc),r.yb(2),r.tc(t.name),r.yb(2),r.uc("",t.price," \u0433\u0440\u043d"),r.yb(2),r.uc("",t.price*t.count," \u0433\u0440\u043d"),r.yb(5),r.dc("value",t.count)}}function mE(t,e){if(1&t){const t=r.Pb();r.Ob(0,"div",12),r.Ob(1,"button",13),r.Vb("click",(function(){return r.kc(t),r.Xb().modalRef.hide()})),r.sc(2,"Dismiss"),r.Nb(),r.Ob(3,"button",14),r.Vb("click",(function(){r.kc(t);const e=r.Xb();return e.removeProduct(e.product)})),r.sc(4,"Delete"),r.Nb(),r.Nb()}}let bE=(()=>{class t{constructor(t,e){this.orderService=t,this.modalService=e,this.basket=[],this.totalPrice=0,this.modalSM="modal-sm modal-dialog-centered",this.checkModel={left:!1,middle:!0,right:!1}}ngOnInit(){this.getLocalProducts()}getLocalProducts(){localStorage.getItem("basket")&&(this.basket=JSON.parse(localStorage.getItem("basket")),this.totalPrice=this.orderService.getTotal(this.basket))}updateData(){this.totalPrice=this.orderService.getTotal(this.basket),this.orderService.basket.next(this.basket),localStorage.setItem("basket",JSON.stringify(this.basket))}productCount(t,e){e?t.count++:t.count>1&&t.count--,this.updateData()}getProduct(t){this.product=t}removeProduct(t){const e=this.basket.findIndex(e=>e.id===t.id);this.basket.splice(e,1),this.updateData(),this.modalRef.hide()}openModal(t,e){this.modalRef=this.modalService.show(t,{class:""+e})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(yO),r.Jb(pi))},t.\u0275cmp=r.Db({type:t,selectors:[["app-basket"]],decls:23,vars:2,consts:[[1,"container",2,"margin","0 auto"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["colspan","6"],[1,"text-right","text-danger"],["delete",""],[2,"width","170px"],[1,"count"],[1,"btn","btn-dark",3,"click"],["type","text","maxlength","3",3,"value"],[1,"uil","uil-trash-alt",3,"click"],[1,"modal-body","deleteModal"],["type","button",1,"btn","btn-dark",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(t,e){1&t&&(r.Ob(0,"div",0),r.Ob(1,"table",1),r.Ob(2,"thead"),r.Ob(3,"tr"),r.Kb(4,"th",2),r.Ob(5,"th",2),r.sc(6,"Name"),r.Nb(),r.Ob(7,"th",2),r.sc(8,"Price"),r.Nb(),r.Ob(9,"th",2),r.sc(10,"Total"),r.Nb(),r.Ob(11,"th",2),r.sc(12,"Count"),r.Nb(),r.Ob(13,"th",2),r.sc(14,"Delete"),r.Nb(),r.Nb(),r.Nb(),r.Ob(15,"tbody"),r.qc(16,gE,18,5,"tr",3),r.Ob(17,"tr"),r.Ob(18,"td",4),r.Ob(19,"h4",5),r.sc(20),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.qc(21,mE,5,0,"ng-template",null,6,r.rc)),2&t&&(r.yb(16),r.dc("ngForOf",e.basket),r.yb(4),r.uc("\u0414\u043e \u043e\u043f\u043b\u0430\u0442\u0438: ",e.totalPrice," \u0433\u0440\u043d"))},directives:[rt],styles:["img[_ngcontent-%COMP%]{width:100px;height:100px}i[_ngcontent-%COMP%]{font-size:45px;color:#4c5055}i[_ngcontent-%COMP%]:hover{color:#000}input[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{text-align:center}td[_ngcontent-%COMP%]{vertical-align:middle;font-size:20px}.count[_ngcontent-%COMP%]{width:100px;margin:0 auto}.count[_ngcontent-%COMP%], .deleteModal[_ngcontent-%COMP%]{display:flex;flex-direction:row}.deleteModal[_ngcontent-%COMP%]{justify-content:center}.deleteModal[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:5px;width:130px;height:50px}@media screen and (max-width:1020px) and (min-width:760px){td[_ngcontent-%COMP%]{font-size:18px}}@media screen and (max-width:770px) and (min-width:480px){.container[_ngcontent-%COMP%]{margin:10px}.container[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px}.container[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:60px}.container[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:35px}.container[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:24px}}@media screen and (max-width:460px) and (min-width:300px){.container[_ngcontent-%COMP%]{margin:0;padding:0}.container[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:14px}.container[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px 5px}.container[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px}.container[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:25px}.container[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:18px}.container[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{width:68px}.container[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:3px 6px}.container[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:27px}}"]}),t})(),yE=(()=>{class t{constructor(t,e,n,r){this.ActivatedRoute=t,this.prodService=e,this.orderService=n,this.location=r}ngOnInit(){this.getProduct()}getProduct(){const t=this.ActivatedRoute.snapshot.paramMap.get("id");console.log(t),this.prodService.getProduct(t).subscribe(t=>this.product=t.data())}productCount(t,e){e?t.count++:t.count>1&&t.count--}addToBasket(t){this.orderService.addBasket(t),t.count=1}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(fo),r.Jb(bO),r.Jb(yO),r.Jb(O))},t.\u0275cmp=r.Db({type:t,selectors:[["app-product-details"]],decls:19,vars:5,consts:[[1,"col-12"],[1,"row"],[1,"image_box"],["alt",""],[1,"info"],[1,"productPriceInfo"],[1,"price"],[1,"productCountWrapper"],[1,"productCount","lessProduct",3,"click"],["type","text","maxlength","3",3,"value"],[1,"productCount","moreProduct",3,"click"],[1,"button","add-to-cart-product",3,"click"],[1,"uil","uil-arrow-circle-left",3,"click"]],template:function(t,e){1&t&&(r.Ob(0,"div",0),r.Ob(1,"div",1),r.Ob(2,"div",2),r.Kb(3,"img",3),r.Nb(),r.Ob(4,"div",4),r.Ob(5,"h3"),r.sc(6),r.Nb(),r.Ob(7,"p"),r.sc(8),r.Nb(),r.Ob(9,"div",5),r.Ob(10,"p",6),r.sc(11),r.Nb(),r.Ob(12,"div",7),r.Ob(13,"span",8),r.Vb("click",(function(){return e.productCount(e.product,!1)})),r.Nb(),r.Kb(14,"input",9),r.Ob(15,"span",10),r.Vb("click",(function(){return e.productCount(e.product,!0)})),r.Nb(),r.Nb(),r.Nb(),r.Ob(16,"div",11),r.Vb("click",(function(){return e.addToBasket(e.product)})),r.sc(17,"\u0417\u0430\u043c\u043e\u0432\u0438\u0442\u0438"),r.Nb(),r.Nb(),r.Nb(),r.Ob(18,"i",12),r.Vb("click",(function(){return e.location.back()})),r.Nb(),r.Nb()),2&t&&(r.yb(3),r.zb("src",null==e.product?null:e.product.image,r.mc),r.yb(3),r.tc(null==e.product?null:e.product.name),r.yb(2),r.tc(null==e.product?null:e.product.description),r.yb(3),r.uc("",(null==e.product?null:e.product.price)*(null==e.product?null:e.product.count)," \u0433\u0440\u043d"),r.yb(3),r.dc("value",null==e.product?null:e.product.count))},styles:[".col-12[_ngcontent-%COMP%]{height:100vh;position:relative}.col-12[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.col-12[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .image_box[_ngcontent-%COMP%]{width:35%;height:70vh;margin-left:50px}.col-12[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .image_box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.info[_ngcontent-%COMP%]{margin-right:50px;margin-top:20px;width:50%;min-height:70%}.info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:not(.price){font-size:27px;font-style:italic}h3[_ngcontent-%COMP%]{margin-bottom:20px}i[_ngcontent-%COMP%]{position:absolute;top:73%;left:28px;font-size:55px;color:#4c5055}i[_ngcontent-%COMP%]:hover{color:#000}.add-to-cart-product[_ngcontent-%COMP%]{margin-top:15px}.price[_ngcontent-%COMP%]{font-size:25px;font-weight:700;color:#c80000}@media screen and (max-width:1200px) and (min-width:1090px){.info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:not(.price){font-size:24px}}@media screen and (max-width:870px) and (min-width:500px){.col-12[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{flex-direction:column}.col-12[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .image_box[_ngcontent-%COMP%]{width:70%;height:50vh;margin:0 auto 20px}.col-12[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{width:70%;min-height:30vh;margin:0 auto}.col-12[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:30px}.col-12[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:not(.price){font-size:20px}.col-12[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .productPriceInfo[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;width:250px}i[_ngcontent-%COMP%]{top:88%;left:11%;font-size:45px}}@media screen and (max-width:620px) and (min-width:300px){.col-12[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .image_box[_ngcontent-%COMP%]{width:70%;height:40vh}.col-12[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{width:auto;margin-top:10px;margin-left:50px}.col-12[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:100%;margin-bottom:5px}.col-12[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:not(.price){font-size:14px;margin-bottom:10px}.col-12[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{top:83%;left:10%;font-size:45px}h3[_ngcontent-%COMP%]{font-size:25px;margin-bottom:8px}.add-to-cart-product[_ngcontent-%COMP%]{margin-top:8px}}"]}),t})(),vE=(()=>{class t{constructor(t,e,n){this.db=t,this.auth=e,this.router=n,this.checkSignIn=new pr.a,this.dbPath="/users",this.userRef=this.db.collection(this.dbPath)}signUp(t,e,n,r,i,s){this.auth.createUserWithEmailAndPassword(r,i).then(r=>{const i={firstName:t,lastName:e,phoneNumber:n,email:r.user.email,image:s,role:"user"};this.db.collection("users").add(i),this.db.collection("users").ref.where("email","==",r.user.email).onSnapshot(t=>{t.forEach(t=>{const e=Object.assign({id:t.id},t.data());localStorage.setItem("user",JSON.stringify(e)),this.checkUser()})})}).catch(t=>console.log(t))}signIn(t,e){this.auth.signInWithEmailAndPassword(t,e).then(t=>{this.db.collection("users").ref.where("email","==",t.user.email).onSnapshot(t=>{t.forEach(t=>{const e=Object.assign({id:t.id},t.data());localStorage.setItem("user",JSON.stringify(e)),this.checkUser()})})})}checkUser(){"admin"!=JSON.parse(localStorage.getItem("user")).role?(this.checkSignIn.next(!0),this.router.navigateByUrl("profile")):(this.checkSignIn.next(!0),this.router.navigateByUrl("admin"))}signOut(){this.auth.signOut().then(()=>{localStorage.removeItem("user"),this.router.navigateByUrl("home")})}updateUserData(t,e){return this.userRef.doc(t).update(Object.assign({},e))}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(gO),r.Sb(tO),r.Sb(ka))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function _E(t,e){1&t&&(r.Ob(0,"div",20),r.sc(1," File uploaded. Now you can add product. "),r.Nb())}function wE(t,e){if(1&t){const t=r.Pb();r.Ob(0,"div",7),r.Ob(1,"h4",8),r.sc(2,"Account photo editing"),r.Nb(),r.Ob(3,"button",9),r.Vb("click",(function(){return r.kc(t),r.Xb().modalRef.hide()})),r.Ob(4,"span",10),r.sc(5,"\xd7"),r.Nb(),r.Nb(),r.Nb(),r.Ob(6,"div",11),r.Ob(7,"form"),r.Ob(8,"div",12),r.Ob(9,"div",13),r.Ob(10,"input",14),r.Vb("change",(function(e){return r.kc(t),r.Xb().uploadFile(e)})),r.Nb(),r.Ob(11,"label",15),r.sc(12,"Choose file"),r.Nb(),r.Nb(),r.Nb(),r.Ob(13,"div",16),r.Kb(14,"div",17),r.Yb(15,"async"),r.Nb(),r.qc(16,_E,2,0,"div",18),r.Ob(17,"button",19),r.Vb("click",(function(){return r.kc(t),r.Xb().updateUserData()})),r.sc(18,"Save"),r.Nb(),r.Nb(),r.Nb()}if(2&t){const t=r.Xb();r.yb(14),r.oc("width",r.Zb(15,3,t.uploadPercent)+"%"),r.yb(2),r.dc("ngIf",t.isLoaded)}}const OE=[{path:"",pathMatch:"full",redirectTo:"menu/pizza"},{path:"home",component:Za},{path:"menu/:category",component:wO},{path:"menu/:category/:id",component:yE},{path:"blog",component:TO},{path:"blog/:id",component:pE},{path:"about",component:xO},{path:"basket",component:bE},{path:"profile",component:(()=>{class t{constructor(t,e,n){this.modalService=t,this.storage=e,this.authService=n,this.CURRENT_USER=null,this.isLoaded=!1,this.modalSM="modal-sm\xa0modal-dialog-centered"}ngOnInit(){this.userCredential()}userCredential(){this.CURRENT_USER=JSON.parse(localStorage.getItem("user")),this.userFName=this.CURRENT_USER.firstName,this.userLName=this.CURRENT_USER.lastName,this.userEmail=this.CURRENT_USER.email,this.userPhoneNumber=this.CURRENT_USER.phoneNumber,this.userImage=this.CURRENT_USER.image}openModal(t,e){this.modalRef=this.modalService.show(t,{class:""+e})}uploadFile(t){const e=t.target.files[0],n=this.storage.ref("images/"+e.name).put(e);this.uploadPercent=n.percentageChanges(),n.then(t=>{this.storage.ref("images/"+t.metadata.name).getDownloadURL().subscribe(t=>{this.userImage=t,this.isLoaded=!0})})}updateUserData(){this.CURRENT_USER=JSON.parse(localStorage.getItem("user"));const t={image:this.userImage};this.authService.updateUserData(this.CURRENT_USER.id,t).then(()=>{this.updateLocal(t)}),this.isLoaded=!1,this.modalRef.hide()}updateLocal(t){const e=Object.assign(Object.assign({},this.CURRENT_USER),t);localStorage.setItem("user",JSON.stringify(e))}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(pi),r.Jb(XS),r.Jb(vE))},t.\u0275cmp=r.Db({type:t,selectors:[["app-profile"]],decls:21,vars:5,consts:[[1,"container"],[1,"profileHeader"],[1,"images"],["type","button",1,"edit",3,"click"],[1,"uil","uil-image-edit"],[1,"basicInfo"],["editImg",""],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true",1,"close"],[1,"modal-body"],[1,"input-group","mb-3"],[1,"custom-file"],["type","file","id","userImage",1,"custom-file-input",3,"change"],["for","userImage",1,"custom-file-label"],[1,"progress","mb-3"],["role","progressbar","aria-valuenow","0","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","bg-dark"],["class","alert alert-dark","role","alert",4,"ngIf"],["type","button",1,"btn","btn-dark",3,"click"],["role","alert",1,"alert","alert-dark"]],template:function(t,e){if(1&t){const t=r.Pb();r.Ob(0,"div",0),r.Ob(1,"div",1),r.Ob(2,"div",2),r.Kb(3,"img"),r.Ob(4,"div",3),r.Vb("click",(function(){r.kc(t);const n=r.ic(20);return e.openModal(n,e.modalSM)})),r.Kb(5,"i",4),r.Nb(),r.Nb(),r.Nb(),r.Ob(6,"div",5),r.Ob(7,"p"),r.sc(8,"Full name: "),r.Ob(9,"span"),r.sc(10),r.Nb(),r.Nb(),r.Ob(11,"p"),r.sc(12,"Email: "),r.Ob(13,"span"),r.sc(14),r.Nb(),r.Nb(),r.Ob(15,"p"),r.sc(16,"Phone number: "),r.Ob(17,"span"),r.sc(18),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.qc(19,wE,19,5,"ng-template",null,6,r.rc)}2&t&&(r.yb(3),r.zb("src",e.userImage,r.mc),r.yb(7),r.vc("",e.userFName," ",e.userLName,""),r.yb(4),r.tc(e.userEmail),r.yb(4),r.tc(e.userPhoneNumber))},directives:[Yn,en,Qn,st],pipes:[ft],styles:[".container[_ngcontent-%COMP%]{width:50%;height:50%;margin-top:50px;padding:0;border:1px solid #d3d3d3;border-radius:10px;box-shadow:0 0 3pt #d3d3d3;display:flex;flex-direction:column}.container[_ngcontent-%COMP%]   .profileHeader[_ngcontent-%COMP%]{height:80px;border-bottom:3px solid #d3d3d3;display:flex;justify-content:center;background-color:#d3d3d3;border-top-left-radius:10px;border-top-right-radius:10px}.container[_ngcontent-%COMP%]   .profileHeader[_ngcontent-%COMP%]   .images[_ngcontent-%COMP%]{width:100px;height:100px;position:relative}.container[_ngcontent-%COMP%]   .profileHeader[_ngcontent-%COMP%]   .images[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:30px;height:30px;background-color:#fff;position:absolute;top:75px;left:75px;border-radius:50%;text-align:center;line-height:30px;border:1px solid #d3d3d3}.container[_ngcontent-%COMP%]   .profileHeader[_ngcontent-%COMP%]   .images[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px;color:#000}.container[_ngcontent-%COMP%]   .profileHeader[_ngcontent-%COMP%]   .images[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:17px;width:100px;height:100px;border-radius:50%;box-shadow:0 0 3pt #000}.container[_ngcontent-%COMP%]   .basicInfo[_ngcontent-%COMP%]{padding-left:15px;margin-top:40px;margin-bottom:40px;width:100%;height:150px}.container[_ngcontent-%COMP%]   .basicInfo[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:22px;font-family:Cambria,Cochin,Georgia,Times,Times New Roman,serif;font-weight:700;font-style:italic}.container[_ngcontent-%COMP%]   .basicInfo[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:24px;font-weight:400;font-style:normal}@media screen and (max-width:1070px) and (min-width:700px){.container[_ngcontent-%COMP%]{width:70%}}@media screen and (max-width:720px) and (min-width:300px){.container[_ngcontent-%COMP%]{width:80%}}"]}),t})(),canActivate:[(()=>{class t{constructor(t){this.router=t}canActivate(t,e){return this.checkLogin()}checkLogin(){if(localStorage.getItem("user")){const t=JSON.parse(localStorage.getItem("user"));if("user"===t.role&&null!=t)return!0}this.router.navigateByUrl("home")}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(ka))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()]},{path:"admin",component:PO,canActivate:[(()=>{class t{constructor(t){this.router=t}canActivate(t,e){return this.checkLogin()}checkLogin(){if(localStorage.getItem("user")){const t=JSON.parse(localStorage.getItem("user"));if("admin"===t.role&&null!=t)return!0}this.router.navigateByUrl("home")}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(ka))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()],children:[{path:"category",component:yC},{path:"products",component:uE},{path:"blogs",component:fE}]},{path:"**",component:Za}];let CE=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},imports:[[Ha.forRoot(OE)],Ha]}),t})();const SE=function(){return["/admin"]};function EE(t,e){1&t&&(r.Ob(0,"a",6),r.sc(1,"admin"),r.Nb()),2&t&&r.dc("routerLink",r.ec(1,SE))}const TE=function(){return["/profile"]};function xE(t,e){if(1&t&&(r.Ob(0,"a",6),r.Kb(1,"img"),r.Nb()),2&t){const t=r.Xb();r.dc("routerLink",r.ec(2,TE)),r.yb(1),r.zb("src",t.userImage,r.mc)}}function kE(t,e){if(1&t){const t=r.Pb();r.Ob(0,"a",20),r.Vb("click",(function(){r.kc(t);const e=r.Xb(),n=r.ic(42);return e.openModal(n,e.modalLG)})),r.sc(1,"sign up"),r.Nb()}}function IE(t,e){1&t&&(r.Ob(0,"span",21),r.sc(1,"|"),r.Nb())}function NE(t,e){if(1&t){const t=r.Pb();r.Ob(0,"a",20),r.Vb("click",(function(){r.kc(t);const e=r.Xb(),n=r.ic(40);return e.openModal(n,e.modalMD)})),r.sc(1,"log in"),r.Nb()}}function PE(t,e){if(1&t){const t=r.Pb();r.Ob(0,"a",20),r.Vb("click",(function(){return r.kc(t),r.Xb().signOUT()})),r.sc(1,"sign out"),r.Nb()}}function AE(t,e){if(1&t){const t=r.Pb();r.Ob(0,"div",22),r.Ob(1,"h4",23),r.sc(2,"Sign in"),r.Nb(),r.Ob(3,"button",24),r.Vb("click",(function(){return r.kc(t),r.Xb().modalRef.hide()})),r.Ob(4,"span",25),r.sc(5,"\xd7"),r.Nb(),r.Nb(),r.Nb(),r.Ob(6,"div",26),r.Ob(7,"div"),r.Ob(8,"form"),r.Ob(9,"div",27),r.Ob(10,"label",28),r.sc(11,"Email address"),r.Nb(),r.Ob(12,"input",29),r.Vb("ngModelChange",(function(e){return r.kc(t),r.Xb().userEmail=e})),r.Nb(),r.Nb(),r.Ob(13,"div",27),r.Ob(14,"label",30),r.sc(15,"Password"),r.Nb(),r.Ob(16,"input",31),r.Vb("ngModelChange",(function(e){return r.kc(t),r.Xb().userPassword=e})),r.Nb(),r.Nb(),r.Ob(17,"button",32),r.Vb("click",(function(){return r.kc(t),r.Xb().signIN()})),r.sc(18,"Sign In"),r.Nb(),r.Nb(),r.Nb(),r.Nb()}if(2&t){const t=r.Xb();r.yb(12),r.dc("ngModel",t.userEmail),r.yb(4),r.dc("ngModel",t.userPassword)}}function jE(t,e){1&t&&(r.Ob(0,"div",46),r.sc(1," File uploaded. Now you can add product. "),r.Nb())}function RE(t,e){if(1&t){const t=r.Pb();r.Ob(0,"div",22),r.Ob(1,"h4",23),r.sc(2,"Sign up"),r.Nb(),r.Ob(3,"button",24),r.Vb("click",(function(){return r.kc(t),r.Xb().modalRef.hide()})),r.Ob(4,"span",25),r.sc(5,"\xd7"),r.Nb(),r.Nb(),r.Nb(),r.Ob(6,"div",26),r.Ob(7,"div"),r.Ob(8,"form"),r.Ob(9,"div",27),r.Ob(10,"label",33),r.sc(11,"First name"),r.Nb(),r.Ob(12,"input",34),r.Vb("ngModelChange",(function(e){return r.kc(t),r.Xb().userFName=e})),r.Nb(),r.Nb(),r.Ob(13,"div",27),r.Ob(14,"label",35),r.sc(15,"Last name"),r.Nb(),r.Ob(16,"input",36),r.Vb("ngModelChange",(function(e){return r.kc(t),r.Xb().userLName=e})),r.Nb(),r.Nb(),r.Ob(17,"div",27),r.Ob(18,"label",37),r.sc(19,"Phone number"),r.Nb(),r.Ob(20,"input",38),r.Vb("ngModelChange",(function(e){return r.kc(t),r.Xb().userPhoneNumber=e})),r.Nb(),r.Nb(),r.Ob(21,"div",27),r.Ob(22,"label",28),r.sc(23,"Email address"),r.Nb(),r.Ob(24,"input",29),r.Vb("ngModelChange",(function(e){return r.kc(t),r.Xb().userEmail=e})),r.Nb(),r.Nb(),r.Ob(25,"div",27),r.Ob(26,"label",30),r.sc(27,"Password"),r.Nb(),r.Ob(28,"input",31),r.Vb("ngModelChange",(function(e){return r.kc(t),r.Xb().userPassword=e})),r.Nb(),r.Nb(),r.Ob(29,"div",39),r.Ob(30,"div",40),r.Ob(31,"input",41),r.Vb("change",(function(e){return r.kc(t),r.Xb().uploadFile(e)})),r.Nb(),r.Ob(32,"label",42),r.sc(33,"Choose file"),r.Nb(),r.Nb(),r.Nb(),r.Ob(34,"div",43),r.Kb(35,"div",44),r.Yb(36,"async"),r.Nb(),r.qc(37,jE,2,0,"div",45),r.Ob(38,"button",32),r.Vb("click",(function(){return r.kc(t),r.Xb().signUP()})),r.sc(39,"Sign Up"),r.Nb(),r.Nb(),r.Nb(),r.Nb()}if(2&t){const t=r.Xb();r.yb(12),r.dc("ngModel",t.userFName),r.yb(4),r.dc("ngModel",t.userLName),r.yb(4),r.dc("ngModel",t.userPhoneNumber),r.yb(4),r.dc("ngModel",t.userEmail),r.yb(4),r.dc("ngModel",t.userPassword),r.yb(7),r.oc("width",r.Zb(36,8,t.uploadPercent)+"%"),r.yb(2),r.dc("ngIf",t.isLoaded)}}const ME=function(){return["/home"]},DE=function(){return["/menu/pizza"]},LE=function(){return["/menu/salad"]},FE=function(){return["/menu/drinks"]},VE=function(){return["/blog"]},UE=function(){return["/about"]},qE=function(){return["/basket"]};let BE=(()=>{class t{constructor(t,e,n,r){this.orderService=t,this.modalService=e,this.authService=n,this.storage=r,this.basket=[],this.totalPrice=0,this.modalLG="modal-lg modal-dialog-centered",this.modalSM="modal-sm\xa0modal-dialog-centered",this.isUser=!1,this.isAdmin=!1,this.isLoaded=!1}ngOnInit(){this.getLocalProducts(),this.checkMyBasket(),this.checkUserLogin(),this.checkLocalUser()}checkMyBasket(){this.orderService.basket.subscribe(t=>{this.basket=t,this.totalPrice=this.orderService.getTotal(this.basket)})}getLocalProducts(){localStorage.getItem("basket")&&(this.basket=JSON.parse(localStorage.getItem("basket")),this.totalPrice=this.orderService.getTotal(this.basket))}resetForm(){this.userEmail="",this.userPassword=""}signUP(){this.userEmail&&this.userPassword&&(this.authService.signUp(this.userFName,this.userLName,this.userPhoneNumber,this.userEmail,this.userPassword,this.userImage),this.resetForm(),this.modalRef.hide())}signIN(){this.userEmail&&this.userPassword&&(this.authService.signIn(this.userEmail,this.userPassword),this.resetForm(),this.modalRef.hide())}setUserImage(){if(localStorage.getItem("user")){const t=JSON.parse(localStorage.getItem("user"));this.userImage=t.image}}signOUT(){this.authService.signOut(),this.isLogin=!1,this.isAdmin=!1,this.isUser=!1}checkLocalUser(){localStorage.getItem("user")?(this.isLogin=!0,"admin"==JSON.parse(localStorage.getItem("user")).role?this.isAdmin=!0:this.isUser=!0,this.setUserImage()):(this.isLogin=!1,this.isAdmin=!1,this.isUser=!1)}checkUserLogin(){this.authService.checkSignIn.subscribe(()=>{this.checkLocalUser()})}openModal(t,e){this.modalRef=this.modalService.show(t,{class:""+e})}uploadFile(t){const e=t.target.files[0],n=this.storage.ref("images/"+e.name).put(e);this.uploadPercent=n.percentageChanges(),n.then(t=>{this.storage.ref("images/"+t.metadata.name).getDownloadURL().subscribe(t=>{this.userImage=t,this.isLoaded=!0})})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(yO),r.Jb(pi),r.Jb(vE),r.Jb(XS))},t.\u0275cmp=r.Db({type:t,selectors:[["app-header"]],decls:43,vars:21,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],["type","button","data-toggle","collapse","data-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],[1,"nav-item"],[1,"nav-link",3,"routerLink"],["routerLinkActive","active",1,"nav-item"],[1,"userSection"],[1,"headerSection","header-cart"],[1,"basket",3,"routerLink"],[1,"uil","uil-shopping-cart"],[1,"basketPrice"],[1,"signing"],[1,"navbar-nav"],["class","nav-link",3,"routerLink",4,"ngIf"],["class","nav-link",3,"click",4,"ngIf"],["class","line",4,"ngIf"],["signIn",""],["signUp",""],[1,"nav-link",3,"click"],[1,"line"],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true",1,"close"],[1,"modal-body"],[1,"form-group"],["for","userEmail"],["name","userEmail","type","email","id","userEmail",1,"form-control",3,"ngModel","ngModelChange"],["for","userPassword"],["name","userPassword","type","password","id","userPassword",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-dark",3,"click"],["for","userFName"],["type","text","name","userFName","id","userFName",1,"form-control",3,"ngModel","ngModelChange"],["for","userLName"],["type","text","name","userLName","id","userLName",1,"form-control",3,"ngModel","ngModelChange"],["for","userPhoneNumber"],["type","text","name","userPhoneNumber","id","userPhoneNumber",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group","mb-3"],[1,"custom-file"],["type","file","id","userImage",1,"custom-file-input",3,"change"],["for","userImage",1,"custom-file-label"],[1,"progress","mb-3"],["role","progressbar","aria-valuenow","0","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","bg-dark"],["class","alert alert-dark","role","alert",4,"ngIf"],["role","alert",1,"alert","alert-dark"]],template:function(t,e){1&t&&(r.Ob(0,"header"),r.Ob(1,"nav",0),r.Ob(2,"button",1),r.Kb(3,"span",2),r.Nb(),r.Ob(4,"div",3),r.Ob(5,"ul",4),r.Ob(6,"li",5),r.Ob(7,"a",6),r.sc(8,"Home"),r.Nb(),r.Nb(),r.Ob(9,"li",7),r.Ob(10,"a",6),r.sc(11,"pizza"),r.Nb(),r.Nb(),r.Ob(12,"li",7),r.Ob(13,"a",6),r.sc(14,"salad"),r.Nb(),r.Nb(),r.Ob(15,"li",7),r.Ob(16,"a",6),r.sc(17,"drinks"),r.Nb(),r.Nb(),r.Ob(18,"li",5),r.Ob(19,"a",6),r.sc(20,"blog"),r.Nb(),r.Nb(),r.Ob(21,"li",5),r.Ob(22,"a",6),r.sc(23,"about"),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Ob(24,"div",8),r.Ob(25,"div",9),r.Ob(26,"a",10),r.Kb(27,"i",11),r.Ob(28,"span",12),r.sc(29),r.Nb(),r.Nb(),r.Nb(),r.Ob(30,"div",13),r.Ob(31,"div",14),r.qc(32,EE,2,2,"a",15),r.qc(33,xE,2,3,"a",15),r.Nb(),r.Ob(34,"div",13),r.qc(35,kE,2,0,"a",16),r.qc(36,IE,2,0,"span",17),r.qc(37,NE,2,0,"a",16),r.qc(38,PE,2,0,"a",16),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.qc(39,AE,19,2,"ng-template",null,18,r.rc),r.qc(41,RE,40,10,"ng-template",null,19,r.rc)),2&t&&(r.yb(7),r.dc("routerLink",r.ec(14,ME)),r.yb(3),r.dc("routerLink",r.ec(15,DE)),r.yb(3),r.dc("routerLink",r.ec(16,LE)),r.yb(3),r.dc("routerLink",r.ec(17,FE)),r.yb(3),r.dc("routerLink",r.ec(18,VE)),r.yb(3),r.dc("routerLink",r.ec(19,UE)),r.yb(4),r.dc("routerLink",r.ec(20,qE)),r.yb(3),r.uc("",e.totalPrice,"\u0433\u0440\u043d"),r.yb(3),r.dc("ngIf",e.isAdmin),r.yb(1),r.dc("ngIf",e.isUser),r.yb(2),r.dc("ngIf",!e.isLogin),r.yb(1),r.dc("ngIf",!e.isLogin),r.yb(1),r.dc("ngIf",!e.isLogin),r.yb(1),r.dc("ngIf",e.isLogin))},directives:[Na,Aa,st,Yn,en,Qn,Ke,tn,Zn],pipes:[ft],styles:["i[_ngcontent-%COMP%]{font-size:30px}i[_ngcontent-%COMP%], span[_ngcontent-%COMP%]{color:#fff}span[_ngcontent-%COMP%]{font-size:16px}#menuToggle[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:space-between;align-items:center}#menuToggle[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:60px;height:40px}h6[_ngcontent-%COMP%]{color:#dc3545;text-align:center}.checkUser[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.checkUser[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:5px;width:130px;height:50px}.basketPrice[_ngcontent-%COMP%]{color:#fff}.close[_ngcontent-%COMP%]{color:#000}.line[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.5);line-height:40px}input[_ngcontent-%COMP%]{height:40px}.basket[_ngcontent-%COMP%]{display:flex;flex-direction:column}.basket[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{height:32px}.basket[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;text-align:center}img[_ngcontent-%COMP%]{width:45px;height:45px;margin-left:10px;margin-right:8px;border-radius:50%}nav[_ngcontent-%COMP%]{position:relative}.signing[_ngcontent-%COMP%], .userSection[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;top:0;right:10px}.userSection[_ngcontent-%COMP%]{position:absolute}.signing[_ngcontent-%COMP%]{margin-left:10px;width:125px}.signing[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:0;color:hsla(0,0%,100%,.5)}.signing[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:hsla(0,0%,100%,.75)}.signing[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 7px}"]}),t})(),HE=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Db({type:t,selectors:[["app-footer"]],decls:4,vars:0,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],["href","#",1,"navbar-brand"]],template:function(t,e){1&t&&(r.Ob(0,"footer"),r.Ob(1,"nav",0),r.Ob(2,"a",1),r.sc(3,"Footer"),r.Nb(),r.Nb(),r.Nb())},styles:["footer[_ngcontent-%COMP%]{width:100%}"]}),t})(),zE=(()=>{class t{constructor(){this.title="AngularAdminBlog"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Db({type:t,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"main",2,"min-height","90vh","overflow","hidden"]],template:function(t,e){1&t&&(r.Kb(0,"app-header"),r.Ob(1,"main",0),r.Kb(2,"router-outlet"),r.Nb(),r.Kb(3,"app-footer"))},directives:[BE,ja,HE],styles:[""]}),t})();function GE(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function $E(t){switch(t.length){case 0:return new HO;case 1:return t[0];default:return new zO(t)}}function WE(t,e,n,r,i={},s={}){const o=[],a=[];let u=-1,c=null;if(r.forEach(t=>{const n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case MO:a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}l[r]=a}),r||a.push(l),c=l,u=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function KE(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&QE(n,"start",t)));break;case"done":t.onDone(()=>r(n&&QE(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&QE(n,"destroy",t)))}}function QE(t,e,n){const r=n.totalTime,i=JE(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function JE(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function XE(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function ZE(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let YE=(t,e)=>!1,tT=(t,e)=>!1,eT=(t,e,n)=>[];const nT=GE();(nT||"undefined"!=typeof Element)&&(YE=(t,e)=>t.contains(e),tT=(()=>{if(nT||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):tT}})(),eT=(t,e,n)=>{let r=[];if(n)r.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&r.push(n)}return r});let rT=null,iT=!1;function sT(t){rT||(rT=("undefined"!=typeof document?document.body:null)||{},iT=!!rT.style&&"WebkitAppearance"in rT.style);let e=!0;return rT.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in rT.style,!e&&iT)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in rT.style),e}const oT=tT,aT=YE,uT=eT;function cT(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let lT=(()=>{class t{validateStyleProperty(t){return sT(t)}matchesElement(t,e){return oT(t,e)}containsElement(t,e){return aT(t,e)}query(t,e,n){return uT(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new HO(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),hT=(()=>{class t{}return t.NOOP=new lT,t})();const dT="ng-enter",fT="ng-leave",pT="ng-trigger",gT=".ng-trigger",mT="ng-animating",bT=".ng-animating";function yT(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:vT(parseFloat(e[1]),e[2])}function vT(t,e){switch(e){case"s":return 1e3*t;default:return t}}function _T(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=vT(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=vT(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function wT(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function OT(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else wT(t,n);return n}function CT(t,e,n){return n?e+":"+n+";":""}function ST(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=CT(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=CT(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function ET(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=jT(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),GE()&&ST(t))}function TT(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=jT(e);t.style[n]=""}),GE()&&ST(t))}function xT(t){return Array.isArray(t)?1==t.length?t[0]:FO(t):t}const kT=new RegExp("{{\\s*(.+?)\\s*}}","g");function IT(t){let e=[];if("string"==typeof t){let n;for(;n=kT.exec(t);)e.push(n[1]);kT.lastIndex=0}return e}function NT(t,e,n){const r=t.toString(),i=r.replace(kT,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()});return i==r?t:i}function PT(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const AT=/-+([a-z0-9])/g;function jT(t){return t.replace(AT,(...t)=>t[1].toUpperCase())}function RT(t,e){return 0===t||0===e}function MT(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach((function(e){n[e]=LT(t,e)}))}}return e}function DT(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function LT(t,e){return window.getComputedStyle(t)[e]}const FT="*";function VT(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(BT(i,o)),"<"!=s[0]||i==FT&&o==FT||e.push(BT(o,i))}(t,n,e)):n.push(t),n}const UT=new Set(["true","1"]),qT=new Set(["false","0"]);function BT(t,e){const n=UT.has(t)||qT.has(t),r=UT.has(e)||qT.has(e);return(i,s)=>{let o=t==FT||t==i,a=e==FT||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?UT.has(t):qT.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?UT.has(e):qT.has(e)),o&&a}}const HT=new RegExp("s*:selfs*,?","g");function zT(t,e,n){return new GT(t).build(e,n)}class GT{constructor(t){this._driver=t}build(t,e){const n=new $T(e);return this._resetContextStyleTimingState(n),DT(this,xT(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(WT(t)){const e=t;Object.keys(e).forEach(t=>{IT(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=PT(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=DT(this,xT(t.animation),e);return{type:1,matchers:VT(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:KT(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>DT(this,t,e)),options:KT(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=DT(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:KT(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return QT(_T(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=QT(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||_T(r,e),QT(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:VO({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=VO(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==MO?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(WT(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=IT(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(WT(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(WT(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=u&&(r++,c=n.offset=u),o=o||c<0||c>1,s=s||c<a,a=c,i.push(c),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let l=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(c-1));const h=c-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return u.forEach((t,r)=>{const s=l>0?r==h?1:l*r:i[r],o=s*p;e.currentTime=d+f.delay+o,f.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:DT(this,xT(t.animation),e),options:KT(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:KT(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:KT(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(HT,"")),[t=t.replace(/@\*/g,gT).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,bT),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,XE(e.collectedStyles,e.currentQuerySelector,{});const o=DT(this,xT(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:KT(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:_T(t.timings,e.errors,!0);return{type:12,animation:DT(this,xT(t.animation),e),timings:n,options:null}}}class $T{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function WT(t){return!Array.isArray(t)&&"object"==typeof t}function KT(t){var e;return t?(t=wT(t)).params&&(t.params=(e=t.params)?wT(e):null):t={},t}function QT(t,e,n){return{duration:t,delay:e,easing:n}}function JT(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class XT{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const ZT=new RegExp(":enter","g"),YT=new RegExp(":leave","g");function tx(t,e,n,r,i,s={},o={},a,u,c=[]){return(new ex).buildKeyframes(t,e,n,r,i,s,o,a,u,c)}class ex{buildKeyframes(t,e,n,r,i,s,o,a,u,c=[]){u=u||new XT;const l=new rx(t,e,u,r,i,c,[]);l.options=a,l.currentTimeline.setStyles([s],null,l.errors,a),DT(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[JT(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?yT(n.duration):null,s=null!=n.delay?yT(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),DT(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=nx);const t=yT(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>DT(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?yT(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),DT(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return _T(e.params?NT(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?yT(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=nx);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),DT(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const c=u.currentTime;DT(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const nx={};class rx{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=nx,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new ix(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=yT(n.duration)),null!=n.delay&&(r.delay=yT(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=NT(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new rx(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=nx,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new sx(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(ZT,"."+this._enterClassName)).replace(YT,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class ix{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new ix(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||MO,this._currentKeyframe[t]=MO}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=MO})):OT(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=NT(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:MO),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=OT(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):r==MO&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?PT(t.values()):[],s=e.size?PT(e.values()):[];if(n){const t=r[0],e=wT(t);t.offset=0,e.offset=1,r=[t,e]}return JT(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class sx extends ix{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=OT(t[0],!1);a.offset=0,i.push(a);const u=OT(t[0],!1);u.offset=ox(o),i.push(u);const c=t.length-1;for(let r=1;r<=c;r++){let o=OT(t[r],!1);o.offset=ox((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return JT(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function ox(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class ax{}class ux extends ax{normalizePropertyName(t,e){return jT(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(cx[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const cx=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function lx(t,e,n,r,i,s,o,a,u,c,l,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:d}}const hx={};class dx{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,u,c){const l=[],h=this.ast.options&&this.ast.options.params||hx,d=this.buildStyles(n,o&&o.params||hx,l),f=a&&a.params||hx,p=this.buildStyles(r,f,l),g=new Set,m=new Map,b=new Map,y="void"===r,v={params:Object.assign(Object.assign({},h),f)},_=c?[]:tx(t,e,this.ast.animation,i,s,d,p,v,u,l);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),l.length)return lx(e,this._triggerName,n,r,y,d,p,[],[],m,b,w,l);_.forEach(t=>{const n=t.element,r=XE(m,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=XE(b,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&g.add(n)});const O=PT(g.values());return lx(e,this._triggerName,n,r,y,d,p,_,O,m,b,w)}}class fx{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=wT(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=NT(s,r,e)),n[t]=s})}}),n}}class px{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new fx(t.style,t.options&&t.options.params||{})}),gx(this.states,"true","1"),gx(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new dx(t,e,this.states))}),this.fallbackTransition=new dx(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function gx(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const mx=new XT;class bx{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=zT(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=WE(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=tx(this._driver,e,i,dT,fT,{},{},n,mx,r),s.forEach(t=>{const e=XE(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error("Unable to create the animation due to the following errors: "+r.join("\n"));o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,MO)})});const a=$E(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}listen(t,e,n,r){const i=JE(e,"","","");return KE(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const yx="ng-animate-queued",vx="ng-animate-disabled",_x=".ng-animate-disabled",wx=[],Ox={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Cx={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class Sx{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=wT(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const Ex="void",Tx=new Sx(Ex);class xx{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Rx(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=XE(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=XE(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(Rx(t,pT),Rx(t,"ng-trigger-"+e),a[e]=Tx),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new Ix(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(Rx(t,pT),Rx(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const u=new Sx(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),o[e]=u,a||(a=Tx),u.value!==Ex&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,u.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{TT(t,n),ET(t,r)})}return}const c=XE(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,u.value,t,u.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:u,player:s,isFallbackTransition:h}),h||(Rx(t,yx),s.onStart(()=>{Mx(t,yx)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),c.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,gT,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,Ex,r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&$E(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,s=this._engine.statesByElement.get(t)[r]||Tx,o=new Sx(Ex),a=new Ix(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:s,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==Ox||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){Rx(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=JE(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,KE(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class kx{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new xx(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(Nx(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!Nx(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Rx(t,vx)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Mx(t,vx))}removeNode(t,e,n,r){if(Nx(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return Nx(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,gT,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,bT,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return $E(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=Ox,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,_x)&&this.markElementAsDisabled(t,!1),this.driver.query(t,_x,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Rx(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?$E(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}_flushAnimations(t,e){const n=new XT,r=[],i=new Map,s=[],o=new Map,a=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=jx(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const n=dT+p++;f.set(e,n),t.forEach(t=>Rx(t,n))});const g=[],m=new Set,b=new Set;for(let N=0;N<this.collectedLeaveElements.length;N++){const t=this.collectedLeaveElements[N],e=t.__ng_removed;e&&e.setForRemoval&&(g.push(t),m.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>m.add(t)):b.add(t))}const y=new Map,v=jx(h,Array.from(m));v.forEach((t,e)=>{const n=fT+p++;y.set(e,n),t.forEach(t=>Rx(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>Mx(t,n))}),v.forEach((t,e)=>{const n=y.get(e);t.forEach(t=>Mx(t,n))}),g.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let N=this._namespaceList.length-1;N>=0;N--)this._namespaceList[N].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!l||!this.driver.containsElement(l,i),h=y.get(i),d=f.get(i),p=this._buildInstruction(t,n,d,h,c);if(p.errors&&p.errors.length)w.push(p);else{if(c)return e.onStart(()=>TT(i,p.fromStyles)),e.onDestroy(()=>ET(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>TT(i,p.fromStyles)),e.onDestroy(()=>ET(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>XE(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=u.get(e);r||u.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const O=new Map,C=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(C.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,O))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{XE(O,e,[]).push(t),t.destroy()})});const S=g.filter(t=>Lx(t,a,u)),E=new Map;Ax(E,this.driver,b,u,MO).forEach(t=>{Lx(t,a,u)&&S.push(t)});const T=new Map;d.forEach((t,e)=>{Ax(T,this.driver,new Set(t),a,"!")}),S.forEach(t=>{const e=E.get(t),n=T.get(t);E.set(t,Object.assign(Object.assign({},e),n))});const x=[],k=[],I={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(c.has(e))return s.onDestroy(()=>ET(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=I;if(C.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=C.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>C.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,O,i,T,E);if(s.setRealPlayer(n),t===I)x.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=$E(e)),r.push(s)}}else TT(e,o.fromStyles),s.onDestroy(()=>ET(e,o.toStyles)),k.push(s),c.has(e)&&r.push(s)}),k.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=$E(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let N=0;N<g.length;N++){const t=g[N],e=t.__ng_removed;if(Mx(t,fT),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,bT,!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?Dx(this,t,r):this.processLeaveNode(t)}return g.length=0,x.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),x}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==Ex;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,u=XE(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}TT(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,u=[],c=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new HO(e.duration,e.delay);const f=h!==a,p=function(t){const e=[];return function t(e,n){for(let r=0;r<e.length;r++){const i=e[r];i instanceof zO?t(i.players,n):n.push(i)}}(t,e),e}((n.get(h)||wx).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),g=i.get(h),m=s.get(h),b=WE(0,this._normalizer,0,e.keyframes,g,m),y=this._buildPlayer(e,b,p);if(e.subTimeline&&r&&l.add(h),f){const e=new Ix(t,o,h);e.setRealPlayer(y),u.push(e)}return y});u.forEach(t=>{XE(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>Rx(t,mT));const d=$E(h);return d.onDestroy(()=>{c.forEach(t=>Mx(t,mT)),ET(a,e.toStyles)}),l.forEach(t=>{XE(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new HO(t.duration,t.delay)}}class Ix{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new HO,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>KE(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){XE(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Nx(t){return t&&1===t.nodeType}function Px(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function Ax(t,e,n,r,i){const s=[];n.forEach(t=>s.push(Px(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=Cx,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>Px(t,s[a++])),o}function jx(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let s=i.get(e);if(s)return s;const o=e.parentNode;return s=n.has(o)?o:r.has(o)?1:t(o),i.set(e,s),s}(t);1!==e&&n.get(e).push(t)}),n}function Rx(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function Mx(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function Dx(t,e,n){$E(n).onDone(()=>t.processLeaveNode(e))}function Lx(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class Fx{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new kx(t,e,n),this._timelineEngine=new bx(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=zT(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new px(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=ZE(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=ZE(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Vx(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=qx(e[0]),e.length>1&&(r=qx(e[e.length-1]))):e&&(n=qx(e)),n||r?new Ux(t,n,r):null}let Ux=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&ET(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ET(this._element,this._initialStyles),this._endStyles&&(ET(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(TT(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(TT(this._element,this._endStyles),this._endStyles=null),ET(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function qx(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];Bx(i)&&(e=e||{},e[i]=t[i])}return e}function Bx(t){return"display"===t||"position"===t}const Hx="animation",zx="animationend";class Gx{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=Xx(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),Jx(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Qx(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){$x(this._element,this._name,"paused")}resume(){$x(this._element,this._name,"running")}setPosition(t){const e=Wx(this._element,this._name);this._position=t*this._duration,Jx(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Qx(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=Xx(t,"").split(","),r=Kx(n,e);r>=0&&(n.splice(r,1),Jx(t,"",n.join(",")))}(this._element,this._name))}}function $x(t,e,n){Jx(t,"PlayState",n,Wx(t,e))}function Wx(t,e){const n=Xx(t,"");return n.indexOf(",")>0?Kx(n.split(","),e):Kx([n],e)}function Kx(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function Qx(t,e,n){n?t.removeEventListener(zx,e):t.addEventListener(zx,e)}function Jx(t,e,n,r){const i=Hx+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function Xx(t,e){return t.style[Hx+e]}class Zx{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Gx(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:LT(this.element,n))})}this.currentSnapshot=t}}class Yx extends HO{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=cT(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class tk{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return sT(t)}matchesElement(t,e){return oT(t,e)}containsElement(t,e){return aT(t,e)}query(t,e,n){return uT(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>cT(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=i+"}\n"}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(t,e,n,r,i,s=[],o){o&&this._notifyFaultyScrubber();const a=s.filter(t=>t instanceof Zx),u={};RT(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=MT(t,e,u));if(0==n)return new Yx(t,c);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const d=Vx(t,e),f=new Zx(t,e,l,n,r,i,c,d);return f.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),f}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class ek{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:LT(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class nk{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(rk().toString()),this._cssKeyframesDriver=new tk}validateStyleProperty(t){return sT(t)}matchesElement(t,e){return oT(t,e)}containsElement(t,e){return aT(t,e)}query(t,e,n){return uT(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const u={},c=s.filter(t=>t instanceof ek);RT(n,r)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const l=Vx(t,e=MT(t,e=e.map(t=>OT(t,!1)),u));return new ek(t,e,a,l)}}function rk(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let ik=(()=>{class t extends RO{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.Q.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?FO(t):t;return ak(this._renderer,null,e,"register",[n]),new sk(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.E),r.Sb(a))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();class sk extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new ok(this._id,t,e||{},this._renderer)}}class ok{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return ak(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function ak(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const uk="@",ck="@.disabled";let lk=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new hk("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new dk(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.E),r.Sb(Fx),r.Sb(r.z))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();class hk{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==uk&&e==ck?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class dk extends hk{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==uk?"."==e.charAt(1)&&e==ck?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==uk){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return i.charAt(0)!=uk&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let fk=(()=>{class t extends Fx{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a),r.Sb(hT),r.Sb(ax))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();const pk=[{provide:hT,useFactory:function(){return"function"==typeof rk()?new nk:new tk}},{provide:new r.q("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:RO,useClass:ik},{provide:ax,useFactory:function(){return new ux}},{provide:Fx,useClass:fk},{provide:r.E,useFactory:function(t,e,n){return new lk(t,e,n)},deps:[Dt,Fx,r.z]}];let gk=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:pk,imports:[Xt]}),t})(),mk=(()=>{class t{}return t.\u0275mod=r.Hb({type:t,bootstrap:[zE]}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[],imports:[[Xt,CE,Fe,er,YS,eu.a.initializeApp(i),ur.forRoot(),gi.forRoot(),mi.forRoot(),eO,mO,hC.forRoot(),gk]]}),t})();Object(r.S)(),Qt().bootstrapModule(mk).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return u}));var r=n("7o/Q"),i=n("HDdC"),s=n("SeVD");class o extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(s.a)(t)(e)}}},[[0,0]]]);